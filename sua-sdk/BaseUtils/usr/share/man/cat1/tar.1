tar(1)                                                                  tar(1)

NNAAMMEE
     ttaarr - tape archiver

SSYYNNOOPPSSIISS
     ttaarr [-]{crtux}[befhjmopqsvwyzHLNOPQXZ] [_b_l_o_c_k_s_i_z_e] [_a_r_c_h_i_v_e]
         [_r_e_p_l_s_t_r] [--CC _d_i_r_e_c_t_o_r_y] [--II _f_i_l_e] [_f_i_l_e _._._.]

DDEESSCCRRIIPPTTIIOONN
     The ttaarr command creates, adds files to, or extracts files from an archive
     file in ``tar'' format.  A tar archive is often stored on a magnetic
     tape, but can be stored equally well on a floppy, CD-ROM, or in a regular
     disk file. Files in the newer USTAR (POSIX.2 standard) and the older
     (BSD 4.3) formats can be read and written. More detailed information is
     with the ppaaxx(1) manual page.

     When the leading ``-'' is not used then the options are treated as 
     historical flags which have more flexible rules for operation order that
     may not result in a usage error that current option rules will. The
     synopsis above lists the operand for historical flags. For current option
     rules option arguments must immediate follow the option.

     One of the following flags must be present:

     --cc            Create new archive, or overwrite an existing archive,
                   adding the specified files to it.

     --rr            Append the named new files to existing archive.  Note that
                   this will only work on media on which an end-of-file mark
                   can be overwritten.

     --tt            List contents of archive.  If any files are named on the
                   command line, only those files will be listed.

     --uu            Alias for --rr.

     --xx            Extract files from archive.  If any files are named on the
                   command line, only those files will be extracted from the
                   archive.  If more than one copy of a file exists in the
                   archive, later copies will overwrite earlier copies during
                   extraction.  The file mode and modification time are pre-
                   served if possible.  The file mode is subject to modifica-
                   tion by the umask(2).

     In addition to the flags mentioned above, any of the following flags may
     be used:

     --bb _b_l_o_c_k_i_n_g _f_a_c_t_o_r
                   Set blocking factor to use for the archive.  ttaarr uses 512
                   byte blocks.  The default is 20, the maximum is 126.
                   Archives with a blocking factor larger than 63 violate the
                   POSIX standard and will not be portable to all systems.

     --ee            Stop after the first error.

     --ff _a_r_c_h_i_v_e    Filename where the archive is stored.  Defaults to
                   _/_d_e_v_/_t_a_p_e_0.

     --hh            Follow symbolic links as if they were normal files or
                   directories.  In extract mode this means that a directory
                   entry in the archive will not overwrite an existing sym-
                   bolic link, but rather what the link ultimately points to.

     --jj            Same as option --yy.  Compress archive using bzip2.

     --ll            Report files that are symbolic links that do not resolve to
                   existing files.  By default no message is provided.

     --mm            Do not preserve modification time.

     --OO            Write old-style (non-POSIX) archives.

     --oo            Extracted files will have the user and group id's of the
                   performing the extraction. This is the default action for
                   ttaarr and is provided for the standards.

     --pp            Preserve user and group ID as well as file mode regardless
                   of the current umask(2).  The setuid and setgid bits are
                   only preserved if the user is the superuser.  Only meaning-
                   ful in conjunction with the --xx flag.

     --qq            Select the first archive member that matches each _p_a_t_t_e_r_n
                   operand.  No more than one archive member is matched for
                   each _p_a_t_t_e_r_n.  When members of type directory are matched,
                   the file hierarchy rooted at that directory is also
                   matched.

     --ss _r_e_p_l_s_t_r    Modify the file or archive member names specified by the
                   _p_a_t_t_e_r_n or _f_i_l_e operands according to the substitution
                   expression _r_e_p_l_s_t_r, using the syntax of the ed(1) utility
                   regular expressions.  The format of these regular expres-
                   sions are:
                         /old/new/[gp]
                   As in ed(1), oolldd is a basic regular expression and nneeww can
                   contain an ampersand (&), \n (where n is a digit) back-ref-
                   erences, or subexpression matching.  The oolldd string may
                   also contain <newline> characters.  Any non-null character
                   can be used as a delimiter (/ is shown here).  Multiple --ss
                   expressions can be specified.  The expressions are applied
                   in the order they are specified on the command line, termi-
                   nating with the first successful substitution.  The
                   optional trailing gg continues to apply the substitution
                   expression to the pathname substring which starts with the
                   first character following the end of the last successful
                   substitution.  The first unsuccessful substitution stops
                   the operation of the gg option.  The optional trailing pp
                   will cause the final result of a successful substitution to
                   be written to standard error in the following format:
                         <original pathname> >> <new pathname>
                   File or archive member names that substitute to the empty
                   string are not selected and will be skipped.

     --vv            Verbose operation mode.

     --ww            Interactively rename files.  This option causes ttaarr to
                   prompt the user for the filename to use when storing or
                   extracting files in an archive.

     --yy            Compress archive using bzip2.

     --zz            Compress archive using gzip.

     --CC _d_i_r_e_c_t_o_r_y  This is a positional argument which sets the working direc-
                   tory for the following files.  When extracting, files will
                   be extracted into the specified directory; when creating,
                   the specified files will be matched from the directory.

     --HH            Follow symlinks given on command line only.

     --LL            Follow all symlinks.  In extract mode this means that a
                   directory entry in the archive will not overwrite an exist-
                   ing symbolic link, but rather what the link ultimately
                   points to.

     --NN            Display numeric uid and gid values when listing the con-
                   tents of an archive instead of displaying the user and
                   group names.  This is useful when evaluating the contents
                   of an archive in relationship to --pp.

     --PP            Do not strip leading slashes (`/') from pathnames. Note:
                   this is a change in behavior from the previous Interix
                   releases, but essential de facto on most systems.

     --QQ            Quiet warnings about files being archived without addi-
                   tional ACL information being stored in the archive. This
                   relates to S_ADDACE with stat(3) on Interix only.

     --II _f_i_l_e       This is a positional argument which reads the names of
                   files to archive or extract from the given file, one per
                   line.

     --XX            Do not cross mount points in the file system.

     --ZZ            Compress archive using compress.

EEXXAAMMPPLLEESS
     $$ ttaarr cc bboonnvvoollee sseekkvvee

     Creates an archive on the default tape drive, containing the files named
     _b_o_n_v_o_l_e and _s_e_k_v_e

     $$ ttaarr zzccff ffoorriirruu..ttaarr..ggzz bboonnvvoollee sseekkvvee

     Outputs a gzip(1) compressed archive containing the files _b_o_n_v_o_l_e and
     _s_e_k_v_e to a file called _f_o_r_i_r_u_._t_a_r_._g_z

     $$ ttaarr zzccvvff bbaacckkuupp..ttaarr..ggzz **..cc

     Verbosely creates an archive, called _b_a_c_k_u_p_._t_a_r_._g_z , of all files match-
     ing the shell glob(3) function _*_._c

     $$ ttaarr ttvvzzff bbaacckkuupp..ttaarr..ggzz ''**..jjppeegg''

     Verbosely lists, but does not extract, all files ending in _._j_p_e_g from an
     compressed archive named _b_a_c_k_u_p_._t_a_r_._g_z.  Note that the glob pattern has
     been quoted to avoid expansion by the shell.

     For more detailed examples, see pax(1)

DDIIAAGGNNOOSSTTIICCSS
     ttaarr will exit with one of the following values:

     0   All files were processed successfully.

     1   An error occurred.

     Whenever ttaarr cannot create a file or a link when extracting an archive or
     cannot find a file while writing an archive, or cannot preserve the user
     ID, group ID, file mode, or access and modification times when the --pp
     option is specified, a diagnostic message is written to standard error
     and a non-zero exit value will be returned, but processing will continue.
     In the case where ttaarr cannot create a link to a file, ttaarr will not create
     a second copy of the file.

     If the extraction of a file from an archive is prematurely terminated by
     a signal or error, ttaarr may have only partially extracted the file the
     user wanted.  Additionally, the file modes of extracted files and direc-
     tories may have incorrect file bits, and the modification and access
     times may be wrong.

     If the creation of an archive is prematurely terminated by a signal or
     error, ttaarr may have only partially created the archive which may violate
     the specific archive format specification.

FFIILLEESS
     /dev/tape0  default archive name

EENNVVIIRROONNMMEENNTT
     TMPDIR      Path in which to store temporary files.

     TAPE        Default tape device to use instead of _/_d_e_v_/_t_a_p_e_0.

SSEEEE AALLSSOO
     cpio(1), pax(1), stat(2),

NNOOTTEESS
     The --LL flag is not portable to other versions of ttaarr where it may have a
     different meaning.

     On many Unix (and similar) systems the UID's and GID's fit into a 16-bit
     value. On Interix some UID and GID values are larger than this using up
     to 32-bits. These UID and GID values larger than will fit in 16-bits
     overflow the ttaarr and _u_s_t_a_r archive formats. Therefore, for portability
     when values are too large the ID value of 32666 (decimal) will be used.

     You may see an error message with some extractions because of this (the
     ID cannot be preserved). However, using the _u_s_t_a_r format recording char-
     acter string representations of the GID's and UID's will eliminate this
     problem.

     When a file or directory is encountered that has additional ACL (Access
     Control List) information beyond the basic POSIX file permissions a warn-
     ing is printed along with the pathname. The additional ACL information
     cannot be stored in the archive. But this is not treated as an error and
     ttaarr continues to create the archive. The base cause of this warning is
     usually related to a file or directory having been created by a Win32
     application. You can supress the warning message with '-Q'.

     Archive files with leading slashes will have the slashes removed which is
     not historical practice, but is current de facto practice for security.


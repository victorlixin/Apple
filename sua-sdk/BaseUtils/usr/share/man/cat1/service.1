service(1)                                                   service(1)

  sseerrvviiccee

  NNAAMMEE

    service - administer a Subsystem for UNIX-based Applications service

  SSYYNNOOPPSSIISS

    service grant [[domain+]]user
    service help [[subcommand]]
    service install [[-n name]] [[-d displayname]] [[-u [[domain+]]user]]
            [[-p password]] [[-s starttype]] pathname [[args...]]
    service list [[-a]]
    service remove name
    service revoke [[domain+]]user
    service start service
    service stop service
    service update -n name [[-g group]] [[-d displayname]]
            [[-u [[domain+]]user]] [[-p password]] [[-s starttype]]
            [[[[-D dependency]] ...... ]] [[[[-G groupdepend]] ...... ]]

  DDEESSCCRRIIPPTTIIOONN

    The sseerrvviiccee(1) utility installs and administers Subsystem for UNIX-based Applications programs being run
    as Windows services. You need Administrator privileges to run sseerrvviiccee(1)
    with any subcommands other than hheellpp or lliisstt.

    Each service has a name, which is unique on the system. The name is the
    base name of the command path name, or it can be specified when the
    service is installed by using the --nn option.

    For more information, and for guidelines on how to write a Subsystem for UNIX-based Applications service
    program, see Subsystem for UNIX-based Applications Overview in the Subsystem for UNIX-based Applications Help.

    The sseerrvviiccee(1) utility includes the following subcommands:
    ggrraanntt [domain++]user
        Grant the service-logon privilege to the specified user. Specify
        domain if the domain that user belongs to is not the same as domain of
        the user running the command. A user must possess the service-logon
        privilege if a service is be run as that user; otherwise, the service
        will not start. Note that the iinnssttaallll subcommand grants this privilege
        automatically if the --uu option is specified.
    iinnssttaallll [--nn name] [--dd displayname] [--uu [domain++]user] [--pp password] [--
    ss starttype] pathname [args...]
        Install the program specified by pathname as a service, with the
        specified arguments args. The pathname must be the absolute path name
        of a Subsystem for UNIX-based Applications executable residing on a local file system. If the
        program is on a network drive, the install will fail. (The Windows
        service controller runs under a privileged account that does not have
        access to networked file systems.) The iinnssttaallll options are explained
        later in this topic.
    lliisstt [--aa]
        List installed Subsystem for UNIX-based Applications services. If the --aa option is specified, both
        Win32 and Subsystem for UNIX-based Applications services will be listed.
    rreemmoovvee name
        Remove the specified service.
    rreevvookkee [domain++]user
        Revoke the service-logon privilege of the specified user. Specify
        domain if the domain that user belongs to is not the same as domain of
        the user running the command. (If a user name and password are
        supplied to the install subcommand, the user will be granted the
        service-logon privilege. The remove subcommand does not revoke this
        privilege, however.)
    ssttaarrtt name
        Start the service that has the specified name.
    ssttoopp name
        Stop (kill) the service with the specified name.
    uuppddaattee --nn name [--gg group] [--dd displayname] [--uu [domain++]user] [--
    pp password] [--ss starttype] [[--DD dependency] ...... ] [[--GG groupdepend] ...... ]
        Update the configuration for the service with the name name. The
        following options are recognized:
        --DD dependency
            The service has (or should have) a dependency on the service
            identified by dependency.
        --dd displayname
            Set the name displayed in the service control panel to
            displayname.
        --GG groupdepend
            Name of the load order group upon which this service depends.
        --gg group
            The load order group to which this service belongs. By default,
            all services load at the same time, which can cause contention for
            resources that slows boots. By assigning some services to a
            different load order group, the system startup can be made more
            orderly.
        --nn name
            The name of the service. This is required.
        --pp password
            User's password.
        --ss starttype
            Set the service's start type to be either aauuttoo (start up
            automatically at boot time) or mmaannuuaall. Because there should be no
            Subsystem for UNIX-based Applications processes running when you install an update of Subsystem for UNIX-based Applications,
            it is useful to reset the service startup types to manual first,
            and then reboot.
        --uu [domain++]user
            The name of the user running the service. Specify domain if the
            domain that user belongs to is not the same as domain of the user
            running the command.

    When installing a service, the following options are recognized:
    --dd displayname
        Display the name displayname in Services in the Administrative Tools
        folder within Control Panel. The display name defaults to the name
        specified by the --nn option.
    --nn name
        Give the service the specified name. The name defaults to the base
        name of the service program's path name. Each installed service must
        have a unique name.
    --pp passwd
        The password for the user.
    --ss starttype
        Start the service as the specified starttype, which is one of auto
        (start the service at boot time) or manual (start only on request).
    --uu [domain++]user
        Run service with the permissions of user. Specify domain if the domain
        that user belongs to is not the same as domain of the user running the
        command. If a user is specified, a password must also be supplied. If
        no user is specified, the service runs as the built-in user
        LocalSystem, and no password is required.

  EEXXIITT SSTTAATTUUSS

    The sseerrvviiccee(1) utility returns 0 on success and >0 on failure. It is not a
    failure if the service does not start.

  FFIILLEESS

    The sseerrvviiccee(1) command makes use of the following files:

    $$SSYYSSTTEEMMRROOOOTT//ssyysstteemm3322//ppssxxrruunn..eexxee
        The Win32 program that mediates between the Subsystem for UNIX-based Applications and Win32 service
        mechanisms. SYSTEMROOT is the installed directory for Windows,
        typically CC::\\WWIINNNNTT.

  NNOOTTEESS

    As mentioned above, services do not have access to networked file systems.
    Services cannot automatically mount drives. A user logged in through a
    service (such as tteellnneettdd(1)), has access to any drives mounted by the
    current user sitting at the physical console, using their mappings
    (subject to the usual permissions). Because these mappings change from
    user to user, it is best not to rely on the existence of any networked
    drives.

    It is also best not to try to mount the drive while logged in through
    tteellnneett(1), for example, because this makes the drive unavailable to users
    at the physical console and has unpleasant interactions with the Win32
    login program. Do not use NNEETT..EEXXEE from a tteellnneett(1) session.


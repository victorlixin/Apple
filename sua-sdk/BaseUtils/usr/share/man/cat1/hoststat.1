hoststat(1)                                                 hoststat(1)

  sseennddmmaaiill

  NNAAMMEE

    sendmail - an electronic mail transport agent

  SSYYNNOOPPSSIISS

    /usr/sbin/sendmail [[flag[[......]]]] [[address[[......]]]] [[-v]]
    /usr/sbin/hoststat
    /usr/sbin/purgestat

  DDEESSCCRRIIPPTTIIOONN

    The sseennddmmaaiill utility sends a message to one or more recipients identified
    by address, routing the message over whatever networks are necessary. The
    sseennddmmaaiill utility does internetwork forwarding as necessary to deliver the
    message to the correct destination.

    The sseennddmmaaiill utility is not intended as a user interface routine; other
    programs provide user-friendly front ends. The sseennddmmaaiill utility is used
    only to deliver preformatted messages.

    The --bbdd and --bbDD flags are not supported in this version of Subsystem for UNIX-based Applications.

    With no flags, sseennddmmaaiill reads its standard input up to an end-of-file or a
    line consisting only of a single dot and sends a copy of the message found
    there to all of the addresses listed. It determines one or more networks
    to use based on the syntax and contents of the addresses.

    Local addresses are looked up in a file and aliased appropriately.
    Aliasing can be prevented by preceding the address with a backslash (\\).
    Beginning with 8.10, the sender is included in any alias expansions. For
    instance, if 'john' sends to 'group', and 'group' includes 'john' in the
    expansion, the letter will also be delivered to 'john'.

    In aliases, the first character of a name can be a vertical bar (||) to
    cause interpretation of the rest of the name as a command to pipe the mail
    to. It might be necessary to quote the name to keep sseennddmmaaiill from
    suppressing the blanks from between arguments. For example, a common alias
    is as follows:

    msgs: "|/usr/bin/msgs -s"

    Aliases can also have the syntax ::iinncclluuddee::filename to ask sseennddmmaaiill to read
    the named file for a list of recipients. For example, an alias such as the
    following would read //uussrr//llooccaall//lliibb//ppooeettss..lliisstt for the list of addresses
    making up the group:

    poets: ":include:/usr/local/lib/poets.list"

    If invoked as hhoossttssttaatt, sseennddmmaaiill will print the persistent host status
    database. If invoked as ppuurrggeessttaatt, sseennddmmaaiill will purge expired entries
    from the persistent host status database.

  FFllaaggss
    --BBtype
        Set the body type to type. Current legal values 7BIT or 8BITMIME.

    --bbaa
        Go into ARPANET mode. All input lines must end with a CR-LF, and all
        messages will be generated with a CR-LF at the end. Also, the "From:
        " and "Sender:" fields are examined for the name of the sender.

    --bbdd
        Run as a daemon. This requires Berkeley interprocess communication
        (IPC). The sseennddmmaaiill utility will fork and run in background, listening
        on socket 25 for incoming Simple Mail Transfer Protocol (SMTP)
        connections. By default, sseennddmmaaiill will also listen on socket 587 for
        RFC2476 message submission. This is normally run from //eettcc//rrcc.

    --bbDD
        Same as --bbdd except runs in foreground.

    --bbhh
        Print the persistent host status database.

    --bbHH
        Purge expired entries from the persistent host status database.

    --bbii
        Initialize the alias database.

    --bbmm
        Deliver mail in the usual way (default).

    --bbpp
        Print a listing of the queue.

    --bbss
        Use the SMTP protocol as described in RFC821 on standard input and
        output. This flag implies all the operations of the --bbaa flag that are
        compatible with SMTP.

    --bbtt
        Run in address test mode. This mode reads addresses and shows the
        steps in parsing; it is used for debugging configuration tables.

    --bbvv
        Verify names only; do not try to collect or deliver a message. Verify
        mode is normally used for validating users or mailing lists.
    --CCfile
        Use alternate configuration file. The sseennddmmaaiill utility will not run as
        root if an alternate configuration file is specified.
    --ddX
        Set debugging value to X.
    --FFfullname
        Set the full name of the sender.
    --ffname
        Sets the name of the "from" person (that is, the envelope sender of
        the mail). This address can also be used in the From: header if that
        header is missing during initial submission. The envelope sender
        address is used as the recipient for delivery status notifications and
        can also appear in a Return-Path: header. --ff should only be used by
        trusted users (normally, root, daemon, and network) or if the person
        you are trying to become is the same as the person you are. Otherwise,
        an X-Authentication-Warning header will be added to the message.

    --GG
        Relay (gateway) submission of a message, such as when rrmmaaiill calls
        sseennddmmaaiill.
    --hhN
        Set the hop count to N. The hop count is incremented every time the
        mail is processed. When it reaches a limit, the mail is returned with
        an error message, the victim of an aliasing loop. If not specified,
        Received: lines in the message are counted.

    --ii
        Ignore dots alone on lines by themselves in incoming messages. This
        should be set if you are reading data from a file.
    --LL tag
        Set the identifier used in syslog messages to the supplied tag.
    --NN dsn
        Set delivery status notification conditions to dsn, which can be
        'never' for no notifications or a comma-separated list of the values
        'failure' to be notified if delivery failed, 'delay' to be notified if
        delivery is delayed, and 'success' to be notified when the message is
        successfully delivered.

    --nn
        Do not do aliasing.
    --OO option=value
        Set option option to the specified value. This form uses long names.
    --oox value
        Set option x to the specified value. This form uses single character
        names only. The short names are not described in this topic; see the
        Sendmail Installation and Operation Guide for details.
    --ppprotocol
        Set the name of the protocol used to receive the message. This can be
        a simple protocol name such as UUCP or a protocol and hostname, such
        as UUCP:ucbvax.
    --qq[time]
        Processed saved messages in the queue at given intervals. If time is
        omitted, process the queue once. Time is given as a tagged number,
        with 's' being seconds, 'm' being minutes, 'h' being hours, 'd' being
        days, and 'w' being weeks. For example, either '-q1h30m' or '-q90m'
        would set the timeout to one hour thirty minutes. If time is
        specified, sseennddmmaaiill will run in background. This option can be used
        safely with --bbdd.
    --qqIIsubstr
        Limit processed jobs to those containing substr as a substring of the
        queue identifier.
    --qqRRsubstr
        Limit processed jobs to those containing substr as a substring of one
        of the recipients.
    --qqSSsubstr
        Limit processed jobs to those containing substr as a substring of the
        sender.
    --RR return
        Set the amount of the message to be returned if the message bounces.
        The return parameter can be 'full' to return the entire message or
        'hdrs' to return only the headers. In the latter case, local bounces
        also return only the headers.
    --rrname
        An alternate and obsolete form of the --ff flag.

    --tt
        Read message for recipients. To:, Cc:, and Bcc: lines will be scanned
        for recipient addresses. The Bcc: line will be deleted before
        transmission.

    --UU
        Initial (user) submission. This should always be set when called from
        a user agent such as MMaaiill or eexxmmhh and never be set when called by a
        network delivery agent such as rrmmaaiill.
    --VV envid
        Set the original envelope identifier. This is propagated across SMTP
        to servers that support DSNs and is returned in DSN-compliant error
        messages.

    --vv
        Go into verbose mode. Alias expansions will be announced.
    --XX logfile
        Log all traffic in and out of mailers in the indicated log file. This
        should only be used as a last resort for debugging mailer bugs. It
        will log a lot of data very quickly.

    ----
        Stop processing command flags and use the rest of the arguments as
        addresses.

  OOPPTTIIOONNSS

    There are also a number of processing options that can be set. Normally,
    these will only be used by a system administrator. Options can be set
    either on the command line using the --oo flag (for short names), the --
    OO flag (for long names) or in the configuration file. This is a partial
    list limited to those options that are likely to be useful on the command
    line and only shows the long names. For a complete list (and details),
    consult the Sendmail Installation and Operation Guide.

    The options are:
    AAlliiaassFFiillee==file
        Use alternate alias file.

    HHoollddEExxppeennssiivvee
        On mailers that are considered expensive to connect to, do not
        initiate immediate connection. This requires queueing.
    CChheecckkppooiinnttIInntteerrvvaall==N
        Checkpoint the queue file after every N successful deliveries (the
        default is ten). This prevents excessive duplicate deliveries when
        sending to long mailing lists interrupted by system crashes.
    DDeelliivveerryyMMooddee==x
        Set the delivery mode to x. Delivery modes are `i' for interactive
        (synchronous) delivery; `b' for background (asynchronous) delivery;
        `q' for queue only - that is, actual delivery is done the next time
        the queue is run; and `d' for deferred, which is the same as `q'
        except that database lookups for maps that have set the -D option
        (default for the host map) are avoided.
    EErrrroorrMMooddee==x
        Set error processing to mode x. Valid modes are `m' to mail back the
        error message, `w' to write back the error message (or mail it back if
        the sender is not logged in), `p' to print the errors on the terminal
        (default), `q' to throw away error messages (only exit status is
        returned), and `e' to do special processing for the BerkNet. If the
        text of the message is not mailed back by modes `m' or `w', and if the
        sender is local to this computer, a copy of the message is appended to
        the file dead.letter in the sender's home directory.

    SSaavveeFFrroommLLiinnee
        Save UNIX-style From lines at the front of messages.
    MMaaxxHHooppCCoouunntt==N
        The maximum number of times a message is allowed to "hop" before we
        decide it is in a loop.

    IIggnnoorreeDDoottss
        Do not take dots on a line by themselves as a message terminator.

    SSeennddMMiimmeeEErrrroorrss
        Send error messages in MIME format. If not set, the DSN (Delivery
        Status Notification) SMTP extension is disabled.
    CCoonnnneeccttiioonnCCaacchheeTTiimmeeoouutt==timeout
        Set connection cache timeout.
    CCoonnnneeccttiioonnCCaacchheeSSiizzee==N
        Set connection cache size.
    LLooggLLeevveell==n
        The log level.
    MMeeTToooo==False
        Do not send to "me" (the sender) if I am in an alias expansion.

    CChheecckkAAlliiaasseess
        Validate the right-hand side of aliases during a nneewwaalliiaasseess(1)
        command.

    OOllddSSttyylleeHHeeaaddeerrss
        If set, this message might have old style headers. If not set, this
        message is guaranteed to have new style headers (that is, commas
        instead of spaces between addresses). If set, an adaptive algorithm is
        used that will correctly determine the header format in most cases.
    QQuueeuueeDDiirreeccttoorryy==queuedir
        Select the directory in which to queue messages.
    SSttaattuussFFiillee==file
        Save statistics in the named file.
    TTiimmeeoouutt..qquueeuueerreettuurrnn==time
        Set the timeout on undelivered messages in the queue to the specified
        time. After delivery has failed (for instance, because of a host being
        down) for this amount of time, failed messages will be returned to the
        sender. The default is five days.
    UUsseerrDDaattaabbaasseeSSppeecc==userdatabase
        If set, a user database is consulted to get forwarding information.
        You can consider this an adjunct to the aliasing mechanism, except
        that the database is intended to be distributed; aliases are local to
        a particular host. This might not be available if your sseennddmmaaiill does
        not have the USERDB option compiled in.

    FFoorrkkEEaacchhJJoobb
        Fork each job during queue runs. Might be convenient on memory-poor
        computers.

    SSeevveennBBiittIInnppuutt
        Strip incoming messages to seven bits.
    EEiigghhttBBiittMMooddee==mode
        Set the handling of eight-bit input to seven-bit destinations to mode:
        m (mimefy) will convert to seven-bit MIME format, p (pass) will pass
        it as eight bits (but violates protocols), and s (strict) will bounce
        the message.
    MMiinnQQuueeuueeAAggee==timeout
        Sets how long a job must ferment in the queue between attempts to send
        it.
    DDeeffaauullttCChhaarrSSeett==charset
        Sets the default character set used to label eight-bit data that is
        not otherwise labelled.
    DDiiaallDDeellaayy==sleeptime
        If opening a connection fails, sleep for sleeptime seconds and try
        again. Useful on dial-on-demand sites.
    NNooRReecciippiieennttAAccttiioonn==action
        Set the behavior when there are no recipient headers (To:, Cc: or Bcc:
        ) in the message to action: none leaves the message unchanged, add-to
        adds a To: header with the envelope recipients, add-apparently-to adds
        an Apparently-To: header with the envelope recipients, add-bcc adds an
        empty Bcc: header, and add-to-undisclosed adds a header reading `To:
        undisclosed-recipients:;'.
    MMaaxxDDaaeemmoonnCChhiillddrreenn==N
        Sets the maximum number of children that an incoming SMTP daemon will
        allow to spawn at any time to N.
    CCoonnnneeccttiioonnRRaatteeTThhrroottttllee==N
        Sets the maximum number of connections per second to the SMTP port to
        N.

  DDIIAAGGNNOOSSTTIICCSS

    The sseennddmmaaiill utility returns an exit status describing what it did. The
    codes are defined in <ssyysseexxiittss..hh>:

    EX_OK
        Successful completion on all addresses.

    EX_NOUSER
        Username not recognized.

    EX_UNAVAILABLE
        Catchall meaning necessary resources were not available.

    EX_SYNTAX
        Syntax error in address.

    EX_SOFTWARE
        Internal software error, including bad arguments.

    EX_OSERR
        Temporary operating system error, such as "cannot fork."

    EX_NOHOST
        Host name not recognized.

    EX_TEMPFAIL
        Message could not be sent immediately, but was queued.

  FFIILLEESS

    //eettcc//mmaaiill//aalliiaasseess
        Text file containing e-mail aliases; used by sseennddmmaaiill

    //eettccmmaaiill//hheellppffiillee
        Text file containing help information for sseennddmmaaiill; used by sseennddmmaaiill

    //eettcc//mmaaiill//sseennddmmaaiill..ccff
        Text file containing configuration file for sseennddmmaaiill

    //eettcc//mmaaiill//ssttaattiissttiiccss
        Data file containing statistical information about sseennddmmaaiill operations

  NNOOTTEESS

    Subsystem for UNIX-based Applications includes the sendmail package of
    utilities (version 8.12.8) as part of the base utilities. The primary
    purpose of including sendmail is to support scripting applications in
    which e-mail is sent by UNIX scripts that have been built using the tools
    included in Subsystem for UNIX-based Applications.

    Microsoft will support the use of sendmail only as an e-mail transport
    agent and not as a primary e-mail server. If you need an e-mail server, it
    is recommended that you use Microsoft Exchange Server.

    The sseennddmmaaiill utility often gets blamed for many problems that are actually
    the result of other problems, such as overly permissive modes on
    directories. For this reason, sseennddmmaaiill checks the modes on system
    directories and files to determine whether they can be trusted. Although
    these checks can be turned off and your system security reduced by setting
    the DontBlameSendmail option, the permission problems should be fixed. For
    more information, see:
    http://www.sendmail.org/tips/DontBlameSendmail.html

    By default, Subsystem for UNIX-based Applications does not execute files with the set-user-ID (setuid)
    or set-group-ID (setgid) mode bit set for security reasons. If an attempt
    is made to execute such a file, the ENOSETUID error is returned. For more
    information and and instructions for enabling execution of files with
    these mode bits set, see _T_h_e_ _s_u_p_e_r_u_s_e_r_ _a_c_c_o_u_n_t_ _a_n_d_ _a_p_p_r_o_p_r_i_a_t_e_ _p_r_i_v_i_l_e_g_e_s
    in the Subsystem for UNIX-based Applications Help.

  SSEEEE AALLSSOO

    _m_a_i_l_x(1)

    _p_o_p_p_e_r(1)

    _m_a_i_l_q(1)

    _n_e_w_a_l_i_a_s_e_s(1)

    _m_a_i_l_._l_o_c_a_l(1)

    _a_l_i_a_s_e_s(5)

    Sendmail Installation and Operation Guide, No. 8, SMM.


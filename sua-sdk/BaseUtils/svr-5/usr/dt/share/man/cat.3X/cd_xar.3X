

cd_xar(3X)                                             cd_xar(3X)

SSyynnooppssiiss
       cc [flag . . . ] file . . . -lcdfs -lgen [library] . . .

       #include <sys/cdrom.h>

       int  cd_xar(const  char  *path,  const  int  fsec,  struct
       iso9660_xar  *xar,       const  int  applen,   const   int
       esclen);

       int  cd_cxar(const  char *path, const int fsec, char *xar,
            const int xarlen);

DDeessccrriippttiioonn
       cd_xar fills xar with the contents of the  XAR  associated
       with  the  file  or  directory referred to by the argument
       path.  An XAR describes attributes of a file or  directory
       (such  as  the  user  ID,  group ID, or permissions) on an
       extent, a portion of a file on a CD-ROM.  An XAR  contains
       a  fixed-length  field  and  two  variable  length fields.
       CD_XARFIXL defines the length of the  fixed  part  of  the
       XAR.

       You can obtain the total number of an XAR's logical blocks
       with the cd_drec function.  You  can  obtain  the  Logical
       Block  Size  in  bytes  with the cd_pvd function.  File or
       directory in the CD-ROM file system.  Specifies  the  File
       Section  of that file.  The numbering starts with one.  If
       fsec is set to -1, the function reads the XAR of the  last
       File Section of the file.  Pointer to structure or charac-
       ter array where XAR is to be copied.  Bytes to  be  copied
       to  the  address.   specified  in  the  xar  structure  by
       app_use.  Bytes to be copied to the address  specified  in
       the  xar structure by esc_seq.  Bytes to be copied to xar.

RReettuurrnn vvaalluueess
       On success, cd_xar returns the number of bytes copied  for
       the variable part of the XAR.  On success, cd_cxar returns
       the number of bytes copied.   On  failure,  the  functions
       return  -1 and set errno to identify the error as follows:
       Read permission is denied on the mount  point,  or  search
       permission  is  denied  on  a  component of path.  Invalid
       address for the structure cd_defs or path.  A  signal  was
       caught  during  the  execution  of  one  of the functions.
       Invalid value for fsec or xarlen.  path points to  a  file
       or  directory that is outside the CD-ROM file system.  The
       maximum number of file descriptors are open.  The size  of
       path  exceeds  MAXPATHLEN, or the component of a path name
       is longer than  MAXNAMELEN  while  _POSIX_NO_TRUNC  is  in
       effect.   The  system  file  table is full.  path does not
       exist, the path argument points to an empty string, or the
       file section indicated by fsec has no XAR.  A component of
       path is not a directory.  CD-ROM is not in the drive or  a
       read error occurred.

                                                                1

cd_xar(3X)                                             cd_xar(3X)

RReeffeerreenncceess

                                                                2




cd_drec(3X)                                           cd_drec(3X)

SSyynnooppssiiss
       cc [flag . . . ] file . . . -lcdfs -lgen [library] . . .

       #include <sys/cdrom.h>

       int   cd_drec(const   char   *path,   int   fsec,   struct
       iso9660_drec *drec);

       int cd_cdrec(const char *path, int fsec, char *drec);

DDeessccrriippttiioonn
       cd_drec fills the drec structure with the contents of  the
       Directory  Record  associated  with  a  file  or directory
       referred to by path.

       cd_cdrec copies the complete Directory Record on  the  CD-
       ROM to the address drec.

       CD_MAXDRECL  defines  the  size  of  the Directory Record.
       File or directory in the CD-ROM  file  system.   Specifies
       the  File Section of the named file.  The numbering starts
       with one.  The number -1 denotes the last File Section  of
       the  named  file,  or  the  only File Section of the named
       directory.  Pointer to structure or character array  where
       Directory  Record  is  to  be copied.  The character array
       must contain at least CD_MAXDRECL bytes.

RReettuurrnn vvaalluueess
       On success, cd_drec returns a value of zero.  On  failure,
       cd_drec  returns  a value of -1 and sets errno to identify
       the error as follows:

       Read permission is denied on the directory  or  file  that
       path  points to, or search permission is denied for a com-
       ponent of path Invalid address for drec or  path.   Signal
       caught  during the execution of one of the functions.  The
       value of fsec is invalid, or path points to  directory  or
       file  outside  of  the CD-ROM file hierarchy.  The maximum
       number of file descriptors are open.   The  size  of  path
       exceeds  MAXPATHLEN,  or  the  component of a path name is
       longer than MAXNAMELEN while _POSIX_NO_TRUNC is in effect.
       The system file table is full.  path does not exist or the
       path argument points to an empty string.  A  component  of
       path  is  not  a directory.  A read error or the CD-ROM is
       not in the drive.

RReeffeerreenncceess

                                                                1


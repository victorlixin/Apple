

cd_ptrec(3X)                                         cd_ptrec(3X)

SSyynnooppssiiss
       cc [flag . . . ] file . . . -lcdfs -lgen [library] . . .

       #include <sys/cdrom.h>

       int   cd_ptrec(const   char  *path,  struct  iso9660_ptrec
       *ptrec);

       int cd_cptrec(const char *path, char *ptrec);

DDeessccrriippttiioonn
       cd_ptrec fills the ptrec structure with  the  contents  of
       the Path Table Record associated with a directory which is
       referred to by the path argument.

       cd_cptrec  copies  the  complete  Path  Table  Record   as
       recorded  on the CD-ROM to the address ptrec.  Points to a
       directory within the CD-ROM file  hierarchy.   Pointer  to
       structure or character array where Path Table Record is to
       be copied.  The characters must contain at least  CD_MAXP-
       TRECL bytes.

RReettuurrnn vvaalluueess
       On  success,  the  functions  return  a value of zero.  On
       failure, the functions return -1 and set errno to identify
       the  error  as  follows:  Read permission is denied on the
       mount point, or search permission is denied on a component
       of  path.  Invalid address of ptrec or path.  A signal was
       caught during the execution of one of the functions.  path
       points to a directory that is outside the CD-ROM file sys-
       tem.  The maximum number of  file  descriptors  are  open.
       The size of path exceeds MAXPATHLEN, or the component of a
       path name is longer than MAXNAMELEN while  _POSIX_NO_TRUNC
       is  in  effect.  The system file table is full.  path does
       not exist or the path argument points to an empty  string.
       path is not a directory.  Either a read error occurred, or
       the CD-ROM is not in the drive.

   RREEFFEERREENNCCEESS

                                                                1


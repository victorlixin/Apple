

cd_nmconv(3X)                                       cd_nmconv(3X)

SSyynnooppssiiss
       cc [flag . . . ] file . . . -lcdfs -lgen [library] . . .

       #include <sys/cdrom.h>

       int cd_nmconv(const char *path, int cmd, int *flag);

DDeessccrriippttiioonn
       cd_nmconv  sets  or gets the name conversion flag for file
       names on the mounted CD-ROM.  cd_nmconv provides a way  to
       make  the  CD-ROM  file  names  appear consistent with the
       names on the rest of the system.

       CD-ROM file identifiers take the following  format:  FILE-
       NAME.FILENAME_EXTENSION;VERSION

       where FILENAME and FILENAME_EXTENSION are alphanumeric and
       VERSION is a number.

       If the name conversion flag needs to be set, set it  after
       the  CD-ROM has been mounted, but before any CD-ROM access
       occurs.  If the command is executed while files are  open,
       the changes will not take effect until the file is closed.
       Mount point of a CD-ROM file system.  CD_SETNMCONV to  set
       the  conversion  flag  or CD_GETNMCONV to get the value of
       the conversion flag.  flag is a pointer to one of the fol-
       lowing:  No  conversion Convert characters in file identi-
       fiers to lower case.  If a file identifier doesn't contain
       a  filename  extension, don't display the period (.).  You
       may use CD_LOWER and CD_NOVERSION separately or  together.
       The version number and the semicolon (;) of a File Identi-
       fier are  not  represented.   You  may  use  CD_LOWER  and
       CD_NOVERSION separately or together.

RReettuurrnn vvaalluueess
       On  success,  cd_nmconv returns a value of zero.  On fail-
       ure, cd_nmconv returns -1 and sets errno to  identify  the
       error as follows:

       Read  permission  is  denied on the mount point, or search
       permission is denied on  a  component  of  path.   Invalid
       address  for flag or path.  A signal was caught during the
       execution of the cd_nmconv function.  The value of cmd  or
       flag  is  invalid,  or  path  argument does not point to a
       mount point of a CD-ROM file system.  The  maximum  number
       of  file  descriptors  are open.  The size of path exceeds
       MAXPATHLEN, or the component of a path name is longer than
       MAXNAMELEN while _POSIX_NO_TRUNC is in effect.  The system
       file table is full.  path does not exist or the path argu-
       ment  points  to  an empty string.  A component of path is
       not a directory.  User lacks write permission to set  val-
       ues.

                                                                1

cd_nmconv(3X)                                       cd_nmconv(3X)

RReeffeerreenncceess
       cdfs-specific

                                                                2




sem_getvalue(3pthread)                     sem_getvalue(3pthread)

SSyynnooppssiiss
       cc [options] -Kthread file

       #include <semaphore.h>

       int sem_getvalue(sem_t *sem, int *sval);

DDeessccrriippttiioonn
       sem_getvalue  updates  the  location referenced by sval to
       have the value of the semaphore referenced by sem  without
       affecting  the  state of the semaphore.  The updated value
       represents an actual semaphore value that occurred at some
       unspecified  time  during the call, but it need not be the
       actual value of the semaphore when it is returned  to  the
       calling process.

       If  sem is locked, then the value returned by sem_getvalue
       is either zero or a negative number whose  absolute  value
       represents the number of threads waiting for the semaphore
       at some unspecified time during the call.

RReettuurrnn vvaalluueess
       sem_getvalue returns a value of zero on  success.   Other-
       wise,  it returns a value of -1 and sets errno to indicate
       the error.

DDiiaaggnnoossttiiccss
       If the following  conditions  are  detected,  sem_getvalue
       returns  the  corresponding value: sem does not refer to a
       valid semaphore.

SSttaannddaarrddss ccoommpplliiaannccee
       The Single UNIX Specification, Version 2; The Open  Group.

RReeffeerreenncceess

                                                                1




pthread_once(3pthread)                     pthread_once(3pthread)

SSyynnooppssiiss
       cc [options] -Kthread file

       #include <pthread.h>

       int  pthread_once(pthread_once_t  *once_control,      void
       (*init_routine)  (void));  pthread_once_t  once_control  =
       PTHREAD_ONCE_INIT;

DDeessccrriippttiioonn
       pthread_once  performs dynamic library initialization in a
       multithreaded process, thus aiding in  the  reliable  con-
       struction  of  multithreaded  and  realtime  systems.  The
       first call to pthread_once by any  thread  in  a  process,
       with  a given once_control, will call init_routine with no
       arguments.  Subsequent calls of pthread_once with the same
       once_control  will  not call init_routine.  On return from
       pthread_once, it is guaranteed that init_routine has  com-
       pleted.   The  once_control parameter is used to determine
       whether the associated  initialization  routine  has  been
       called.

       The  function  pthread_once  is  not a cancellation point.
       However, if init_routine is a cancellation point  and  the
       calling  thread is canceled in init_routine, the effect on
       once_control is as if pthread_once was never called.

       The macro  PTHREAD_ONCE_INIT  is  defined  in  the  header
       <pthread.h>.

       The  behavior of pthread_once is undefined if once_control
       is not initialized by PTHREAD_ONCE_INIT.

       The once_control parameter is a pointer to  a  value  that
       indicates whether init_routine has been called.  init_rou-
       tine is a pointer  to  a  library-exported  initialization
       routine.

RReettuurrnn vvaalluueess
       pthread_once returns zero on success.  Otherwise, an error
       number is returned and no signal is sent.

DDiiaaggnnoossttiiccss
       pthread_once returns the following  value  if  the  corre-
       sponding  condition  is  detected:  once_control  is not a
       valid argument.

SSttaannddaarrddss CCoommpplliiaannccee
       The Single UNIX Specification, Version 2; The Open  Group.

RReeffeerreenncceess

                                                                1




pam_get_mapped_username(3pam_api)pam_get_mapped_username(3pam_api)

SSyynnooppssiiss
       #include <security/pam_appl.h>

       int pam_get_mapped_username (
               pam_handle_t *pamh,
               const char *src_username,
               const char *src_module_type,
               const char *src_authn_domain,
               const char *target_module_type,
               const char *target_authn_domain,
               char **target_module_username);

DDeessccrriippttiioonn
       For     a     given    input    identity,    src_username,
       pam_get_mapped_username obtains a matching identity,  tar-
       get_module_username, in a different domain.  The arguments
       target_module_type and  target_authn_domain  are  used  to
       look up target_module_username in the mapping database.

       This  function  takes  the  following  arguments: (In) The
       authentication handle returned by (In and out) The  source
       user name used when mapping.  The value is taken from pamh
       if this argument is set to null.  (In) Source  authentica-
       tion  type.   (In) Source domain.  (In) Target authentica-
       tion type.  (In) Target domain.  (Out)  Target  user  name
       matching src_username.

RReettuurrnn vvaalluueess
       pam_get_mapped_username returns PAM_SUCCESS if successful.
       Otherwise, it returns one of the  following  error  codes:
       Buffer error.  Conversation error.  Module domain not sup-
       ported for mapping.  Module type not  supported  for  map-
       ping.  An attempt to load a service module failed.  Access
       denied.  Reading or writing of data failed for mapping.  A
       service  module did not recognize a symbol.  System error.
       The service does not recognize the user.

                                                                1


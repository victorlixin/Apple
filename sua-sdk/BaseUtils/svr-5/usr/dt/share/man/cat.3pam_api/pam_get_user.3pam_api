

pam_get_user(3pam_api)                     pam_get_user(3pam_api)

SSyynnooppssiiss
       #include <security/pam_appl.h>

       int pam_get_user (
               pam_handle_t *pamh,
               char **user,
               const char *prompt);

DDeessccrriippttiioonn
       PAM  service modules call pam_get_user to extract the user
       name from the PAM handle, pamh.  If neither nor  has  been
       called  to  set  the  user name, the conversation function
       prompts for this value.  If the value of prompt  is  null,
       the  value PAM_USER_PROMPT (set by and obtained by is used
       to prompt the  user.   If  PAM_USER_PROMPT  is  null,  the
       default prompt used is ``Please enter user name:''.

       Once the conversation function has obtained the user name,
       pam_set_item is called to set PAM_USER.  Do not modify  or
       free  the returned user value.  The memory associated with
       this item will be released when is called.  This  function
       takes  the  following  arguments:  (In) The authentication
       handle returned by (Out) The user name obtained from pamh.
       (In)  A  prompt  to  be  used  to  obtain  a user name (if
       required).

RReettuurrnn vvaalluueess
       pam_get_user returns PAM_SUCCESS  if  successful.   Other-
       wise,  it returns one of the following error codes: Buffer
       error.  Conversation error.  System error.

                                                                1




getmntent(3G)                                       getmntent(3G)

SSyynnooppssiiss
       cc [flag . . . ] file . . . -lgen [library] . . .

       #include <stdio.h> #include <sys/mnttab.h>

       int getmntent(FILE *fp, struct mnttab *mp);

       int  getmntany(FILE  *fp, struct mnttab *mp, struct mnttab
       *mpref);

DDeessccrriippttiioonn
       getmntent and getmntany each fill in the structure pointed
       to  by  mp  with  the  broken-out  fields of a line in the
       /etc/mnttab file.  Each line in the file contains a mnttab
       structure,  declared  in the sys/mnttab.h header file.  It
       contains the  following  members:       char *mnt_special;
            char *mnt_mountp;                   char *mnt_fstype;
            char *mnt_mntopts;      char *mnt_time;

       If the fields have meaning, the meanings are described  in
       Fields  with  no valid information are set to point at the
       null string.

       getmntent returns a pointer to the next  mnttab  structure
       in the file; so successive calls can be used to search the
       entire file.  getmntany searches the file referenced by fp
       until  a  match  is  found  between a line in the file and
       mpref.  mpref matches the line if all non-null entries  in
       mpref  match  the  corresponding fields in the file.  Note
       that these routines do not  open,  close,  or  rewind  the
       file.

   FFiilleess
       /etc/mnttab

   RReettuurrnn vvaalluueess
       If  the  next entry is successfully read by getmntent or a
       match is found with getmntany, 0 is returned.  If an  end-
       of-file  is encountered on reading, these functions return
       -1.  If an error is encountered, a value greater than 0 is
       returned.

   EErrrroorrss
       The possible error values are:

       A  line  in  the file exceeded the internal buffer size of
       MNT_LINE_MAX.  A  line  in  the  file  contains  too  many
       fields.  A line in the file contains too few fields.

RReeffeerreenncceess
NNoottiicceess
       The  members  of the mnttab structure point to information
       contained in a static area, so it must be copied if it  is
       to be saved.

                                                                1


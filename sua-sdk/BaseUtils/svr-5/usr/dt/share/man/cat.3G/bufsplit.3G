

bufsplit(3G)                                         bufsplit(3G)

SSyynnooppssiiss
       cc [flag . . . ] file . . . -lgen [library] . . .

       #include <libgen.h>

       size_t bufsplit(char *buf, size_t n, char **a);

DDeessccrriippttiioonn
       bufsplit  examines  the buffer, buf, and assigns values to
       the pointer array, a, so that the pointers  point  to  the
       first  n  fields in buf that are delimited by tabs or new-
       lines.

       To change the characters used  to  separate  fields,  call
       bufsplit  with  buf  pointing to the string of characters,
       and n and a set to zero.  For example, to  use  ':',  '.',
       and  ','  as separators along with tab and new-line: bufs-
       plit(":.,\t\n", 0, (char**)0);

RReettuurrnn vvaalluueess
       The number of fields assigned in the array a.  If  buf  is
       zero, the return value is zero and the array is unchanged.
       Otherwise the value is at least one.  The remainder of the
       elements in the array are assigned the address of the null
       byte at the end of the buffer.

EExxaammpplleess
       /*
        * set a[0] = "This", a[1] = "is", a[2] = "a",
        * a[3] = "test"
        */ bufsplit("This\tis\ta\ttest\n", 4, a);

NNoottiicceess
       bufsplit changes the delimiters to null bytes in buf.

                                                                1




copylist(3G)                                         copylist(3G)

SSyynnooppssiiss
       cc [flag . . . ] file . . . -lgen [library] . . .

       #include <libgen.h>

       char *copylist(const char *filenm, off_t *szptr);

       char *copylist64(const char *filenm, off64_t *szptr);

DDeessccrriippttiioonn
       copylist  copies  a list of items from a file into freshly
       allocated memory, replacing new-lines  with  null  charac-
       ters.   It  expects two arguments: a pointer filenm to the
       name of the file to be copied, and a pointer  szptr  to  a
       variable where the size of the file will be stored.

       Upon  success,  copylist  returns  a pointer to the memory
       allocated.  Otherwise it returns NULL if  it  has  trouble
       finding the file, calling malloc, or opening the file.

RReeffeerreenncceess
NNoottiicceess
   CCoonnssiiddeerraattiioonnss ffoorr llaarrggee ffiillee ssuuppppoorrtt
       copylist64  supports large files, but is otherwise identi-
       cal to copylist.  For details  on  programming  for  large
       file capable applications, see on intro(2).

EExxaammpplleess
       /*  read  "file"  into buf */ off_t size; char *buf; buf =
       copylist("file", &size); for  (i  =  0;  i  <  size;  i++)
            if(buf[i])              putchar(buf[i]);         else
                 putchar('\n');

                                                                1


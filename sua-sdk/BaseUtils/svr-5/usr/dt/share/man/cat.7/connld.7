

connld(7)                                               connld(7)

DDeessccrriippttiioonn
       connld is a STREAMS-based module that provides unique con-
       nections between server and client processes.  It can only
       be  pushed  (see onto one end of a STREAMS-based pipe that
       may subsequently be attached to a name in the file  system
       name space.  After the pipe end is attached, a new pipe is
       created internally when an originating process attempts to
       or the file system name.  A file descriptor for one end of
       the new pipe is packaged into a message identical to  that
       for  the  ioctl I_SENDFD (see and is transmitted along the
       stream to the server process on the other end.  The origi-
       nating process is blocked until the server responds.

       The  server  responds to the I_SENDFD request by accepting
       the file descriptor through the  I_RECVFD  ioctl  message.
       When this happens, the file descriptor associated with the
       other end of the new pipe is transmitted to the  originat-
       ing  process  as  the file descriptor returned from the or
       system call.

       If the server does not respond to  the  I_SENDFD  request,
       the  stream  that  the  connld module is pushed on becomes
       uni-directional because the server will  not  be  able  to
       retrieve  any  data  off  the  stream  until  the I_RECVFD
       request is issued.  If the  server  process  exits  before
       issuing the I_RECVFD request, the or the system calls will
       fail and return -1 to the originating process.

       When the connld module is pushed  onto  a  pipe,  messages
       going  back  and  forth  through  the  pipe are ignored by
       connld.

       On success, an open of  connld  returns  0.   On  failure,
       errno  is set to the following values: A stream onto which
       connld is being pushed is not a pipe or the pipe does  not
       have  a write queue pointer pointing to a stream head read
       queue.  The other end of the pipe  onto  which  connld  is
       being  pushed  is  linked  under a multiplexor.  connld is
       being pushed onto a pipe end whose other end is no  longer
       there.   An  internal  pipe  could  not  be  created.   An
       M_HANGUP message is at the stream head of  the  pipe  onto
       which  connld  is  being pushed.  Internal data structures
       could not be allocated.  A file table entry could  not  be
       allocated.

RReeffeerreenncceess

                                                                1


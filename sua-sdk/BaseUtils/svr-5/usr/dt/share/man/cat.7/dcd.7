

DCD(7)                                                     DCD(7)

DDeessccrriippttiioonn
       The  DCD  subsystem consists of at least one DCD host con-
       troller card which has at least one logical unit  attached
       to it.

       The  DCD subsystem adds support for non-SCSI devices under
       SDI for use with related target drivers.   This  subsystem
       is  accessed  indirectly  by opening an appropriate target
       driver to access a target device that is  on  a  DCD  con-
       troller.

       It  is  also  possible  to access this subsystem using the
       pass-through driver.  To find the  appropriate  device  to
       use, while the device is being accessed through the target
       driver, use the B_GETDEV ioctl to get the major and  minor
       numbers  of the pass-though node.  This node can either be
       created or opened for use.

   iiooccttll ccaallllss
       All of the pass-through commands documented on the  manual
       page  are supported by this driver.  In addition, the fol-
       lowing commands  are  also  supported:  Return  the  pass-
       through  major and minor numbers to the calling utility to
       allow creation of a pass-through special device file.

       The following commands should  be  used  to  get  and  set
       device  geometry.   These  return  or accept the structure
       dsk_geom defined in the sdi.h header  file.   Return  host
       adapter's  idea  of the device geometry.  This is what the
       system uses during the boot sequence.   This  is  used  by
       certain  target  drivers.   Set the host adapter's idea of
       the device geometry.  Note that some host adapters do  not
       support  this  ioctl  and will result in an error.  Return
       the actual device geometry.  This is the actual as opposed
       to virtual device geometry.

       The  DCD driver halt routine that is executed during shut-
       down allows the controller enough time to flush  the  disk
       cache  (if  present)  to  disk.   Although two seconds are
       allowed for this flush, the actual  timeout  value  is  an
       external variable in the DCD space.c file.  You can modify
       this variable if a specific controller needs more time  to
       clear the cache.

FFiilleess
RReeffeerreenncceess

                                                                1


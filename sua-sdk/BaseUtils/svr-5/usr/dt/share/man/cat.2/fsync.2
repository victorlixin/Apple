

fsync(2)                                                 fsync(2)

SSyynnooppssiiss
       #include <unistd.h>

       int fsync(int fildes);

DDeessccrriippttiioonn
       fsync  moves all modified data and attributes of fildes to
       a storage device.  When fsync returns, all in-memory modi-
       fied  copies  of  buffers associated with fildes have been
       written to the physical medium.  fsync is  different  from
       sync,  which  schedules disk I/O for all files but returns
       before the I/O completes.

   RReettuurrnn vvaalluueess
       On success, fsync returns 0.  On failure, fsync returns -1
       and sets errno to identify the error.

   EErrrroorrss
       In  the  following  conditions, fsync fails and sets errno
       to: fildes is not a valid file descriptor open  for  writ-
       ing.   fildes  is on a remote machine and the link on that
       machine is no longer active.  A signal was  caught  during
       execution of the fsync system call.  An I/O error occurred
       while reading from or writing to the file system.

UUssaaggee
       fsync should be used by programs that require that a  file
       be in a known state.  For example, a program that contains
       a simple transaction facility might use  fsync  to  ensure
       that  all  changes  to  a  file or files caused by a given
       transaction were recorded on a storage medium.

RReeffeerreenncceess
NNoottiicceess
       The way the data reach the physical medium depends on both
       implementation  and  hardware.   fsync  returns  when  the
       device driver tells it that the write has taken place.

                                                                1


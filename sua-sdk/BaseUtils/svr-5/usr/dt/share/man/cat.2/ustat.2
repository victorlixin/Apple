

ustat(2)                                                 ustat(2)

SSyynnooppssiiss
       #include <sys/types.h> #include <ustat.h>

       int ustat(dev_t dev, struct ustat *buf);

DDeessccrriippttiioonn
       ustat  returns  information  about  a mounted file system.
       dev is a device number identifying a device  containing  a
       mounted  file  system  [see  buf  is  a pointer to a ustat
       structure   that   includes   the   following    elements:
       daddr_t   f_tfree;  /*     Total     free     blocks    */
       ino_t     f_tinode; /*   Number   of   free   inodes    */
       char f_fname[6];    /*        Filsys        name        */
       char f_fpack[6];    /* Filsys pack name */

RReettuurrnn vvaalluueess
       On success, ustat returns 0.  On failure, ustat returns -1
       and sets errno to identify the error.

       In  the  following  conditions, ustat fails and sets errno
       to: dev is not the device number of a device containing  a
       mounted  file  system.   buf  points outside the process's
       allocated address space.  A signal  was  caught  during  a
       ustat  system  call.   dev  is on a remote machine and the
       link to that machine is no longer active.   dev  is  on  a
       remote  machine  and the link to that machine is no longer
       active.

RReeffeerreenncceess
NNoottiicceess
       Although support for ustat is maintained  in  &geminiREL;,
       no  guarantees  are  made  for  its  behavior or continued
       availability.  Programmers are strongly encouraged to  use
       the replacement interface instead.

                                                                1


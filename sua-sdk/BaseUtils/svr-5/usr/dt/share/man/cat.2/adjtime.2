

adjtime(2)                                             adjtime(2)

SSyynnooppssiiss
       #include <sys/time.h>

       int  adjtime(struct  timeval  *delta, struct timeval *old-
       delta);

DDeessccrriippttiioonn
       adjtime adjusts the system's notion of the  current  time,
       as  returned by advancing or retarding it by the amount of
       time specified in the struct timeval pointed to by  delta.

       This call may be used in time servers that synchronize the
       clocks of computers in a local area  network.   Such  time
       servers  would  slow  down the clocks of some machines and
       speed up the clocks of others to bring them to the average
       network time.

       The  adjustment is effected by speeding up (if the adjust-
       ment is positive) or slowing down (if  the  adjustment  is
       negative)  the  system's  clock  by some small percentage,
       generally a fraction of one  percent;  the  clock  may  be
       speeded  up  at a faster rate for a large positive adjust-
       ment.  Thus, the time is always a monotonically increasing
       function.

       A  time correction from an earlier call to adjtime may not
       be finished when adjtime is called  again.   If  delta  is
       NULL,  then  olddelta  returns information on the previous
       adjtime call and there is no effect on the time correction
       as  a  result of this call.  If olddelta is not NULL, then
       the structure it points to contains, on return,  the  time
       still  to be corrected from the earlier call.  If olddelta
       is NULL, the information is not returned.

       Only a process with the appropriate  privilege  (P_SYSOPS)
       can adjust the time of day.

       The adjustment value is silently rounded to the resolution
       of the system clock.

   RReettuurrnn vvaalluueess
       On  success,  adjtime  returns  0.   On  failure,  adjtime
       returns -1 and sets errno to identify the error.

   EErrrroorrss
       In  the following conditions, adjtime fails and sets errno
       to: delta or olddelta points outside the  process's  allo-
       cated address space, or olddelta points to a region of the
       process's allocated address space that  is  not  writable.
       The  calling  process does not have the appropriate privi-
       lege (P_SYSOPS) to change the time of day.

RReeffeerreenncceess

                                                                1


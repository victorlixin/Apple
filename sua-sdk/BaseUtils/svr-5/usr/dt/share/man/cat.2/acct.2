

acct(2)                                                   acct(2)

SSyynnooppssiiss
       #include <unistd.h>

       int acct(const char *path);

DDeessccrriippttiioonn
       acct  enables  or  disables  the system process accounting
       routine.  If the routine is enabled, an accounting  record
       will  be  written  in  an accounting file for each process
       that terminates.  The termination  of  a  process  can  be
       caused by one of two things: an exit call or a signal [see
       and The calling process must have the  appropriate  privi-
       lege (P_SYSOPS) to enable or disable accounting.

       path points to a pathname naming the accounting file.  The
       accounting file format is given in

       The accounting routine is enabled if path is non-zero  and
       no errors occur during the system call.  It is disabled if
       path is (char *)NULL and no errors occur during the system
       call.

   RReettuurrnn vvaalluueess
       On  success,  acct returns 0.  On failure, acct returns -1
       and sets errno to identify the error.

   EErrrroorrss
       In the following conditions, acct fails and sets errno to:
       The  file  named  by path is not an ordinary file.  Search
       permission is denied on a component of  the  path  prefix.
       Write  permission  on the name file is denied.  An attempt
       is being made to enable accounting  using  the  same  file
       that  is  currently being used.  path points to an illegal
       address.  Too many  symbolic  links  were  encountered  in
       translating path.  The length of the path argument exceeds
       {PATH_MAX}, or the length  of  a  path  component  exceeds
       {NAME_MAX}  while  _POSIX_NO_TRUNC is in effect.  A compo-
       nent of the path prefix is not a directory.  One  or  more
       components  of  the accounting file pathname do not exist.
       The calling process does not have the  appropriate  privi-
       lege  (P_SYSOPS)  to  enable  or  disable accounting.  The
       named file resides on a read-only file system.

RReeffeerreenncceess
NNoottiicceess
   CCoonnssiiddeerraattiioonnss ffoorr tthhrreeaaddss pprrooggrraammmmiinngg
       Statistics are gathered at the process level and represent
       the combined usage of all contained threads.  The account-
       ing record is written on the termination of the process.

                                                                1




sysfs(2)                                                 sysfs(2)

SSyynnooppssiiss
       #include <sys/fstyp.h> #include <sys/fsid.h>

       int sysfs(int opcode, const char *fsname);

       int sysfs(int opcode, int fs_index, char *buf);

       int sysfs(int opcode);

DDeessccrriippttiioonn
       sysfs returns information about the file system types con-
       figured in the system.  The number of  arguments  accepted
       by  sysfs varies and depends on the opcode.  The currently
       recognized opcodes  and  their  functions  are:  Translate
       fsname,  a  null-terminated  file-system  type identifier,
       into a file-system  type  index.   Translate  fs_index,  a
       file-system type index, into a null-terminated file-system
       type identifier and write it into the buffer pointed to by
       buf;  this  buffer  must  be  at  least of size FSTYPSZ as
       defined in sys/fstyp.h.  Return the total number  of  file
       system types configured in the system.

RReettuurrnn vvaalluueess
       On  success,  sysfs  returns the file-system type index if
       the opcode is GETFSIND, 0 if the opcode  is  GETFSTYP,  or
       the  number  of file system types configured if the opcode
       is GETNFSTYP.

       On failure, sysfs returns -1 and sets  errno  to  identify
       the error.

       In  the  following  conditions, sysfs fails and sets errno
       to: fsname points to an  invalid  file-system  identifier;
       fs_index  is  zero, or invalid; opcode is invalid.  buf or
       fsname points to an invalid user address.

RReeffeerreenncceess

                                                                1


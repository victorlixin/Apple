

semget(2)                                               semget(2)

SSyynnooppssiiss
       #include   <sys/types.h>   #include  <sys/ipc.h>  #include
       <sys/sem.h>

       int semget(key_t key, int nsems, int semflg);

DDeessccrriippttiioonn
       semget returns the semaphore  identifier  associated  with
       key.   This identifier is accessible by any process in the
       system, subject to normal access restrictions and the per-
       missions set with semflg.

       A  semaphore  identifier and associated data structure and
       set containing nsems semaphores [see are created  for  key
       if  one of the following is true: key is equal to IPC_PRI-
       VATE.  key does not already have  a  semaphore  identifier
       associated with it, and (semflg&IPC_CREAT) is true.

       On  creation,  the  data structure associated with the new
       semaphore   identifier   is   initialized   as    follows:
       sem_perm.cuid,     sem_perm.uid,     sem_perm.cgid,    and
       sem_perm.gid are set equal to the effective  user  ID  and
       effective  group ID, respectively, of the calling process.
       The access permission bits of sem_perm.mode are set  equal
       to the access permission bits of semflg.  sem_nsems is set
       equal to the value of nsems.  sem_otime is set equal to  0
       and sem_ctime is set equal to the current time.

   RReettuurrnn vvaalluueess
       On  success, semget returns a non-negative integer, namely
       a semaphore identifier.  On failure, semget returns -1 and
       sets errno to identify the error.

   EErrrroorrss
       In  the  following conditions, semget fails and sets errno
       to: nsems is either less than or equal to zero or  greater
       than  the  system-imposed  limit.   A semaphore identifier
       exists for key, but operation permission [see as specified
       by the low-order 9 bits of semflg would not be granted.  A
       semaphore identifier exists for key,  but  the  number  of
       semaphores  in  the  set  associated  with it is less than
       nsems, and nsems is not equal to zero.  A semaphore  iden-
       tifier  does  not  exist for key and (semflg&IPC_CREAT) is
       false.  A semaphore identifier is to be  created  but  the
       system-imposed  limit  on  the  maximum  number of allowed
       semaphores or semaphore identifiers system wide  would  be
       exceeded.  A semaphore identifier is to be created but the
       system-imposed limit on  the  maximum  number  of  allowed
       semaphores  system  wide  would  be exceeded.  A semaphore
       identifier exists for key but both (semflg&IPC_CREAT)  and
       (semflg&IPC_EXCL) are both true.

                                                                1

semget(2)                                               semget(2)

RReeffeerreenncceess

                                                                2


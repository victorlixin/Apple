

cg_memloc(2)                                         cg_memloc(2)

SSyynnooppssiiss
       #include <sys/cguser.h>

       int cg_memloc(caddr_t addr, size_t len, cgid_t *vec);

DDeessccrriippttiioonn
       cg_memloc  returns  details of the current physical memory
       used to instantiate a portion  of  the  calling  process's
       address space.

       cg_memloc  returns  the primary memory residency status of
       pages in the address space  covered  by  mappings  in  the
       range [addr, addr + len]. The status is returned as a list
       of CPU-Group identifiers in the array referenced  by  *vec
       (which  the system assumes to be large enough to encompass
       all the pages in the address range).

       The addr parameter should be a  page-aligned  address.  If
       the  byte count len is not an integral number of pages, it
       will be treated as if it were rounded up to the next  page
       size   multiple.  The  page  size  can  be  obtained  from
       sysconf(_SC_PAGESIZE).

       If a page is present on a single CPU-Group, the (non-nega-
       tive) identifier of that CPU-Group is returned in the cor-
       responding location in the array referenced by *vec.

       If a page is not present on any  CPU-Group,  the  negative
       value CG_NONE is returned in the corresponding location in
       the array referenced by *vec.

       If neither case applies (for example, if a page is  repli-
       cated  across multiple CPU-Groups) an unspecified negative
       value is returned in the  corresponding  location  in  the
       array referenced by *vec.

RReettuurrnn vvaalluueess
       On  success,  cg_memloc  returns 0.  On failure, cg_memloc
       returns -1 and sets errno  to  indicate  the  error:  *vec
       includes   an   out-of-range   or  otherwise  inaccessible
       address.  addr is not a  multiple  of  the  page  size  as
       returned  by  The  argument  len  has a value less than or
       equal to 0.  The cg_memloc call is not  supported  by  the
       system.

RReeffeerreenncceess

                                                                1




modstat(2)                                             modstat(2)

SSyynnooppssiiss
       #include <sys/mod.h>

       int  modstat(int modid, struct modstatus *stbuf, boolean_t
       next_modid);

DDeessccrriippttiioonn
       modstat  allows  processes  with  privilege  P_LOADMOD  to
       obtain  information  about  the  currently loaded loadable
       kernel modules.  Any module that has been  loaded  by  the
       kernel  auto-load  mechanism  or  demand-loaded  by may be
       queried by modstat.

       When passed the module identifier modid, modstat fills  up
       the  members of the modstatus structure pointed to by str-
       buf with information about that module.

       If the value of next_modid is B_TRUE, modstat fills  up  a
       modstatus  structure  with  information  about  the module
       whose module identifier is greater than or equal to modid.

   RReettuurrnn vvaalluueess
       On  success,  modstat returns one or more modstatus struc-
       tures.  On failure, modstat returns -1 and sets  errno  to
       identify the error.

   EErrrroorrss
       In  the following conditions, modstat fails and sets errno
       to: modid does not match the identifier for any  currently
       loaded  module  when  next_modid  is  B_FALSE  or modid is
       greater than the identifier for any currently loaded  mod-
       ule  when  next_modid is B_TRUE.  The caller does not pos-
       sess  P_LOADMOD  privileges.   Unable   to   perform   the
       requested operation because the loadable modules functions
       are not configured into the system.

RReeffeerreenncceess

                                                                1


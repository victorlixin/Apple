

pkgmk(1)                                                 pkgmk(1)

SSyynnooppssiiss
       pkgmk [-o] [-c] [-d device] [-r rootpath] [-b basedir] [-l
       limit] [-B blocksize] [-a arch] [-v version]  [-p  pstamp]
       [-f prototype] [variable=value ...] [pkginst]

DDeessccrriippttiioonn
       pkgmk  produces an installable package to be used as input
       to the pkgadd command.  The package contents  will  be  in
       directory  structure format.  A package is a collection of
       related files and executables that  can  be  independently
       installed.

       The  command  uses the package prototype file as input and
       creates a pkgmap file.  The contents for each entry in the
       prototype  file  is copied to the appropriate output loca-
       tion.  Information concerning the contents (checksum, file
       size,  modification  date)  is  computed and stored in the
       pkgmap file, along with attribute information specified in
       the prototype file.  Overwrites the same instance, package
       instance will be overwritten if it already  exists.   Com-
       presses  non-information  files. You must also specify the
       -r  option  when  using  -c.   Indicates  that  a  key  is
       required.   This  is equivalent to the entry of ACTKEY=YES
       in the pkginfo  file.   Creates  the  package  on  device.
       device  can be a full pathname to a directory or the iden-
       tifier  for  a  removable  block  device   (for   example,
       diskette1).   The default device is the installation spool
       directory.  The device named must already exist.  Uses the
       indicated  rootpath with the source pathname in the proto-
       type  file  appended  to  locate  objects  on  the  source
       machine.   Prepends  the indicated basedir to locate relo-
       catable objects on the source machine.  Specifies the max-
       imum  size  in  512-byte  blocks  of  the output device as
       limit.  By default, if the output file is a directory or a
       mountable  device,  pkgmk  will  employ  the df command to
       dynamically calculate the amount of available space on the
       output  device.   Useful  in  conjunction with pkgtrans to
       create package with datastream format.  Block size of  the
       actual  destination  of the package.  Useful when the path
       specified with the -d option is  only  a  temporary  spool
       location  and  not  the  intended output for distribution.
       (Note, if distribution is to be in datastream format only,
       use  -B 512.)  Overrides the architecture information pro-
       vided in the pkginfo file with  arch.   Overrides  version
       information  provided  in  the  pkginfo file with version.
       Overrides the production stamp definition in  the  pkginfo
       file with pstamp.  Uses the file prototype as input to the
       command.  The default name for this file is either  Proto-
       type  or  prototype.  Places the indicated variable in the
       packaging environment.  [See for definitions of  packaging
       variables.]  A short string used to designate an abbrevia-
       tion for the package name.  pkgmk will automatically  cre-
       ate  a  new instance if the version and/or architecture is
       different.   A  user  should  specify   only   a   package

                                                                1

pkgmk(1)                                                 pkgmk(1)

       abbreviation;  a  particular instance should not be speci-
       fied unless the user is overwriting it.

   EExxiitt ccooddeess
       Successful completion of script.  Fatal  error.  Installa-
       tion process is terminated at this point.  Internal error.

FFiilleess
       language-specific message file [See LANG on

RReeffeerreenncceess
NNoottiicceess
       Entries in the  prototype  file  that  reference  relative
       paths  above  the  rootpath specification will not be com-
       pressed.

       When the -c option  is  specified,  any  !search  commands
       found in the file.

       Any  files  that  were  already  compressed (that is, only
       those in ".Z" form) before being processed by  pkgmk  will
       not be uncompressed by the pkgadd command.

       You can use pkgproto to create the prototype file. In this
       case, you must manually add in the entries for any instal-
       lation scripts and files you are using in the package. You
       only need entries for those files  and  scripts  that  you
       use. However, you must always add an entry for the pkginfo
       file for the package. See for more information.

       pkgmk does not work with tape devices.

                                                                2


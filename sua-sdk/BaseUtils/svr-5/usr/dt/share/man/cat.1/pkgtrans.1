

pkgtrans(1)                                           pkgtrans(1)

SSyynnooppssiiss
       pkgtrans [-inos] srcdev dstdev [pkg [pkg ...]]

DDeessccrriippttiioonn
       pkgtrans translates an installable package from one format
       to another.  It translates: a  file  system  format  to  a
       datastream  a  datastream  to  a file system format a file
       system format to another file system format

       For removable file system media, pkgtrans will  optionally
       allow  the  user  to format and place a file system on the
       media, and write a label on the media before  transferring
       the package to the media.

       The  options  and  arguments  for pkgtrans are: Copies the
       pkginfo and pkgmap files.  If the  package's  category  is
       defined  as set, for Set Installation Packages (SIPs) [see
       then that package's setinfo file is also copied.   Creates
       a  new  instance  of the package on the destination device
       destdev.  If the package instance already exists on  dest-
       dev,  it will be left unchanged and a new instance will be
       created. The new instance  will  have  a  sequence  number
       attached to distinguish it from the existing instance. For
       example, assume the destination device  already  contained
       an  instance of package X. If you use pkgtrans with the -n
       option to write a new instance of package X to the device,
       the existing instance of package X will remain on the des-
       tination device, and a new instance, called X.2, would  be
       created  on  the  device.   If you executed pkgtrans again
       with the -n option, a third instance, called X.3, would be
       created.   Overwrites the same instance on the destination
       device. The package instance will  be  overwritten  if  it
       already  exists.   Indicates  that  the  package should be
       written to destdev as a datastream rather than as  a  file
       system.   The  default  behavior is to write to destdev in
       the file system format.  Indicates the source device.  Can
       be  "-"  which  specifies  package(s) in datastream format
       read from standard input.  The package or packages on this
       device  will  be  translated  and  placed  on destdev.  If
       srcdev is a regular file or directory, you  must  use  the
       absolute pathname, rather than a relative pathname.  Indi-
       cates the destination device.  Can be "-" which  specifies
       package(s)  written  to standard output in datastream for-
       mat.  Translated packages will be placed on  this  device.
       If  destdev is a regular file or directory, you must spec-
       ify it as an absolute pathname,  rather  than  a  relative
       pathname.   Specifies  which  package  on srcdev should be
       translated.  The token all may be  used  to  indicate  all
       packages.   pkg.* can be used to indicate all instances of
       a package.  If no packages are defined, a prompt shows all
       packages  on the device and asks which to translate.  If a
       set is being transferred to  datastream  format,  the  pkg
       arguments should begin with the SIP and be followed by the
       packages listed in the SIP's setinfo file, in the order in

                                                                1

pkgtrans(1)                                           pkgtrans(1)

       which they appear in that file.

   EExxiitt ccooddeess
       Successful  completion  of script.  Fatal error. Installa-
       tion process is terminated at this point.

FFiilleess
       language-specific message file [See LANG on

EExxaammpplleess
       The following example translates all packages  located  on
       drive  device  and  places the translations on /tmp.  pkg-
       trans device /tmp all

       The next example translates packages pkg1 and pkg2 located
       on /tmp and places their translations on diskette1 in file
       system format.  pkgtrans /tmp diskette1 pkg1 pkg2

       The next example translates  pkg1  and  pkg2  on  tmp  and
       places them on device in a datastream format.  pkgtrans -s
       /tmp device pkg1 pkg2

RReeffeerreenncceess
NNoottiicceess
       You cannot run pkgtrans from csh (see

       Device specifications can be either the special node  name
       (/dev/diskette)  or  the  device  alias  (diskette1).  The
       device  spool  indicates  the  default  spool   directory.
       Source and destination devices may not be the same.  Regu-
       lar files and directories must be specified by their abso-
       lute pathname, rather than a relative pathname.

       By  default,  pkgtrans will not transfer any instance of a
       package if any instance of that package already exists  on
       the  destination device.  Use of the -n option will create
       a new instance if an  instance  of  this  package  already
       exists.   Use  of  the  -o  option will overwrite the same
       instance if it already exists.  Neither of  these  options
       are  useful  if  the  destination  device is a datastream,
       since the entire datastream is overwritten anyway.

       When creating file  system  format  package  instances  on
       removable  media,  pkgtrans  will  optionally allow you to
       format the media and create a file system on it. The  file
       system  type  used and the file system size will depend on
       the attributes defined for the device in  /etc/device.tab.

       pkgtrans  depends  on the integrity of the /etc/device.tab
       file to determine whether a device  can  support  a  data-
       stream  and/or file system formats.  Problems in transfer-
       ring a device in a particular format could mean corruption
       of /etc/device.tab.

                                                                2


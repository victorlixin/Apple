

pg(1)                                                       pg(1)

SSyynnooppssiiss
       pg  [-number]  [-p string] [-cefnrs] [+linenumber] [+/pat-
       tern/] [file . . .]

DDeessccrriippttiioonn
       The pg command is a filter that allows the examination  of
       files  one  screenful  at a time on a CRT.  (If no file is
       specified or if it encounters the file name  -,  pg  reads
       from  standard  input.)   Each  screenful is followed by a
       prompt.  If the user types a carriage return, another page
       is  displayed;  other  possibilities are listed below.  pg
       processes supplementary code set characters in files,  and
       recognizes supplementary code set characters in the string
       given to the -p option (see below) according to the locale
       specified  in  the LC_CTYPE environment variable (see LANG
       on In regular expressions, pattern searches are  performed
       on characters, not bytes, as described on

       This command is different from previous paginators in that
       it allows you to back up and  review  something  that  has
       already  passed.   The  method for doing this is explained
       below.

       To determine terminal attributes, pg  scans  the  terminfo
       data  base for the terminal type specified by the environ-
       ment variable TERM.  If TERM is not defined, the  terminal
       type dumb is assumed.

       The  command  line  options are: An integer specifying the
       size (in lines) of the window that pg is to use instead of
       the  default.   (On  a  terminal  containing 24 lines, the
       default window size is 23).  Home the cursor and clear the
       screen  before  displaying  each  page.   This  option  is
       ignored if clear_screen is not defined for  this  terminal
       type in the terminfo data base.  Causes pg not to pause at
       the end of each file.  Normally, pg  splits  lines  longer
       than the screen width at characters, but some sequences of
       characters in  the  text  being  displayed  (for  example,
       escape  sequences  for  underlining)  generate undesirable
       results.  The -f option inhibits pg from splitting  lines.
       Normally, commands must be terminated by a newline charac-
       ter.  This option causes an automatic end  of  command  as
       soon  as  a  command  letter is entered.  Causes pg to use
       string as the prompt.  If the prompt string contains a %d,
       the  first occurrence of %d in the prompt will be replaced
       by the current page number when the prompt is issued.  The
       default prompt string is :.  string may contain supplemen-
       tary code set characters.   Restricted  mode.   The  shell
       escape  is disallowed.  pg will print an error message but
       does not exit.   Causes  pg  to  print  all  messages  and
       prompts  in  standout mode (usually inverse video).  Start
       up at linenumber.  The display will begin at line n, ebven
       if  the  number  of  lines that remain in the file is less
       than what can be displayed on the screen.  Start up at the

                                                                1

pg(1)                                                       pg(1)

       first  line  containing the basic regular expression (BRE)
       pattern (see

       The responses that may be typed  when  pg  pauses  can  be
       divided  into  three  categories:  those  causing  further
       perusal, those that search,  and  those  that  modify  the
       perusal environment.

       Commands  that  cause further perusal normally take a pre-
       ceding address, an optionally signed number indicating the
       point  from  which further text should be displayed.  This
       address is interpreted in either pages or lines  depending
       on  the command.  A signed address specifies a point rela-
       tive to the current page or line, and an unsigned  address
       specifies  an  address  relative  to  the beginning of the
       file.  Each command has a default address that is used  if
       none is provided.

       The  perusal  commands  and their defaults are as follows:
       This causes one page to  be  displayed.   The  address  is
       specified  in  pages.  With a relative address this causes
       pg to simulate scrolling the screen, forward or  backward,
       the  number  of lines specified.  With an absolute address
       this command prints a screenful beginning at the specified
       line.   Simulates scrolling half a screen forward or back-
       ward.  Skip i screens of text.   Same  as  newline  except
       that  i,  if  present,  becomes  the new default number of
       lines per screenful.

       The following perusal commands take no address.  Typing  a
       single period causes the current page of text to be redis-
       played.  Displays the last windowful  in  the  file.   Use
       with caution when the input is a pipe.

       The  following  commands  are  available for searching for
       text  patterns  in  the  text.   The  regular  expressions
       described  in  are  available.  They must always be termi-
       nated by a newline, even if the -n  option  is  specified.
       Search forward for the ith (default i=1) occurrence of the
       BRE pattern.  Searching begins immediately after the  cur-
       rent  page  and  continues to the end of the current file,
       without  wrap-around.   Search  backwards  for   the   ith
       (default  i=1)  occurrence  of the BRE pattern.  Searching
       begins immediately before the current page  and  continues
       to the beginning of the current file, without wrap-around.
       The ^ notation is useful for Adds 100 terminals which will
       not properly handle the ?.

       After  searching,  pg will normally display the line found
       at the top of the screen.  This can be modified by append-
       ing  m  or b to the search command to leave the line found
       in the middle or at the bottom of the window from now  on.
       The  suffix  t  can be used to restore the original situa-
       tion.

                                                                2

pg(1)                                                       pg(1)

       The user of pg can modify the environment of perusal  with
       the  following  commands: Begin perusing the ith next file
       in the command line.  The i is an unsigned number, default
       value  is  1.  Begin perusing the ith previous file in the
       command line.  i is an  unsigned  number,  default  is  1.
       Display  another window of text.  If i is present, set the
       window size to i.  Save the input in the named file.  Only
       the  current file being perused is saved.  The white space
       between the s and filename is optional.  This command must
       always  be  terminated by a newline, even if the -n option
       is specified.  Help by displaying an  abbreviated  summary
       of available commands.  Quit pg.  Command is passed to the
       shell, whose name is  taken  from  the  SHELL  environment
       variable.   If this is not available, the default shell is
       used.  This command must always be terminated  by  a  new-
       line, even if the -n option is specified.

       At any time when output is being sent to the terminal, the
       user can press the quit key (normally -\) or the interrupt
       (break)  key.   This causes pg to stop sending output, and
       display the prompt.  The user may then enter  one  of  the
       above  commands in the normal manner.  Unfortunately, some
       output is lost when this is done, because  any  characters
       waiting  in  the  terminal's output queue are flushed when
       the quit signal occurs.

       If the standard output is not a  terminal,  then  pg  acts
       just  like cat except that a header is printed before each
       file (if there is more than one).

FFiilleess
       terminal information database temporary file when input is
       from  a  pipe If $TMPDIR is defined in the user's environ-
       ment, use TMPDIR for temporary  space  rather  than  /tmp.
       language-specific message file (See LANG on

EExxaammpplleess
       The  following  command  line  uses  pg to read the system
       news: news | pg -p "(Page %d):"

RReeffeerreenncceess
NNoottiicceess
       While waiting for terminal input, pg responds to BREAK,  ,
       and  -\  by  terminating execution.  Between prompts, how-
       ever, these signals interrupt pg's current task and  place
       the  user  in prompt mode.  These should be used with cau-
       tion when input is being read from a pipe, since an inter-
       rupt  is  likely  to  terminate  the other commands in the
       pipeline.

       The terminal /, ^, or ?  may be omitted from the searching
       commands.

       If  terminal  tabs  are  not  set  every  eight positions,

                                                                3

pg(1)                                                       pg(1)

       undesirable results may occur.

       When using pg  as  a  filter  with  another  command  that
       changes  the  terminal  I/O options, terminal settings may
       not be restored correctly.

                                                                4


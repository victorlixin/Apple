

Lock(3tlib)                                           Lock(3tlib)

SSyynnooppssiiss
       LockPread  filename LockPwrite filename LockVread filehan-
       dle LockVwrite filehandle

DDeessccrriippttiioonn
       These calls provide blocking, advisory read  and/or  write
       locks  for data synchronization. A read lock permits addi-
       tional read locks but not a write lock. A write lock  pro-
       hibits  any  additional locks from being applied.  Locking
       calls will block until the  lock  can  be  applied.  Locks
       apply  to  the  entire  file.   applies a read lock on the
       given file and returns a file handle for use by LockVread.
       If  a  write  lock  exists  on the file, the call does not
       return until the lock has been released and the  requested
       lock  is set.  releases the read lock corresponding to the
       given file handle.  applies a write lock on the given file
       and returns a file handle for use by LockVwrite. If a read
       or write lock exists on the file, the call does not return
       until the lock has been released and the requested lock is
       set.  releases the write lock corresponding to  the  given
       file handle.

   AArrgguummeennttss
       full  pathname  of  a  filesystem  object (file, directory
       etc.)  lock file handle  returned  by  LockPread  orLockP-
       write.

RReettuurrnn vvaalluueess
       LockPread and LockPwrite return a lock file handle for use
       with subsequent LockVread or LockVwrite calls. Note,  this
       is  not  a  generic  Tcl file handle that may be used with
       generic IO functions; it is internal to the  lock  subsys-
       tem.

DDiiaaggnnoossttiiccss
       Errors  encountered (such as non-existent file, wrong per-
       missions) will result in a throw with a admin error stack.
       See or

RReeffeerreenncceess
NNoottiicceess
       These  functions  use  System  V advisory locks.  For each
       lock, the caller must have the  requested  permissions  on
       the  file  to  be  locked in order for the lock to succeed
       (such as write permission in order to apply a write  lock,
       and so on).

                                                                1


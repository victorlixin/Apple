

mas_put(3mas)                                       mas_put(3mas)

SSyynnooppssiiss
       cc [options] file -lmas

       #include <mas.h> int mas_put(void);

DDeessccrriippttiioonn
       The  function  mas_put writes metric registration informa-
       tion to the metric registration file(s).  The file name(s)
       and  permissions  are those that were previously passed to
       mas_init during MAS provider  initialization.   The  first
       time mas_put is called, it creates the metric registration
       file(s).  On subsequent invocations the  metric  registra-
       tion  files  are  rewritten  with the updated registration
       information.

       If a provider is using an internal metric  segment  within
       the  metric registration header file, or if dynamic regis-
       tration was not requested by calling  mas_init  with  file
       names  for  the  metric  registration table, metadata, and
       strings table, then mas_put should not be called more than
       once.

   RReettuurrnn vvaalluueess
       On success, mas_put returns 0.

       On failure, mas_put returns -1 and sets mas_errno to iden-
       tify the error.

   EErrrroorrss
       mas_init was not called prior  to  calling  mas_put.   The
       open  system call failed.  The malloc library call failed.
       The write system  call  failed.   The  write  system  call
       failed.   The  write  system call failed.  The open system
       call failed.  The write system call failed.  The open sys-
       tem  call failed.  The write system call failed.  The open
       system call failed.  The write system  call  failed.   The
       open  system  call  failed.  The lseek system call failed.
       The write system call failed.

RReeffeerreenncceess
NNoottiicceess
   FFuuttuurree ddiirreeccttiioonnss
       Currently, mas_put does not notify active consumers that a
       change in registration information has occurred.  This may
       be supported in a future release.

                                                                1


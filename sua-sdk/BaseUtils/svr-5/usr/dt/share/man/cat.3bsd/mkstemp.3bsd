

mkstemp(3bsd)                                       mkstemp(3bsd)

SSyynnooppssiiss
       /usr/ucb/cc [flag . . . ] file . . .

       mkstemp(char *template);

DDeessccrriippttiioonn
       mkstemp  creates a unique file name, typically in a tempo-
       rary filesystem, by replacing template with a unique  file
       name,  and returns a file descriptor for the template file
       open for reading and  writing.   The  string  in  template
       should  contain  a file name with six trailing Xs; mkstemp
       replaces the Xs with a letter and the current process  ID.
       The  letter will be chosen so that the resulting name does
       not duplicate an existing file.  mkstemp avoids  the  race
       between testing whether the file exists and opening it for
       use.

   RReettuurrnn vvaalluueess
       mkstemp returns -1 if no suitable file could be created.

RReeffeerreenncceess
NNoottiicceess
       It is possible to run out of letters.

       mkstemp actually changes the  template  string  which  you
       pass;  this  means  that  you cannot use the same template
       string more than once -- you need  a  fresh  template  for
       every unique file you want to open.

       When  mkstemp  is creating a new unique filename it checks
       for the prior existence of a file with  that  name.   This
       means  that if you are creating more than one unique file-
       name, it is bad practice to use the same root template for
       multiple invocations of mkstemp.

                     BSD System Compatibility                   1


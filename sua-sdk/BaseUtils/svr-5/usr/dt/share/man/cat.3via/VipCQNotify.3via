

VipCQNotify(3via)                               VipCQNotify(3via)

SSyynnooppssiiss
       cc  [flag  ...]  file  ...   -via  [library] ...  #include
       <vipl.h>

       VIP_RETURN VipCQNotify(VIP_CQ_HANDLE  CQHandle,  VIP_PVOID
       Context,
            void(*Handler());

DDeessccrriippttiioonn
       The  VipCQNotify  routine  is  used  by the VI consumer to
       request that a handler routine be called when a descriptor
       completes  on  a work queue that is associated with a com-
       pletion queue.

       VipCQNotify checks whether the descriptor at the  head  of
       the completion queue has been marked as being complete. If
       there is an entry,  it  is  removed  from  the  completion
       queue,  and  the handler routine associated with the entry
       is invoked with the ViHandle and RecvQueue parameters  set
       appropriately  to  indicate  to the VI consumer which work
       queue contains the completed descriptor. The handler  rou-
       tine has the following syntax: void Handler(VIP_PVOID Con-
       text, VIP_NIC_HANDLE NicHandle,
            VIP_VI_HANDLE ViHandle,  VIP_BOOLEAN  RecvQueue);  If
       there  is  no  valid  completion  queue entry, VipCQNotify
       enables interrupts for the given  completion  queue.  When
       the  completion queue entry is generated, the handler rou-
       tine is invoked.

       This registration is only associated with  the  completion
       queue for a single entry. In order for the handler routine
       to be invoked more than once, VipCQNotify must  be  called
       multiple  times.  Multiple handlers may be registered at a
       time, and will be queued in completion queue entry  order.

       Destruction  of  the  completion  queue will result in the
       cancellation of any pending routine calls.

   AArrgguummeennttss
       An instance of a completion queue.  Data to be  passed  to
       the  handler  routine  as  a parameter. Not used by the VI
       provider.  The address of the user-defined function to  be
       called  when  a  single  descriptor completes. This is not
       guaranteed to run in the context of the current thread The
       handler  function is called with the following parameters:
       Data passed through from the VipCQNotify routine call. Not
       used  by  the  VI  provider.   The  handle of the NIC.  An
       instance of a VI.  If VIP_TRUE, this  indicates  that  the
       completion  was  associated  with the receive queue of the
       VI. If VIP_FALSE, this indicates that the  completion  was
       associated with the send queue.

RReettuurrnn vvaalluueess
       The  routine  has  successfully completed.  The VI handle,

                                                                1

VipCQNotify(3via)                               VipCQNotify(3via)

       the CQ handle, or the function call address  was  invalid.
       The operation failed due to insufficient resources.

RReeffeerreenncceess

                                                                2




VipRegisterMem(3via)                         VipRegisterMem(3via)

SSyynnooppssiiss
       cc  [flag  ...]  file  ...   -via  [library] ...  #include
       <vipl.h>

       VIP_RETURN VipRegisterMem(VIP_NIC_HANDLE NicHandle,
            VIP_PVOID VirtualAddress, VIP_ULONG Length,
            VIP_MEM_ATTRIBUTES *MemAttribs, VIP_MEM_HANDLE *Memo-
       ryHandle);

DDeessccrriippttiioonn
       The VipRegisterMem routine enables a process to register a
       region of memory with  a  VI  NIC.  Memory  used  to  hold
       descriptors  or  data buffers must be registered using the
       routine.

       The user may specify an arbitrarily sized region  of  mem-
       ory,  with  arbitrary alignment, but the memory registered
       is registered at the granularity of the  page.  Registered
       pages are then locked into physical memory.

       The  memory  attributes include the protection tag and the
       RDMA enable bits that are initially  associated  with  the
       memory region.

       Descriptors  and  data buffers contained within registered
       memory can be used by any VI with matching protection  tag
       that  is owned by the process. A new memory handle is gen-
       erated for each memory region that is registered by a pro-
       cess.

       The EnableRdmaWrite memory attribute can be used to ensure
       that no remote process may modify a region of memory: this
       is  useful for protecting memory that contains descriptors
       (control information).  The EnableRdmaRead  attribute  can
       be  used  to ensure that no remote process can read a par-
       ticular region of memory. A full list of registered memory
       region attributes is given in the manual page.

       Note  that the VipRegisterMem routine checks for read-only
       pages of memory, and protects these  against  modification
       by the VI hardware

       If    the   Length   parameter   is   set   to   zero,   a
       VIP_INVALID_PARAMETER error is returned.

       Note that the contents of the memory region  being  regis-
       tered  are  not  altered  by  VipRegisterMem, and that the
       region must have been previously allocated by the VI  con-
       sumer.

   AArrgguummeennttss
       The  handle of a currently open NIC.  The starting address
       of the memory region to be  registered.   The  length,  in
       bytes,  of  the  memory  region.  The memory attributes to

                                                                1

VipRegisterMem(3via)                         VipRegisterMem(3via)

       associate with the memory region.  If successful, the  new
       handle for the memory region, otherwise NULL.

RReettuurrnn vvaalluueess
       The  memory  region was successfully registered.  An error
       in the registration process was detected that  was  caused
       by  insufficient  resources.   One  of  the parameters was
       invalid.  The protection tag attribute was  invalid.   The
       specified  attributes  requested that the memory region be
       enabled for RDMA Read, but the VI provider does  not  sup-
       port it.

RReeffeerreenncceess

                                                                2


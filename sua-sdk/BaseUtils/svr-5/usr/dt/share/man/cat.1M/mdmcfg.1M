

mdmcfg(1M)                                             mdmcfg(1M)

SSyynnooppssiiss
       mdmcfg  modem  [  -p device] [ -f ] [ -s attr value | -g [
       attr ] | -d [ attr ] | -v [attr ] ]
       mdmcfg modem  [ -p device]  [ -f ] -E
       mdmcfg [ -q ] [ -f ] -I [ modem | file | directory ]
       mdmcfg [ -q ] -U [ modem | file | directory ]
       mdmcfg [ -q ] -r

DDeessccrriippttiioonn
       mdmcfg is a command line tool for configuring  modem  fea-
       ture  attributes and installing and removing configuration
       files.

       mdmcfg is found in /usr/lib/uucp.

   OOppttiioonnss
       The following options are available: Set modem  attributes
       to  default  values. This can be specified many times on a
       command line.  Force creation of the dialer file or  force
       installation   of   the  configuration  file.   Get  modem
       attributes. This can be specified many times on a  command
       line.   Install  modem  configuration  file.   Enables the
       modem in the modem subsystem.  Insert additional  directo-
       ries  in  the  path.   Quiet  mode.  Force rebuild of ven-
       dor/modem database.  Set  modem  attribute.  This  can  be
       specified  many  times on a command line.  Uninstall modem
       configuration file.  Get valid attribute values.

   IInnssttaalllliinngg aanndd rreemmoovviinngg mmooddeemm ccoonnffiigguurraattiioonn ffiilleess
       Configuration  files  are  typically  distributed  via   a
       diskette,  CD-ROM or over the Internet. With a diskette or
       CD-ROM, the media needs to be mounted or copied somewhere.
       With  Internet  distributions, the configuration file will
       need to be downloaded onto the local system. Alternatively
       the  file  could be installed on one system and the direc-
       tory exported through NFS to another system that needs the
       new modem file.

       The  -I  option  is specified with the path to modems.idx,
       the path to the directory containing  modems.idx,  or  the
       path  to the modem configuration file. For example: mdmcfg
       -I  /mnt/modems.idx  Installs  all  modem   configurations
       listed  in /mnt/modems.idx. /mnt/modems.idx is the path to
       modems.idx.  mdmcfg -I /mnt Installs all modem  configura-
       tions  listed  in /mnt/modems.idx. /mnt is the path to the
       directory    containing     modems.idx.      mdmcfg     -I
       /mnt/Generic_144  Installs  all modem configurations found
       in /mnt/Generic_144.  /mnt/Generic_144 is the path to  the
       modem configuration file.

       The  -U  option  is specified with the path to modems.idx,
       the path to the directory containing modems.idx, the  path
       to  the  modem configuration file, or the modem configura-
       tion file. For example: mdmcfg -U  Generic_144  Uninstalls

                                                                1

mdmcfg(1M)                                             mdmcfg(1M)

       the modem Generic_144. Generic_144 is the modem configura-
       tion  filename.   mdmcfg  -U  /etc/uucp/Modems/Generic_144
       Uninstalls         the        modem        found        in
       /etc/uucp/Modems/Generic_144. /etc/uucp/Modems/Generic_144
       is  the  path  to the modem configuration file.  mdmcfg -U
       /mnt/modems.idx   Uninstalls   all   modems   listed    in
       /mnt/modems.idx.    /mnt/modems.idx   is   the   path   to
       modems.idx.  mdmcfg -U /mnt Uninstalls all  modems  listed
       in /mnt/modems.idx. /mnt is the path to the directory con-
       taining modems.idx.  mdmcfg -r Forces a rebuild of  vendor
       or  modem database. This is specified after a mdmcfg -U or
       mdmcfg -I command has been used.

       Installing    involves    copying    the     file     into
       /etc/uucp/Modems,       adding       the      file      to
       /etc/uucp/Modems/modems.idx and  rebuilding  the  database
       files present in /etc/uucp/DBase and /etc/uucp/Detect.

       Uninstalling  files results in the file being removed from
       /etc/uucp/Modems and /etc/uucp/Modems/modems.idx.

       In each case a single modem can be provided, or  the  path
       to  a modems.idx file or a directory containing either the
       modems or modems.idx file.

       Files will only be installed if they parse as valid  modem
       configuration  files. An invalid file is silently ignored.
       If the modem is already installed, the modem configuration
       file  will  only  be  overwritten  if  the  creation  date
       attribute of the new file is more recent than that of  the
       file installed.

       At  least  one  of the values present in the ``WorksWith''
       and   ``Certified''   fields   must    be    present    in
       /etc/uucp/Release,  otherwise the file is not supported by
       this release of &geminiREL;.

       To enable a modem, use: mdmcfg Generic_144 -p term/00m  -E
       Creates a symbolic link in /etc/uucp named after the modem
       (Generic_144) that links to /usr/lib/uucp/atdialer.

   RReettrriieevviinngg aanndd sseettttiinngg mmooddeemm aattttrriibbuutteess
       The following features are supported: Some modems  (mainly
       ISDN)  support  more  than  one on the wire protocol.  The
       options are vendor specific.  Controls when the speaker is
       active. The options are during dialing, dialing and setup,
       or on continuously.  Low, medium and  high.   The  options
       are  hardware,  software  or  none. It is advised to leave
       this on hardware unless the modem vendor states otherwise.
       Modem to modem compression.  Modem to modem error control.
       The options are forced, cellular, cellular forced.   Modem
       to  modem  speed  negotiation.   Number of rings before an
       incoming call is answered.  Number of  seconds  before  an
       inactive  connection  is  dropped. The default is 0 (off).

                                                                2

mdmcfg(1M)                                             mdmcfg(1M)

       Number of seconds to allow for modem to modem setup before
       the  connection is declared as a failure. The default is 0
       (off).  Tone or pulse dialing.  Dialing blind  allows  the
       modem to dial the other phone number without waiting for a
       dial tone.  Phone line modulation protocols.  The  options
       are CCITT, BELL and CCITT V23.

       Retrieving  and setting modem attributes uses the v, g, s,
       d and f options of mdmcfg. For example: mdmcfg Generic_144
       -p  term/00m  -g  Gets  all attributes supported by modem.
       mdmcfg Generic_144  -p  term/00m  -g   SpeakerVolume  Gets
       SpeakerVolume  attribute.   mdmcfg Generic_144 -p term/00m
       -v  Gets  valid  values  for   all   attributes.    mdmcfg
       Generic_144  -p  term/00m  -v SpeakerVolume Gets all valid
       values for attribute SpeakerVolume.  mdmcfg Generic_144 -p
       term/00m -s SpeakerVolume High Sets SpeakerVolume to High.
       mdmcfg Generic_144 -p term/00m -d Sets all  attributes  to
       the  default  values.   mdmcfg  Generic_144 -p term/00m -d
       SpeakerVolume Sets SpeakerVolume  to  the  default  value.
       mdmcfg  Generic_144  -p term/00m -f Forces creation of the
       dialer file.

       In each case the dialer file and current settings are cre-
       ated  in  /etc/uucp/default.   For example: /etc/uucp/mdm-
       cfg/term/00m/Generic_144    -s    Monitor    2     creates
       /etc/uucp/default/term/00m/Generic_144                 and
       /etc/uucp/default/term/00m/Generic_144.cfg.

       Omitting the -p option sets attributes  globally  for  the
       specified modem.  Omitting the -p option is only used if a
       modem does not have a set of port specific attributes.

       The -p option allows the same type of modem to be  present
       on more than one port and each to have their own settings.
       For example, you can have a Generic_144  modem  configured
       on  both ports, but with the speaker configured for ``On''
       on one port and ``Off'' on the other.

FFiilleess
       /usr/lib/uucp/mdmcfg
       /etc/uucp/default
       /etc/uucp/DBase
       /etc/uucp/Detect
       /etc/uucp/Release
       /etc/uucp/Modems

DDiiaaggnnoossttiiccss
       The exit codes are: OK.  Syntax error (SCO_MDMCFG_ERR_SYN-
       TAX_ERROR).    Modem  configuration  not  found  (SCO_MDM-
       CFG_ERR_UNKNOWN_MODEM).  Attribute attr is  not  supported
       (SCO_MDMCFG_ERR_INVALID_ATTR).  Attribute value attr value
       for   attribute   attr   is   not   supported    (SCO_MDM-
       CFG_ERR_INVALID_ATTR_VALUE).   Attribute attr is incorrect
       in       the        modem        configuration        file

                                                                3

mdmcfg(1M)                                             mdmcfg(1M)

       (SCO_MDMCFG_ERR_MODEM_INVALID_ATTR).  Attribute value attr
       value  is  incorrect  in  the  modem  configuration   file
       (SCO_MDMCFG_ERR_MODEM_INVALID_ATTR_VALUE).       Attribute
       value attr value is  read  only  and  cannot  be  modified
       (SCO_MDMCFG_ERR_ATTR_READONLY).    Attribute   is  missing
       (SCO_MDMCFG_ERR_MISSING_ATTR).  Value for  attribute  attr
       is  missing  (SCO_MDMCFG_ERR_MISSING_VALUE).   Value  attr
       value out of range  value  for  attribute  attr  (SCO_MDM-
       CFG_ERR_INVALID_RANGE).     Invalid    option    (SCO_MDM-
       CFG_ERR_INVALID_OPTION).  Modem index file path is missing
       (SCO_MDMCFG_ERR_IDX_MISSING).    Modem   argument  missing
       (SCO_MDMCFG_ERR_MODEM_ARG_MISSING).  File path  is  not  a
       directory (SCO_MDMCFG_ERR_DEFAULTS_DIR).  Error installing
       modem (SCO_MDMCFG_ERR_INSTALLING_MODEM).   Illegal  option
       (SCO_MDMCFG_ERR_USAGE).

RReeffeerreenncceess

                                                                4


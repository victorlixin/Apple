

hpnptyd(1M)                                           hpnptyd(1M)

SSyynnooppssiiss
       /usr/lib/hpnp/hpnptyd  -m  master_pty  -x peripheral [-fk]
       [-p port]
       -t [ timeout ] [-l logfile]

DDeessccrriippttiioonn
       hpnptyd provides a network  connection  between  a  pseudo
       terminal (pty) and an HP network peripheral. A daemon pro-
       cess is invoked for each network connection. To an  appli-
       cation, operating on a pty has the appearance of operating
       on a local serial port.

       hpnptyd opens the network connection when  there  is  data
       from the pty. It sends data from the pty to the peripheral
       over the network connection and it passes  data  from  the
       peripheral  back  to  the pty.  hpnptyd closes the network
       connection after a period when there is no more data  from
       the  pty  or  the network peripheral, and all the pty data
       has been sent to the network peripheral. The length of the
       inactivity period can be specified using -t timeout.

       It is possible to use /etc/rc to start hpnptyd at boot-up.
       When using hpnptyd, the print scheduler  must  be  started
       after starting the pty daemons.

   OOppttiioonnss
       hpnptyd  accepts  the  following options: Run in the fore-
       ground. Normally, hpnptyd runs in  the  background.   Keep
       the  network  connection  open. This option can be used in
       conjunction with the SIGHUP signal to  control  externally
       when the network connection is closed down. After the net-
       work connection is closed, new  data  from  the  pty  will
       cause  the  connection to be re-opened.  Send verbose log-
       ging messages to file logfile. The logging messages detail
       what  hpnptyd  is  doing. Included in the messages are how
       many bytes are read and written to the pty and to the net-
       work  connection.   hpnptyd  performs  no  logging if this
       option is omitted.  Specify master_pty as the master (con-
       troller)  pty  for  a  network connection. For each master
       pty, there will be a corresponding slave pty;  application
       programs  interface  to  the slave pty. The naming conven-
       tions for ptys is given in the ``Files'' section.  Specify
       port  as  the TCP/IP port number for a network connection.
       The default port number is 9100.  Specify timeout  as  the
       timeout  period  for a network connection.  If there is no
       data from the pty or from the network peripheral for time-
       out  seconds and all the data read so far has been written
       to the  network  peripheral,  the  network  connection  is
       closed.  New  data from the pty causes the network connec-
       tion to be re-opened. The default timeout is  30  seconds.
       A  timeout of 0 is not allowed.  Specify peripheral as the
       peripheral for printing. This may be a host name or dotted
       decimal Internet address.

                                                                1

hpnptyd(1M)                                           hpnptyd(1M)

   SSiiggnnaall hhaannddlliinngg
       These  signals  have  the  specified  effect  when sent to
       hpnptyd using Causes hpnptyd to close the network  connec-
       tion  after  a  timeout  interval  when  there has been no
       activity between the pty and network peripheral.  Turns on
       logging. hpnptyd appends the log file if it was specified.
       Otherwise, it writes to /usr/tmp/hpnptyd.PID.   Turns  off
       logging.

FFiilleess
       master pseudo terminals slave pseudo terminals default log
       file name

UUssaaggee
       The print job is not re-sent if the  peripheral  is  power
       cycled  while  the job is printing. Also, if the print job
       is small, the application may complete sending before  the
       print job is printed. The print job may be buffered at the
       pty or at hpnptyd waiting to be sent to the peripheral.

RReeffeerreenncceess
EExxaammpplleess
       To  start  up  a  single  network  connection   from   pty
       /dev/ptypa to peripheral remhost: /usr/lib/hpnp/hpnptyd -m
       /dev/ptyp18 -x remhost To send the contents of file  plot1
       over  the  network connection in the previous example: cat
       plot1 > /dev/ttyp18

                                                                2


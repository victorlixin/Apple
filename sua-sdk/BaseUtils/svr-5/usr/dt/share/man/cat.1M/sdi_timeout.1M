

sdi_timeout(1M)                                   sdi_timeout(1M)

SSyynnooppssiiss
       sdi_timeout   [-fsFC][-l  6|10|12][[device_descriptor[com-
       mand[value]]...]...]

       sdi_timeout -c device-type

       sdi_timeout -[ynq]

       sdi_timeout -b [node_descriptor]

DDeessccrriippttiioonn
       The sdi_timeout command reports or  changes  timeout  tun-
       ables  for use by the SDI timeout mechanism.  When a time-
       out is detected by the system, SDI begins its error recov-
       ery  gauntlet  in an attempt to get the SCSI peripheral or
       bus back into a functional state.  Because of the severity
       of  the error recovery mechanism, timeout values should be
       chosen conservatively to avoid unnecessary timeouts.

       If sdi_timeout is invoked without a value,  it  lists  the
       timeout values being used in the running kernel.  The val-
       ues are listed for all commands  and  all  devices  if  no
       device_descriptor   is   specified.    If   one   or  more
       device_descriptor is specified on the  command  line,  all
       commands  and values for the system devices that match the
       specified   device_descriptor   are   printed.     If    a
       device_descriptor  and  one or more command are specified,
       the values of those commands are printed for the  matching
       system devices.

       When  sdi_timeout is invoked, it processes the rest of the
       command line, and then loads the new timeout  values  into
       the running kernel.

   OOppttiioonnss
       Force  immediate loading of timeout values.  If a particu-
       lar node-descriptor is specified, only  those  values  are
       loaded.   Display  list of valid commands for device type.
       The command given in the argument list is a hex value rep-
       resenting a SCSI command.  This is used to set the timeout
       value for a vendor-unique SCSI  command.   The  hex  value
       must  begin  with  0x.   Reset the commands matched by the
       following arguments to the  originally  shipped  defaults.
       The  arguments must not include values.  If no other argu-
       ments are specified, all timeout values are reset  to  the
       defaults.   List  the  originally shipped defaults for the
       commands queried.  The arguments must not include  values.
       If  no other arguments are specified, the original shipped
       defaults are listed for all devices and commands.   Modify
       the command specified on the command line to refer only to
       the 6-, 10-, or 12-byte SCSI command.  Otherwise, commands
       refer  to  all  lengths.  Disable all timeouts.  Query all
       HBA drivers that have claimed a device to see  which  ones

                                                                1

sdi_timeout(1M)                                   sdi_timeout(1M)

       support  timeouts  and  the ensuing error recovery.  Also,
       report whether timeouts are currently enabled or disabled.
       Silent   mode.   Do  not  prompt  user  before  committing
       changes.  Enable all timeouts.  The device-descriptor  can
       be  in  one  of the following forms: Must be one of CDROM,
       disk, tape, WORM, or CHANGER.  cCbBtTdDpP

       When used as a device-descriptor, the  node-descriptor  is
       equivalent  to  specifying  the  full inquiry string.  For
       example, specifying a node-descriptor for  a  device  that
       happens  to  be  identical to another device on the system
       results in the query  or  modification  applying  to  both
       devices.   See  and  for  an explanation of this notation.
       The string returned by an  INQUIRY  to  the  device.   The
       inquiry-string can be a prefix of the full INQUIRY string.
       The command for which the timeout  value  should  be  dis-
       played  or  changed.   A  list of commands can be obtained
       using sdi_timeout -c device_type.  The timeout value spec-
       ified in seconds.

UUssaaggee
       There  is  never a need to reboot after using sdi_timeout;
       all changes are made dynamically to  the  running  kernel.
       Because the changes are not instantaneous, the kernel con-
       tinues running with the existing timeout parameters  until
       sdi_timeout completes.

       If  you are booting a system with a device that has unique
       timeout value restrictions, specify SDI_TIMEOUT=no at  the
       boot  prompt  (see  to  disable  timeouts,  and  then  use
       sdi_timeout to enter the correct  timeout  values  and  to
       reenable timeouts.

RReettuurrnn vvaalluueess
       Because sdi_timeout calls other system commands to perform
       some of its tasks, it reports all  errors  encountered  by
       those commands and cleans up intermediate files created in
       the process.

RReeffeerreenncceess

                                                                2




su(1M)                                                     su(1M)

SSyynnooppssiiss
       su [-] [name [arg . . .]

DDeessccrriippttiioonn
       su  allows one to become another user without logging off.
       The default user name is root.  If  the  privilege  module
       running  is  the  Super  User  Module (SUM), then UID 0 is
       given unrestricted access to the system.

       However, if the Enhanced Security Utilities are  installed
       and  the  privilege  module running is the Least Privilege
       Module (LPM), no special privilege is associated with  UID
       0  (root).   Becoming UID 0 only gives you access to files
       owned by root; it does not impart the ability to  override
       system restrictions (notably, mandatory access control).

       To  use  su,  when  running  the SUM privilege module, the
       appropriate password for the login name specified must  be
       supplied  (unless one is already root).  If the LPM privi-
       lege module is running, the process must have  the  appro-
       priate  privilege  (P_SETUID)  to  use su, and no password
       check is made.  The default password  validation  behavior
       can  be  altered via the PROMPT default parameter found in
       /etc/default/su.

       Upon successful execution, su will  execute  a  new  shell
       with the real and effective user and group IDs and supple-
       mentary group list set to that of the specified user.  The
       new  shell will be the optional program named in the shell
       field of the specified user's password file entry (see  or
       /usr/bin/sh if none is specified (see

       To  restore  the  normal  user ID environment, type an EOF
       character (D) to the new shell.

       Any additional arguments given on  the  command  line  are
       passed  to  the  program invoked as the shell.  When using
       programs such as sh, an arg of the form:  -c  string  exe-
       cutes string via the shell and an arg of -r gives the user
       a restricted shell.

       The following statements are true  only  if  the  optional
       program  named  in the shell field of the specified user's
       password file entry is like sh.  If the first argument  to
       su  is  a -, the environment will be changed to what would
       be expected if the user actually logged in as  the  speci-
       fied  user.   This is done by invoking the program used as
       the shell with an arg0 value whose first character  is  -,
       thus  causing first the system's profile (/etc/profile for
       sh or ksh, or /etc/.login for csh) and then the  specified
       user's  profile (.profile in the new HOME directory) to be
       executed.  Otherwise, the environment is passed along with
       the   possible   exception   of  PATH,  which  is  set  to
       /sbin:/usr/sbin:/usr/bin:/etc for root.  Note that if  the

                                                                1

su(1M)                                                     su(1M)

       optional  program  used  as  the shell is /usr/bin/sh, the
       user's .profile can check arg0 for -sh or -su to determine
       if  it  was  invoked by login or su, respectively.  If the
       user's program is other than /usr/bin/sh, then .profile is
       invoked with an arg0 of -program by both login and su.

       Note  that  if you are using csh, /etc/profile is replaced
       by  /etc/.login  and   $HOME/.profile   is   replaced   by
       $HOME/.login.

       All attempts to become another user using su are logged in
       the log file /var/adm/sulog.

FFiilleess
       system's password file system's  I&A  data  file  system's
       profile system's profile user's profile user's profile log
       file language-specific message file (see LANG  on  default
       parameters  in  this file are: If defined, all attempts to
       su to another user are logged in the indicated  file.   If
       defined,  all  attempts  to su root are logged on the con-
       sole.  Default path.  Default path for a user invoking  su
       root.   If  this parameter exists and is set to No, the su
       command will not prompt for a password  (even  if  one  is
       defined  for  the  login name); however, the invoking user
       must still have appropriate privilege to use  su  success-
       fully.   If  this  parameter  does not exist, or is set to
       anything other than No (including NULL),  su  will  prompt
       for  a password when invoked and validate the password (if
       one is defined for the login name).  PROMPT is set  to  No
       by   default   if  the  Enhanced  Security  Utilities  are
       installed; otherwise, it is not set.

EExxaammpplleess
       Become user bin while retaining your  previously  exported
       environment:  su  bin Become user bin but change the envi-
       ronment to what would be expected if  bin  had  originally
       logged  in:  su  -  bin Execute command with the temporary
       environment and permissions of user bin: su - bin -c "com-
       mand args"

RReeffeerreenncceess
NNoottiicceess
       If  you  are  using  NIS, you must use the correct copy of
       this command. The program /sbin/su will ignore  NIS  pass-
       word services. You must use /usr/bin/su when running in an
       NIS environment. Since /sbin is in  the  default  path  of
       some  users  before  /usr/bin, particularly administrative
       logins such as root, you may need to invoke  su  with  the
       full pathname to ensure the desired program is executed.

                                                                2


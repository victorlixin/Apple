

sdirm(1M)                                               sdirm(1M)

SSyynnooppssiiss
       /sbin/sdirm [-n] device_number

DDeessccrriippttiioonn
       The  sdirm  script  removes  support for an existing mass-
       storage device from the &gemini;  configuration,  allowing
       the  device  to be removed from the SCSI bus and taken out
       of service.  This is the converse function  to  sdiadd  -n
       which  allows  the  hot addition of supported mass-storage
       devices.

   OOppttiioonnss
       sdirm takes the following option: Allow the user to  over-
       ride  the  system's  temporarily halting when sdirm quiets
       the SCSI bus.  This option also  removes  the  requirement
       that sdirm be run from the console.

   AArrgguummeennttss
       The  device_number  must be in one of the following forms:
       cWbXtYlZ cWbXtY cWtYlZ cWtY

       In the device_number, the W, X, Y, and Z specify the  con-
       troller, bus, target, and LUN.

       If  the  bus  is  not  specified, then it is assumed to be
       zero.  If the LUN is not specified, then all LUNs  associ-
       ated  with the device are removed.  If the device has mul-
       tiple LUNs, then sdirm must be run on each of  the  device
       nodes  or  the  second  form  can be used and the LUN left
       unspecified.

UUssaaggee
       Hot addition/removal is the ability to add and remove SCSI
       devices  from  a  running system.  This feature works with
       all packages that access the HBA  driver,  including,  but
       not  limited  to, mounted file systems, the Veritas Volume
       Manager, and  raw  device  access  through  /dev/rdsk  and
       /dev/rmt.

       To  use this feature, the HBA and target drivers must sup-
       port hot addition/removal.

       To remove a device from the system, the system administra-
       tor:  Ensures  that removing the device will not alter the
       SCSI bus termination.  The device cannot be removed if the
       SCSI   bus   termination   will   be   altered.   Executes
       /sbin/sdirm with the -n option  and  the  device  node  as
       arguments.  If the command fails because either the target
       or HBA driver does not support hot addition/removal,  then
       the  device  cannot  be  removed.   If  the  command fails
       because the device is open, then the system  administrator
       must  correct  this before the command can be re-executed.
       sdirm quiets the SCSI bus and notifies the user when it is
       safe  to  remove  the  device from the system.  Remove the

                                                                1

sdirm(1M)                                               sdirm(1M)

       device from the SCSI bus.  Press the  key to inform  sdirm
       that the device has been removed and normal SCSI bus oper-
       ation can resume.

RReettuurrnn vvaalluueess
       Because sdirm calls other system commands to  perform  the
       system  reconfiguration, it reports all errors encountered
       by those commands, then cleans up intermediate files  cre-
       ated in the process.

RReeffeerreenncceess

                                                                2


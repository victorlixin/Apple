

fsck_ufs(1M)                                         fsck_ufs(1M)

SSyynnooppssiiss
       fsck [-F ufs] [generic_options] [special ...]

       fsck  [-F  ufs]  [generic_options]  [(-y|-Y)|(-n|-N)]  [-o
       p,b=blkno] [-w] [special . . .]

DDeessccrriippttiioonn
       generic_options are options supported by the generic  fsck
       command.

       fsck  audits and interactively repairs inconsistent condi-
       tions on filesystems.  In this case, it asks for confirma-
       tion  before  attempting any corrections.  Inconsistencies
       other than those mentioned above can often result in  some
       loss of data.  The amount and severity of data lost can be
       determined from the diagnostic output.

       fsck corrects innocuous inconsistencies such as:  unrefer-
       enced  inodes,  incorrect  link  count  of inodes, missing
       blocks in the free list, blocks appearing in the free list
       and also in files, or incorrect counts in the super block,
       automatically.  It displays a message for  each  inconsis-
       tency  corrected  that  identifies the nature of, and file
       system on which, the correction is to take  place.   After
       successfully correcting a filesystem, fsck prints the num-
       ber of files on that filesystem, the number  of  used  and
       free blocks, and the percentage of fragmentation.

       The  default action for each correction is to wait for the
       operator to respond either yes or  no.   If  the  operator
       does  not  have  write  permission on the filesystem, fsck
       will default to a -n (no corrections) action.

       Inconsistencies checked are as follows: Blocks claimed  by
       more  than  one inode or the free list.  Blocks claimed by
       an inode or the free list outside the range  of  the  file
       system.    Incorrect  link  counts.   Incorrect  directory
       sizes.  Bad inode format.  Blocks not accounted  for  any-
       where.   Directory  checks,  file  pointing to unallocated
       inode, inode number out of range,  absence  of  ``.''  and
       ``..''  as the first two entries in each directory.  Super
       Block checks: more blocks for inodes than there are in the
       filesystem.  Bad free block list format.  Total free block
       and/or free inode count  incorrect.   Orphaned  files  and
       directories  (allocated  but  unreferenced)  are, with the
       operator's concurrence, reconnected by placing them in the
       lost+found directory.  The name assigned is the inode num-
       ber.  If the lost+found directory does not  exist,  it  is
       created.   If  there  is  insufficient  space  its size is
       increased.

       A filesystem may be specified by giving the  name  of  the
       block  or character special device on which it resides, or
       by giving the name of its mount point.

                                                                1

fsck_ufs(1M)                                         fsck_ufs(1M)

   uuffss--ssppeecciiffiicc ooppttiioonnss
       Specify the ufs FSType. If -F ufs is not specified heuris-
       tics  similiar  to those used by are used to determine the
       file system type.

       This command executes faster if  it  is  not  required  to
       autodetect  file system types. If possible, specify the -F
       ufs.  Assume a yes response  to  all  questions  asked  by
       fsck.   Assume  a  no  response  to all questions asked by
       fsck; do not open the filesystem for writing.  Specify the
       options specific to the ufs filesystem.  These options can
       be any combination of the following: Check the  filesystem
       non-interactively.   Exit  if there is a problem requiring
       intervention.  Use  blkno  as  the  super  block  for  the
       filesystem.   Block 32 is always an alternate super block.
       Only check writeable filesystems.

RReeffeerreenncceess
NNoottiicceess
       Checking the character special  device  is  almost  always
       faster.

                                                                2




tfadmin(1M)                                           tfadmin(1M)

SSyynnooppssiiss
       tfadmin [role:] cmd [args]

       tfadmin -t [role:] cmd[:priv[:priv. . .]]

DDeessccrriippttiioonn
       The tfadmin command invokes a command at the request of an
       administrative user.  If the user is allowed to use privi-
       leges  with the command, tfadmin places the allowed privi-
       leges in the maximum and working  privilege  sets  of  the
       process before invoking the command.

       role is a role name defined in the administrative database
       for Trusted Facility Management.

       cmd can be either a command defined in the TFM database or
       it  can be the full pathname of a command.  The executable
       file associated with cmd will be executed only if the user
       has  been  defined  as  an administrator and has access to
       cmd.

       If cmd is a full pathname, the last component of the path-
       name  (the  basename)  will  be  searched  for  in the TFM
       database. If role was specified, the search will  be  lim-
       ited  to  the  definition for the specified role.  If not,
       each role assigned to the user will be  searched,  in  the
       order  that  the  roles  were  assigned  to  the user (see
       Finally, any individual  commands,  outside  any  assigned
       roles, assigned to the user, will be searched.

       If  cmd or the basename does not exist in the user defini-
       tion, tfadmin issues an error  and  exits  with  an  error
       code.   If the path associated with cmd in the administra-
       tive database is not equal to the full pathname  specified
       for cmd, tfadmin issues a diagnostic message.

       args  are  a  set of command arguments to be passed to the
       program indicated by cmd.

       priv is the name of a process privilege.  (See for a  com-
       plete list of process privileges.)

       In addition, if the -t option is used, a privilege vector,
       consisting of one or more  privilege  names  separated  by
       colons  (e.g., macread:mount) may be appended to the role-
       command pair, separated from it by a colon  (for  example,
       SSA:mount:macread:mount).  This privilege list is meaning-
       ful only when the -t option is used, because it is used to
       test  whether  the  given  command  can be executed by the
       invoking user with the specified privileges.

       The tfadmin command  takes  the  following  options:  Test
       whether  the  user  can  invoke the given command with the
       (optionally)  given  privileges.   Do  not   execute   the

                                                                1

tfadmin(1M)                                           tfadmin(1M)

       command.   Execute  the specified command for the invoking
       user taking the definition from the role argument (if sup-
       plied).   If  the  role does not exist in that user's role
       list, print a message and fail.

DDiiaaggnnoossttiiccss
       If the requested operation succeeds, tfadmin executes  the
       command,  and, therefore, does not exit.  The invoked com-
       mand exits with whatever value is appropriate.  If the  -t
       option  is  used  and  the requested privileges would have
       been granted to the user invoking  the  requested  command
       within the requested role, tfadmin exits with a 0.  If the
       -t option was specified and tfadmin would have denied  the
       request,  tfadmin  exits with a 1.  If the operation fails
       for any reason, tfadmin exits with a 1 and issues a  diag-
       nostic message.

       The  following diagnostic messages are printed by tfadmin:
       cannot execute program file:  ``path''  undefined  command
       name ``cmd'' user not allowed cannot set up maximum privi-
       lege set full path to TFM database must be  specified  TFM
       database  does not exist improper command name: ``string''
       invalid process privilege: ``string'' unrecognized  privi-
       lege number: ``number''

RReeffeerreenncceess

                                                                2


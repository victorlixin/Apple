

pkgask(1M)                                             pkgask(1M)

SSyynnooppssiiss
       pkgask -r response [-d device] [pkg [pkg...]]

DDeessccrriippttiioonn
       pkgask  allows  an  administrator  to  store answers to an
       interactive package (one with a request script) or  a  set
       of  packages.  A set is made up of a special-purpose pack-
       age, referred to as a Set Installation Package (SIP),  and
       a  collection  of one or more packages that are members of
       the set.  The SIP controls the installation of the set.

       Invoking pkgask generates a response  file  that  is  then
       used  as  input  at  installation  time.   The use of this
       response file prevents any interaction from occurring dur-
       ing  installation  since  the file already contains all of
       the information  the  package  needs.   Runs  the  request
       script  for  a  package  on device.  device can be (a) the
       full pathname to a directory (such as /var/tmp),  (b)  the
       full   pathname   to  a  device  (such  as  /dev/rmt/*  or
       /dev/dsk/*) [see and (c) a device alias; or (d) "-"  which
       specifies packages in datastream format read from standard
       input.  The  default  device  is  the  installation  spool
       directory (/var/spool/pkg).

       An  alias  is  the unique name by which a device is known.
       (For example, the alias for a cartridge tape  drive  might
       be  ctape1.)   The  name  must  be limited in length to 64
       characters (DDB_MAXALIAS) and may  contain  only  alphanu-
       meric characters and/or any of the following special char-
       acters: underscore (_), dollar sign ($), hyphen  (-),  and
       period  (.).  No two devices in the database may share the
       same alias.  Identifies a  file  or  directory,  response,
       which should be created to contain the responses to inter-
       actions with the package's request script.  The  file,  or
       directory  of  files,  can  later  be used as input to the
       pkgadd command [see When pkginst is  a  package,  response
       can  be  a full pathname or a directory; when pkginst is a
       SIP,  response  must  be  a  directory.   For  a  complete
       description  of  request  scripts  and response files, see
       your system administration or software  packaging  guides.
       A  short  string  used  to  designate an abbreviated pack-
       age/set name.  (The term package instance is used loosely:
       it  refers  to  all  instantiations of pkginst, even those
       that do not include instance identifiers.)

       To create a package name abbreviation, assign it with  the
       PKG  parameter.   For  example, to assign the abbreviation
       cmds to the Advanced Commands package, enter PKG=cmds.

       If pkginst specifies a SIP, all request scripts for  pack-
       ages  which  are  members of that set are run (if any) and
       the resulting response files are placed in  the  directory
       provided to the -r option.

                                                                1

pkgask(1M)                                             pkgask(1M)

       To  indicate all instances of a package, specify enclosing
       the command line in single quotes, as  shown,  to  prevent
       the  shell  from  interpreting  the  * character.  Use the
       token all to refer to all packages available on the source
       medium.

   UUssaaggee
       When  pkgask runs, it creates the response file as well as
       the following directories: Contains  variables  pertaining
       to  the  package.  Contains checksum information about the
       package.  Contains backups of  previous  versions  of  the
       package.   To  install  the package on another system non-
       interactively, you must copy all of these files and direc-
       tories  to  the  target  system.   If you overwrite any of
       these directories, for example, to install another package
       non-interactively,  you  will  not be able to successfully
       remove the first package unless you restore  the  original
       directory contents first.

   EExxiitt ccooddeess
       Successful  completion of script.  Fatal error.  Installa-
       tion process is terminated at this point.  Warning or pos-
       sible  error  condition.   Installation  will continue.  A
       warning message will be displayed at the time  of  comple-
       tion.   Script  was  interrupted  and possibly left unfin-
       ished.  Installation terminates at this point.  Script was
       suspended  (administration).  Installation  terminates  at
       this  point.   Script  was  suspended   (interaction   was
       required).  Installation terminates at this point.  System
       should be rebooted when installation of all selected pack-
       ages  is completed.  (This value should be added to one of
       the single-digit exit codes described above.)  The  system
       should  be  rebooted immediately upon completing installa-
       tion of the current package.  (This value should be  added
       to  one  of  the single-digit exit codes described above.)
       No package was selected for the set.  Internal error.

FFiilleess
       default spool  directory  language-specific  message  file
       [See LANG on

RReeffeerreenncceess
NNoottiicceess
       You  can use the -r option to indicate a directory name as
       well as a filename.  The directory name is used to  create
       numerous  response  files,  each  sharing  the name of the
       package with which it should be associated.  This is  use-
       ful,  for example, when you add multiple interactive pack-
       ages with one invocation of pkgadd.  Each package needs  a
       response file.  To create multiple response files with the
       same name as the package instance, name the  directory  in
       which  the  files  should  be  created and supply multiple
       instance names with the pkgask command.   When  installing
       the  packages,  you  can  identify  this  directory to the

                                                                2

pkgask(1M)                                             pkgask(1M)

       pkgadd command.

       When invoked with no  pkginst  specified  on  the  command
       line,  pkgask  only displays the names of sets if at least
       one SIP exists on the device.  Thus, if you have  packages
       which are not members of sets, they can be referenced only
       if their pkginst names are provided on the command line.

                                                                3


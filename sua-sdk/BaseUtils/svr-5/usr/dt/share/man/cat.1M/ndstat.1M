

ndstat(1M)                                             ndstat(1M)

SSyynnooppssiiss
       /usr/bin/ndstat [-sSRlcC] [device_name]

DDeessccrriippttiioonn
       The ndstat utility displays statistics for each configured
       network adapter driver in several views.  In  addition  to
       the  driver  name and address, ndstat polls the DLPI (Data
       Link Provider Interface) module  for  information  on  the
       services  it  provides,  including: MAC (Media Access Con-
       trol) frame transmission information  Media-specific  ser-
       vices  for  Ethernet  and Token-Ring, including the Token-
       Ring source routing table.  SNAP (Sub Network Access  Pro-
       tocol)  information,  used  when  Ethernet-oriented stacks
       (such as ) run on non-Ethernet  networks.   No  statistics
       are  displayed  for  MDI  drivers  that  are being used as
       failover backup devices.  ndstat understands the following
       options:  Verify the device name only.  Display SAP infor-
       mation.  Display  the  Token-Ring  source  routing  table.
       Display media-specific statistics in long form.  Clear all
       statistics.  Clear the Token-Ring route table.  The  argu-
       ment  device_name  allows  you  to specify a single device
       name.  If you do not specify this argument  and  there  is
       more  than  one  adapter  configured, ndstat shows you the
       configuration for all of the devices.   For  MDI  devices,
       the  name  is in the form netn-1, where n is the number of
       adapters configured in your system.  For legacy  DLPI  and
       ODI drivers, the name is HSM_0.

FFiilleess
       /usr/bin/ndstat
       /usr/lib/netcfg/chains

EExxaammpplleess
       Here  is  sample  output  from  the  basic ndstat command:
       Device       MAC address in  use     Factory  MAC  Address
       ------         ------------------      -------------------
       /dev/net0    00:00:c0:cb:ca:80     00:00:c0:cb:ca:80

                       Multicast address table
                       -----------------------
                       01:00:5e:00:00:01

                                    FRAMES
              Unicast   Multicast  Broadcast    Error      Octets
       Queue Length
           ----------   ---------  ---------  ------  -----------
       ------------ In:    1559104           0     171752     867
       497222655            0 Out:   1445668          3        16
       165   536346107             0  the  name  of  the  adapter
       driver  the  MAC  (Media Access Control) address currently
       associated with the adapter.  Although this is  often  the
       same as the Factory Address, alternative MAC addresses can
       be configured for some  adapters.   the  built-in  address
       assigned by the adapter manufacturer (also called hardware

                                                                1

ndstat(1M)                                             ndstat(1M)

       address) gives the multicast address in the same  form  as
       the Factory Address number of frames that have gone in and
       out of the board, further broken down by: frames  sent  to
       or  received  from the multicast MAC address.  frames sent
       to or received from multihost MAC addresses other than the
       broadcast  address.   frames  sent to or received from the
       broadcast MAC address.  the number  of  frames  that  have
       gone  in and out with errors number of 8-bit bytes sent or
       received  number  of  STREAMS  messages  currently  queued
       ndstat  -l  displays  the  same basic information but adds
       information from the DLPI and MDI (MAC  Driver  Interface)
       modules, as well as media-specific statistics.  Here is an
       example of the module display: DLPI Module  Info:  2  SAPs
       open, 16 SAPs maximum
                        96687  frames  received  destined  for an
       unbound SAP

       MAC Driver Info: Media_type: Ethernet
                        Min_SDU:  14,  Max_SDU:   1514,   Address
       length: 6
                        Interface speed: 10 Mbits/sec

       Interface  Versions: MDI 2 information about this instance
       of the Data Link Provider Interface.   current  number  of
       active  data link users maximum number of active data link
       users allowed frames discarded because they are sent to  a
       Service  Access  Point  (SAP)  that  is not bound by a DCS
       user.  information about this Media Access  Control  (MAC)
       driver.   Ethernet,  Token-Ring,  FDDI,  ISDN minimum send
       data unit (packet size) maximum  send  data  unit  (packet
       size)  number of bytes in the MAC address maximum through-
       put supported on the media interface in megabits per  sec-
       ond  (usually  written  as ``Mbits/sec'' or ``Mbps'').  If
       the adapter supports multiple speeds (for example, it is a
       10/100  Mbps  Ethernet  adapter  or a 4/16 Mbps Token-Ring
       adapter), this value is  the  maximum  throughput  of  the
       media  to  which  the  adapter  is currently attached. For
       example, a 10/100 Ethernet adapter that is connected to  a
       10  Mbps  hub  has  an interface speed of 10 Mbits/sec MDI
       version number ndstat -R displays the same basic  informa-
       tion  but  adds a listing of the Token-Ring source routing
       table:
               Source routing table
               ====================
               0/1 Source Routes in use
               Short timer = 1000 ticks
               Medium timer = 12000 ticks
               Long timer = 90000 ticks
               Garbage collector runs every 1500 ticks

       No source routing table entries present

       ndstat -S displays the same basic information but  adds  a
       listing of SAP information:

                                                                2

ndstat(1M)                                             ndstat(1M)

                    FRAMES FOR EACH SERVICE ACCESS POINT (SAP)
               Unicast   XID   TEST   Multicast  Broadcast  Error
       Octets   Queue Length
              --------  ---  ----   ---------   ---------   -----
       ---------- ------------

       "IP"  Ethernet-II  type=0x0800:
          In:    1558996     0     0          0     123266      0
       494301873            0
          Out:  1445365    0     0          3           1       0
       536324188            0 "ARP"  Ethernet-II  type=0x0806:
          In:         13     0     0          0      48388      0
       2904256            0
          Out:      236    0     0          0          15       0
       14874            0

       to/from  individual (non-group) MAC address exchange iden-
       tification (LLC frame) Test LLC frame Logical Link Control

RReeffeerreenncceess

                                                                3




useradd(1M)                                           useradd(1M)

SSyynnooppssiiss
       useradd   [-u uid [-o] [-i]] [-g group] [-G group[[,group]
       . . .]]
             [-d dir] [-s shell] [-c comment] [-m [-k  skel_dir]]
       [-f inactive]
              [-e expire] [-p passgen] [-a event[, . . .]]
       [-h level [-h level [. . .]]] [-v def_level] [-w hd_level]
       login

DDeessccrriippttiioonn
       Invoking  useradd  generally  adds a new user entry to the
       Identification and Authentication (I&A) data  files.   The
       only  exception  is  for Network Information Service (NIS)
       users.  It also creates  supplementary  group  memberships
       for  the  user  (-G option) and creates the home directory
       (-m option) for the user if requested.  The new  login  is
       locked until the command is executed.

       As  installed,  defaults  for  the  various parameters are
       listed in the file /etc/default/useradd.  The defaults for
       the  options  below that offer defaults can be changed via
       the defadm command.

       The system file entries created with this command  have  a
       limit  of  512 characters per line.  Specifying long argu-
       ments to several options may exceed this limit.

       The following options are available: The user  identifica-
       tion  number (UID).  This UID must be a non-negative deci-
       mal integer below MAXUID as defined in  sys/param.h.   The
       UID  defaults  to the next available (unique) non-aged UID
       greater than 99.  This option is ignored if the new  login
       will  be  administered  by the Network Information Service
       (NIS).  This option allows a UID to  be  duplicated  (non-
       unique).   Because  the security of the system in general,
       and the integrity of the audit trail and accounting infor-
       mation  in particular, depends on every UID being uniquely
       associated with a specific individual, use of this  option
       is discouraged (in order to maintain user accountability).
       Allow a UID currently being aged to be used.  An  existing
       group's  integer ID or character-string name.  This option
       defines  the  new  user's  primary  group  membership  and
       defaults  to  the  default  group in /etc/default/useradd.
       This option is ignored if the new login will  be  adminis-
       tered  by  the  Network Information Service (NIS).  One or
       more  comma-separated  list  elements,  each  an  existing
       group's  integer  ID  or character string name.  This list
       defines the supplementary group membership for  the  user.
       Duplicates  are  ignored.  The list specified must be less
       than NGROUPS_MAX in length, as the number of supplementary
       groups  for  a user, plus the base group, may never exceed
       NGROUPS_MAX.  This option is ignored if the new login will
       be  administered by the Network Information Service (NIS).
       The home directory of the new user.  This field is limited

                                                                1

useradd(1M)                                           useradd(1M)

       to  256  characters.   It defaults to HOMEDIR/login, where
       HOMEDIR is the base directory for new login home  directo-
       ries  and  login  is  the new login.  Full pathname of the
       program used as the user's shell on login.  This field  is
       limited  to 256 characters.  It defaults to an empty field
       causing the system to use  /usr/bin/ksh  as  the  default.
       The  value  of shell must be a valid executable file.  Any
       text string.  It is generally a short description  of  the
       login,  and  is currently used as the field for the user's
       full name.  This  information  is  stored  in  the  user's
       /etc/passwd entry.  This field is limited to 128 printable
       characters.  Create the new user's home  directory  if  it
       doesn't  already  exist.  If the directory already exists,
       the user being added must have access permissions  to  the
       directory.   Copy  the  contents of the directory skel_dir
       into the new user's home directory, instead  of  the  con-
       tents  of  the default skeleton directory, /etc/skel.  The
       skel_dir  directory  must  exist.   The  default  skeleton
       directory  contains  a  standard and files that define the
       user's  environment.   An  administrator-defined  skel_dir
       might  contain  the  same  types of files and directories,
       customized for a special purpose.  The maximum  number  of
       days  allowed between uses of a login before that login is
       declared invalid.  Normal values  are  positive  integers.
       The  date  on  which  a login can no longer be used; after
       this date, no user will be  able  to  access  this  login.
       (This  option  is  useful  for creating temporary logins.)
       You may type the value of the argument expire (which is  a
       date)  in any format you like (except a Julian date).  For
       example, you may enter 10/6/90 or October 6, 1990.   Indi-
       cates  that  the FLAG field in /etc/shadow is to be set to
       the specified value.  This  field  is  referenced  by  the
       passwd  command to determine if a password generator is in
       effect  for  this  user.    The   FORCED_PASS   entry   in
       /etc/default/useradd  is  checked  if the -p option is not
       explicitly specified to determine the value for the  entry
       in   /etc/shadow.    If  FORCED_PASS  does  not  exist  in
       /etc/default/useradd  there  will  be  no  value  in   the
       /etc/shadow entry.  If the value of FORCED_PASS is 1, then
       the entry in /etc/shadow is set to 1.  If passgen is  nei-
       ther  a  null  string  nor  a printable ASCII character, a
       diagnostic message is  printed.   The  security  level  at
       which  a  user  can log in.  If no -h option is specified,
       the default is USER_LOGIN.  Repeat the -h option  as  many
       times  as  necessary  to  specify every level at which the
       user may log  in.   This  option  is  valid  only  if  the
       Enhanced  Security  Utilities are installed.  The security
       level used when the user does not specify  a  login  level
       when  logging  in.  The default (if no -v is specified) is
       USER_LOGIN;  if one or more levels are specified  via  -h,
       and one of them is not USER_LOGIN, then the -v option must
       be specified using one of the  levels  specified  via  -h.
       This  option is valid only if the Enhanced Security Utili-
       ties are installed.  Set the security level  of  the  home

                                                                2

useradd(1M)                                           useradd(1M)

       directory to level.  The default level for the user's home
       directory is USER_LOGIN, unless the -v  option  is  speci-
       fied, in which case the home directory is set to the level
       specified via -v.  In general, the home  directory  should
       be  set to the lowest level at which a user can log in, or
       to a level lower than all the levels at which a  user  can
       log  in.   This option is valid only if the Enhanced Secu-
       rity Utilities are installed.  A comma-separated  list  of
       event types or classes that make up the user's audit mask.
       There is no default user  audit  mask  in  the  system  as
       delivered,  but  you  can  define  a  default  in the file
       /etc/default/useradd  using  the  defadm  command.    This
       option  is  valid  only  if  the  Auditing  Utilities  are
       installed.  (To find out which packages are  installed  on
       your system, run the  pkginfo command.)  A string of char-
       acters (restricted to the set of alphanumeric  characters,
       the  period  (.),  underscore (_), plus (+), and minus (-)
       characters) that specifies the new login name of the user.
       It must not begin with a capital letter.

       Note  that  many  of the defaults for the above parameters
       can be changed through the defadm command, which  adminis-
       ters  the /etc/default/useradd file.  These defaults apply
       to local users  only.   The  Network  Information  Service
       (NIS)  database controls defaults for NIS users.  You must
       specify options  on  the  command  line  to  override  NIS
       defaults.

   NNeettwwoorrkk iinnffoorrmmaattiioonn sseerrvviiccee llooggiinnss
       If  login  is  preceded  by  a  + character, (for example,
       +chris), the login definition will be administered by  the
       Network  Information  Service  (NIS).   The default values
       will be drawn from  the  NIS  database  rather  than  from
       /etc/defaults/useradd.   Values  for  the  -u,  -g  and -G
       options will be silently  ignored  if  these  options  are
       specified.   Instead,  the values for user ID and group ID
       will be taken from the NIS database.  See for more  infor-
       mation.   Note  that  when  adding  a NIS user, login must
       exist in the NIS database.   For  example,  to  add  login
       chris  as an NIS user, chris must already exist in the NIS
       database.  You would then invoke useradd with a  login  of
       +chris,  to  distinguish  that you wish to add chris as an
       NIS user, not a local user.

FFiilleess
       (if the Auditing Utilities are installed)

DDiiaaggnnoossttiiccss
       The useradd command exits with a return  code  of  0  upon
       successful  completion.   In case of errors, the following
       messages may be displayed: The  command  line  syntax  was
       invalid.  An invalid argument was provided with an option.
       The uid specified with the -u option is already in use and
       the -o option was not specified.  The group specified with

                                                                3

useradd(1M)                                           useradd(1M)

       the -g option does not exist.  The specified login is  not
       unique.  Cannot update /etc/group.  The login was added to
       the /etc/passwd file  but  not  to  the  /etc/group  file.
       Unable  to  create the home directory (with the -m option)
       or unable to complete the copy of  skel_dir  to  the  home
       directory.  uid not aged sufficiently. Choose another.  An
       invalid security level was specified.  An invalid  default
       security  level  was  specified.  An invalid option -a was
       specified; system service not installed.  An invalid audit
       event type or class event was specified.

RReeffeerreenncceess

                                                                4


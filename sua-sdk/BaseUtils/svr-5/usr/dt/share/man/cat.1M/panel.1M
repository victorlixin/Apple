

panel(1M)                                               panel(1M)

SSyynnooppssiiss
       panel [-m] [-u|-t "text"] [-h|-s|-o] [-q] [-c configfile]

DDeessccrriippttiioonn
       panel  is  a user interface that monitors and controls the
       sensors and displays on the AST Manhatten computer.

       panel monitors the Manhatten's OFF keyswitch and ATTN but-
       ton.  When  the  ATTN  button is pushed, panel executes an
       init 1 and puts the  operating  system  into  single  user
       mode.   When  the  OFF keyswitch is turned off, panel exe-
       cutes /sbin/shutdown and turns off the power.

       panel checks on the state of the UPS (if  installed).   If
       the UPS is on, i.e. the normal power is off and the UPS is
       supplying power, panel initiates a system shutdown after a
       short delay (default: 1 minute).

       The  AST  Manhatten  may  have up to 3 power supplies: the
       regular power supply, a redundant power supply and a  UPS.
       panel  checks  the  condition of the regular and redundant
       power supplies (if installed).  If a power  supply  fails,
       panel  notifies  root  by  mail and sends a message to the
       console; no other action is taken.

       panel monitors the thermal condition of the computer.   If
       the  computer's  internal temperature sensor (near the CPU
       boards) indicates the temperature is too high,  a  message
       is  sent  to the console and mail is sent to root.  If the
       temperature is not brought  into  normal  operating  range
       within  a  short period of time (default: 1 minute), panel
       executes /sbin/shutdown and brings the  system  down.   If
       the  hardware  capability exists, the power is also turned
       off.

       panel sets the front panel CPU graph  into  one  of  three
       modes:  histogram  mode, status mode or online mode.  His-
       togram mode graphically shows current CPU  utilization  (%
       of  full  capacity).   Status mode shows which CPUs are in
       use (actively processing).  Online mode shows  which  CPUs
       are  currently  online  (enabled).  The modes are mutually
       exclusive.

       panel controls the front panel text display.  It can  dis-
       play % CPU utilization of full capacity or text (static or
       scrolling).

       panel can also enable or disable the RAM cache.

       panel, with no arguments, reports the current settings.

   CCoommmmaanndd ooppttiioonnss
       Start the monitoring daemons.  Display %  CPU  utilization
       on  front panel text display.  Display text on front panel

                                                                1

panel(1M)                                               panel(1M)

       text display.  Set front panel CPU graph to show CPU  uti-
       lization.   Set  front  panel CPU graph to show which CPUs
       are being used.  Set front panel CPU graph to  show  which
       CPUs  are  online.   Enable RAM cache.  Disable RAM cache.
       Quiet mode: report error messages only.  Use configuration
       file  configfile  to  set  the following environment vari-
       ables:
       ---------------------------------------------------------------
       Variable           Description            Default
       ---------------------------------------------------------------
       UPS_SHUT_DELAY     minutes      between   1 minute
                          power   failure  and
                          shutdown
       UPS_ACTION         unix  command   exe-   /sbin/shutdown    -y
                          cuted when UPS state   -g0 -i0
                          is ON
       THERM_POLL_DELAY   minutes      between   1 minute
                          overheat  and  shut-
                          down
       THERM_SHUT_DELAY   polling    frequency   1 minute
                          for thermal sensor
       PWR_POLL_DELAY     polling    frequency   1 minute
                          for   power   supply
                          condition
       GRAPH_MODE         CPU    graph    mode   3 (online mode)
                          1=histogram mode
                          2=status mode
                          3=online mode
       DISPLAY_MODE       alpha display mode     1(utilization mode)
                          1=utilization mode
                          2=text mode
       DISPLAY_TEXT       default text           AST Manhatten MP
       SCROLL_DELAY       scrolling speed        250 milliseconds
       SCROLL_PAUSE       time  between redis-   1000 milliseconds
                          play  of   scrolling
                          text
       CACHE_MODE         enables  or disables   N(enabled)
                          cache mode N or F

FFiilleess
AAuutthhoorr
       panel was conceived and written at Microport, Inc. by  Wes
       Modes.

NNoottiicceess
       If  the  display  text is longer than than the front panel
       text display, panel continuously scrolls the  text  across
       the  display.   The  LED display is 4 characters wide, for
       example, ``AST'' would not scroll, but  ``AST  MANHATTEN''
       would.

       The  redundant  power supply is a duplicate of the regular
       power supply and powers the system if  the  regular  power
       supply fails or drops out of spec.

                                                                2

panel(1M)                                               panel(1M)

       The  variable  values  set  in the optional configfile are
       overridden by command line switches.  The  variable  names
       used  in  the  configfile may be uppercase, lowercase or a
       mixture of the two.  Underbars or dashes may  be  used  to
       connect  words.   For  example,  all  of the following are
       valid ways of spelling  the  variable  DISPLAY_TEXT:  DIS-
       PLAY_TEXT  display_text  DISPLAY-TEXT  display-text

       The following example shows the format used in configfile:
       # panel configuration file

       #   display   text   on   front   panel    text    display
       DISPLAY_TEXT    TESTING 1 2 3

       #      pause      between      redisplay      of      text
       SCROLL_PAUSE    1000                                          #
       in milliseconds A sample configuration file containing the
       default     variable     values     is     provided     in
       /etc/default/panel.cfg.

       shutdown  or  init 0 will not turn off power if the system
       is in uniprocessor mode.

                                                                3


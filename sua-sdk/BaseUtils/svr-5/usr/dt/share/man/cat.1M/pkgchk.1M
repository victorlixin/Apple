

pkgchk(1M)                                             pkgchk(1M)

SSyynnooppssiiss
       pkgchk  [-l  |  -acfqv] [-nx] [-p path1[,path2 . . . ] [-i
       file]      [pkginst . . . ]

       pkgchk -d device [-l | v] [-p path1[,path2 .  .  .  ]  [-i
       file]      [pkginst . . . ]

       pkgchk  -m  pkgmap  [-e  envfile]  [-l | -acfqv] [-nx] [-i
       file]      [-p path1[,path2 . . .  ]]

DDeessccrriippttiioonn
       pkgchk checks the accuracy of installed files or,  by  use
       of  the  -l  option,  displays  information  about package
       files.  The command  checks  the  integrity  of  directory
       structures  and  the files.  Discrepancies are reported on
       stderr along with a detailed explanation of the problem.

       The first synopsis defined above is used to list or  check
       the  contents  and/or  attributes of objects that are cur-
       rently installed on the  system.   Package  names  may  be
       listed  on the command line, or by default the entire con-
       tents of a machine will be checked.

       The second synopsis is used to list or check the  contents
       of  a  package  which  has  been  spooled on the specified
       device, but not installed.  Note that attributes cannot be
       checked for spooled packages.

       The  third  synopsis is used to list or check the contents
       and/or attributes of objects which are  described  in  the
       indicated pkgmap.

       The  option  definitions  are:  Lists  information  on the
       selected files that make up a package.  It is not compati-
       ble  with  the a, c, f, g, and v options.  Audits the file
       attributes only, does not check file contents.  Default is
       to  check  both.   Audits the file contents only, does not
       check file attributes.  Default is to  check  both.   Cor-
       rects  file  attributes  if possible.  If used with the -x
       option, it removes hidden files.  When pkgchk  is  invoked
       with  this  option  it  creates  directories, named pipes,
       links, and special devices if they do not  already  exist.
       Quiet  mode.   Does not give messages about missing files.
       Verbose mode.  Files are listed as  processed.   Does  not
       check volatile or editable files.  This should be used for
       most  post-installation  checking.    Searches   exclusive
       directories  only,  looking  for files that exist that are
       not in the installation software database or the indicated
       pkgmap  file.  (An exclusive directory is a directory cre-
       ated by and for a package; it should  contain  only  files
       delivered  with  a  package.  If any non-package files are
       found in an exclusive directory, pkgchk reports an error.)
       If  -x  is  used  with  the  -f  option,  hidden files are
       removed; no other  checking  is  done.   Only  checks  the

                                                                1

pkgchk(1M)                                             pkgchk(1M)

       accuracy  of  the  pathname or pathnames listed.  pathname
       can be one or more pathnames separated by  commas  (or  by
       white  space,  if  the  list  is quoted).  Reads a list of
       pathnames from file and compares this list against the in-
       stallation software database or the indicated pkgmap file.
       Pathnames that are not  contained  in  inputfile  are  not
       checked.   Specifies the device on which a spooled package
       resides.  device can be a directory pathname, the  identi-
       fiers  for  a tape or other removable medium (for example,
       /var/tmp, /dev/rmt0, or /dev/rmt/ctape1), or - which spec-
       ifies  packages  in  datastream  format read from standard
       input.  Requests that the package be checked  against  the
       pkgmap  file pkgmap.  Requests that the pkginfo file named
       as envfile be used to  resolve  parameters  noted  in  the
       specified  pkgmap  file.  A short string used to designate
       an abbreviation for the package name.  (The term ``package
       instance''  is  used  loosely: it refers to all instantia-
       tions of pkginst, even those that do not include  instance
       identifiers.)

       See and

       To  indicate all instances of a package, specify enclosing
       the command line in single quotes, as  shown,  to  prevent
       the  shell  from  interpreting  the  * character.  Use the
       token all to refer to all packages available on the source
       medium.

   EExxiitt ccooddeess
       Successful  completion  of script.  Fatal error. Installa-
       tion process is terminated at this point.

FFiilleess
       language-specific message file [See LANG on

RReeffeerreenncceess
NNoottiicceess
       To remove hidden files only, use the  -f  and  -x  options
       together.  To remove hidden files and check attributes and
       contents of files, use the -f,  -x,  -c,  and  -a  options
       together.

                                                                2


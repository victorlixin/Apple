

diskadd(1M)                                           diskadd(1M)

SSyynnooppssiiss
       diskadd [-F dm_type] [disk_number]

       diskrm [-F dm_type] [disk_number]

DDeessccrriippttiioonn
       The  initial system disk is set up during system installa-
       tion.  Additional disks not used during  system  installa-
       tion  must  be set up using diskadd; the diskrm command is
       used to remove disk drives  from  the  system.   The  only
       function of diskrm is to update /etc/vfstab.

       diskadd  is  an  interactive command which prompts you for
       information about the setup of the disk.

   CCoommmmaanndd ooppttiioonnss
       Denotes the disk manager interface to use.  If this option
       is   not   specified,  diskadd  and  diskrm  look  in  the
       /etc/default/dskmgmt file for the disk  manager  interface
       to  use.   If  the /etc/default/dskmgmt file is missing or
       the default cannot be determined, the value s5dm is  used.
       This  is  also  the  default  disk  manager  entry  in the
       /etc/default/dskmgmt file; to set a different default disk
       manager,  you must change this entry.  Represents the disk
       device to be added to the system.  If you specify 1 as the
       disk_number, diskadd defaults to adding the second disk on
       your system.  For additional  disks,  the  format  of  the
       disk_number argument is: cCbBtTdD

       See for an explanation of this notation.

FFiilleess
UUssaaggee
       To setup a hard disk, first the command is invoked to par-
       tition the disk.  This partitions the  disk  into  logical
       portions  for  the  UnixWare operating system and, option-
       ally, for up to 3 other operating systems.

       Next, the command is executed for surface analysis, creat-
       ing/writing the pdinfo, VTOC and alternates information to
       the disk, issuing the  needed  mkfs  calls,  and  mounting
       filesystems.

       Then surface analysis is performed to catch any detectable
       defects and remap them.  The creation of the VTOC  divides
       the   system partition into slices.  Slices are created to
       contain a filesystem or act as a raw device (for  example,
       the  swap  or dump device).  Executing the command for the
       needed filesystems handles the creation of a specific type
       of  filesystem  on  a  slice.   If you requested automatic
       mounting, directories are created in the  root  filesystem
       to  hold  the  new  filesystems,  they  are  mounted,  and
       /etc/vfstab is  updated  to  remount  them  on  subsequent
       bootups of the system.

                                                                1

diskadd(1M)                                           diskadd(1M)

       If  you  add  swap/paging space on the new drive, you must
       make it available for system use with the command.

       The diskadd command cannot be used to  enable  large  file
       support.   If  you  need  to enable large file support for
       files greater than 2GB on a vxfs filesystem, use

       As mentioned previously, the diskrm command can be used to
       remove  disk  drives  from  the  system  by  updating  the
       /etc/vfstab file.  The drive to be removed  is  designated
       in the same way as for the diskadd command.

RReeffeerreenncceess
NNoottiicceess
       Due to compatibility considerations, when you set up a UFS
       filesystem greater than 128 MB,  it  will  hold  only  64k
       inodes.   To  create more than 64k inodes, either recreate
       the filesystem using mkfs or use the UFS filesystem debug-
       ger to allocate more inodes.

       If  you  change the hard disk configuration on your system
       (for example, if you add, replace, or remove a hard disk),
       you  should  create new emergency recovery diskettes.  For
       details, see

                                                                2




swreg(1M)                                               swreg(1M)

SSyynnooppssiiss
       /usr/sbin/swreg  -l  level [-u] [-v] [-C session_file] [-f
       object_file]
            [-S session_file] [-t target_file]
            [-x option=value] [-X option_file]
            [objects_to_register] [@ target_selections]

DDeessccrriippttiioonn
       The swreg command controls the visibility  of  depots  and
       roots  to  users  who  are  performing software management
       tasks.  It must be used to register depots created by

       By default, registers newly created depots.   By  default,
       registers newly created alternate roots (the root / is not
       automatically registered).  unregisters a depot, or  root,
       when the depot is empty. The user invokes swreg to explic-
       itly (un)register a depot when the automatic behaviors  of
       swcopy, swinstall, swpackage, and swremove do not suffice.
       For example, when: making  a  CD-ROM  or  other  removable
       media  available as a registered depot registering a depot
       created directly by swpackage unregistering a depot  with-
       out removing it with swremove

   OOppttiioonnss
       swreg  supports  the  following options: Saves the current
       options and operands to session_file.   You  can  enter  a
       relative  or absolute path with the filename.  The default
       directory for session files is  $HOME/.sw/sessions/.   You
       can recall a session file with the -S session_file option.
       You can save session information with the -C  session_file
       option.   In  addition, swreg automatically creates a ses-
       sion file of the most recent  session  information  called
       $HOME/.sw/sessions/swreg.last.  Reads the list of software
       selections from software_file, instead of (or in  addition
       to)  the  command  line operands (given by software_selec-
       tions).  Specifies the level of the object to register  or
       unregister.   Only  one  level  can be specified. The sup-
       ported levels are: The object to be registered is a depot.
       The  object  to  be registered is a root.  Runs swreg with
       options and operands saved from a previous session to ses-
       sion_file.   You  can  save  session information to a file
       with the -C session_file option.  Reads the list of target
       selections  from  target_file,  instead of (or in addition
       to) the command  line  operands  (given  by  target_selec-
       tions).  Unregisters the specified objects instead of reg-
       istering them.  Turns on verbose output  to  stdout.  (The
       swreg  log  file  is not affected by this option.) Verbose
       output is enabled by default.  Sets the default option  to
       value,  and  overrides the default value (or a value in an
       alternate option_file specified with the -X option).  Mul-
       tiple  -x  options  can  be  specified.  Reads the default
       options and  behaviors  from  option_file.   These  values
       override the default values.  swreg supports the following
       format for  each  object  to  register:  object_path  Each

                                                                1

swreg(1M)                                               swreg(1M)

       operand  specifies  an object to be registered or unregis-
       tered.  swreg supports the following format for each  tar-
       get selection: [host]

   DDeeffaauulltt ooppttiioonnss
       In  addition to the standard options, several SM behaviors
       and policy options can be  changed  by  modifying  default
       values    listed    in    the    master   defaults   file,
       /usr/lib/sw/sys.defaults.  Refer to the  manual  page  for
       information about each of these default options and how to
       modify them.

       The following options are supported by swreg:
       distribution_target_directory   objects_to_register
       level                           rpc_binding_info
       logdetail                       rpc_timeout
       logfile                         select_local
       loglevel                        targets
       log_msgid                       verbose

   SSeessssiioonn ffiilleess
       Each invocation of swreg defines a  registration  session.
       The   invocation  options,  source  information,  software
       selections, and target hosts are saved before  the  actual
       registration  starts.  This lets you re-execute swreg even
       if the session ends before proper  completion.   Refer  to
       the manual page for further details.

   EEnnvviirroonnmmeenntt vvaarriiaabblleess
       Refer  to  the  manual page for details of the environment
       variables that affect swreg and the scripts.

   SSiiggnnaallss
       swreg catches the SIGQUIT and SIGINT  signals.   If  these
       signals  are  received,  swreg  writes  a message, sends a
       Remote Procedure Call (RPC) to the daemons to wrap up, and
       then exits.

FFiilleess
       Contains  the user-specific default values for some or all
       SM options. If this file does  not  exist,  SM  looks  for
       user-specific  defaults  in  $HOME/.sw/defaults.  Contains
       the master list of current SM options with  their  default
       values.   Contains all of the configurable and non-config-
       urable data for SM.  This directory is  also  the  default
       location  of  log  files.  Contains the active system-wide
       default values for some or all  SM  options.   Contains  a
       list of depots registered at the local host.

EExxiitt ccooddeess
       swreg  returns:  the objects to (un)register were success-
       fully (un)registered the (un)register operation failed  on
       all target selections the (un)register operation failed on
       some target selections

                                                                2

swreg(1M)                                               swreg(1M)

DDiiaaggnnoossttiiccss
       swreg writes to stdout, stderr,  and  to  the  daemon  log
       file.

   SSttaannddaarrdd oouuttppuutt
       swreg  writes  messages  for  significant  events.   These
       include: a begin and end  session  message  selection  and
       execution task messages for each target selection

   SSttaannddaarrdd eerrrroorr
       swreg writes messages for all WARNING and ERROR conditions
       to stderr.

   LLoogg ffiilleess
       swreg logs summary events at the host  where  the  command
       was invoked.  It logs events about each (un)register oper-
       ation to the log file, swagentd.log, associated with  each
       target selection.

RReeffeerreenncceess
NNoottiicceess
   AAuutthhoorr
       swreg was developed by the Hewlett-Packard Company.

EExxaammpplleess
       To  create  a  new  depot with and register it with swreg,
       enter: swpackage -s product.psf -d /var/spool/sw swreg  -l
       depot  /var/spool/sw To unregister a specific depot at the
       local host, enter: swreg -u -l depot /cdrom

                                                                3




dcu(1M)                                                   dcu(1M)

SSyynnooppssiiss
       dcu [-C | -S]

DDeessccrriippttiioonn
       The Device Configuration Utility (DCU) allows you to: List
       the hardware devices (controllers) that are configured  on
       your  system and define, view, or change the device driver
       settings for these hardware devices.  A device driver is a
       software program that enables the operating system to com-
       municate with a hardware device.  The hardware  parameters
       for  a  hardware  device  must  be  assigned to the device
       driver for the operating system  to  access  the  hardware
       device.   For  each  configured  hardware  device, the DCU
       lists the associated device driver and the hardware param-
       eters  that  are currently assigned to this device driver.
       These parameters include the interrupt vector  (IRQ),  I/O
       address  range,  memory  address  range,  DMA channel, IPL
       value, ITYPE value, board ID, bind CPU value,  and  device
       name.   Configure/unconfigure a device driver.  Deactivate
       a hardware device (disable  the  kernel's  access  to  the
       hardware  device).   Assign  hardware  devices  to  device
       drivers.

       The dcu command provides a menu interface for you to  view
       or change the hardware configuration information.  On-line
       help for this interface is available by  pressing  the  F1
       function  key.   Navigation and choice information is pro-
       vided at the bottom of each DCU screen.

       The DCU can also be invoked from the UnixWare  Desktop  by
       selecting  Hardware_Setup from the Admin Tools window and,
       when prompted, entering the password for root.

       The major DCU options (available on  the  DCU  main  menu)
       are:  This  option lets you view the hardware devices that
       are configured on your system and modify the device driver
       parameters to match the hardware device parameters.

       In  most cases, the operating system automatically detects
       the hardware devices that are attached to your system  and
       lists  each  hardware  component.   However, some hardware
       cannot be detected automatically; for example, some  hard-
       ware devices are manually configured and do not have soft-
       ware setup utilities that define  the  hardware  parameter
       settings  to your system NVRAM (non-volatile random access
       memory).  For such hardware, you need to use the  Software
       Device  Drivers  option  to  define  a new hardware device
       instance for the appropriate device driver.

       For additional board-specific information, from the  Hard-
       ware  Device Configuration menu, use the TAB or arrow keys
       to highlight the particular hardware device and then press
       the F6 key.  This option lets you view device drivers con-
       figured on your system and to assign hardware  devices  to

                                                                1

dcu(1M)                                                   dcu(1M)

       device  drivers.   To add a hardware device (to define the
       hardware parameters for a new hardware  device),  use  the
       TAB  or  arrow  keys  to  highlight the appropriate device
       driver, enable it by toggling the value  for  the  enabled
       field  (the  first field) to Y, and then press the F5 key.
       For additional device driver-specific information, use the
       TAB  or  arrow  keys  to  highlight  the particular device
       driver and then press the F6 key.  This  option  lets  you
       save  the changes you selected through the Hardware Device
       Configuration or  Software  Device  Driver  windows.   The
       changes requested through the DCU do not take effect until
       you select this option.  Changes made to most auto-config-
       urable drivers supplied with &gemini; will take effect the
       next time the driver is loaded.  Changes made to any other
       drivers  might not take effect until the kernel is rebuilt
       with the command.  This option lets you exit the DCU with-
       out  applying  any of the changes you selected through the
       Hardware Device Configuration or Software  Device  Drivers
       menus.   If  you  select  this  option,  all  the  changes
       requested using the DCU are lost and do not  take  effect.
       The  DCU  allows  you  to view or change the device driver
       settings for your hardware devices.  If you need to change
       the  hardware parameters for a hardware device, first shut
       down your system.  Then, change the jumper pins or run the
       configuration  utility  provided  with the hardware.  When
       the system reboots, invoke the  DCU  and  define  the  new
       hardware  parameter  settings  to  the  appropriate device
       driver.

   FFllaaggss
       Checks  the  hardware  configuration  for  conflicts.    A
       report,  in  the full-screen style of the interactive DCU,
       is displayed for each conflict detected.  The dcu -C  com-
       mand  exits  with  an  exit  code  of 3 when conflicts are
       found.   silently  maps  UNKOWN  entries  in  the   resmgr
       database to the appropriate device drivers.  It does so by
       comparing the board ID parameter and board bus type param-
       eter  of  the  UNKNOWN  entry  to  the information in each
       device driver's /etc/conf/drvmap.d file.  When a match  is
       found,  the  entry  is  mapped  to  that device driver.  A
       resmgr entry is considered UNKNOWN when no  device  driver
       has yet been mapped to it.

   EEnnvviirroonnmmeenntt vvaarriiaabblleess
       The  DCU  uses  the  following  environment variables: The
       directory where UnixWare is installed; the default  is  /.
       The   location   of   the  dcu  scripts;  the  default  is
       ${ROOT}/etc/dcu.d.  The internationalization language; the
       default  is  C.   The terminal type; the default is at386.
       The   location   for   the   file;    the    default    is
       ${ROOT}/usr/share/lib/terminfo.

FFiilleess

                                                                2

dcu(1M)                                                   dcu(1M)

EExxiitt ccooddeess
       The  dcu  command  exits with one of the following values:
       Success.  Failure.  The  DCU  was  unable  to  access  the
       /dev/resmgr file.

       Failure.   The  terminfo  type is not supported.  Failure.
       Option requires  an  argument  or  illegal  option  given.
       Failure.  A hardware conflict was detected.  Failure.  The
       idconfupdate command failed.   Failure.   The  idbuild  -n
       command failed to create the loadable module.

WWaarrnniinnggss
       Do not modify the /stand/resmgr file.  Use the dcu command
       to make any changes to the system resource database.   The
       system  might  not  function  or boot if the /stand/resmgr
       file is corrupted.

RReeffeerreenncceess
   EExxaammpplleess
       To deactivate a non-SCSI tape device, the following proce-
       dure will deactivate the ictha device driver: Enter dcu to
       invoke the DCU.  When prompted, enter the  root  password.
       The  DCU  main  menu is displayed.  Select Hardware Device
       Configuration.  Navigate to the line corresponding to  the
       device  driver  you  want  to  deconfigure.  Type N in the
       first column (or press the F2 key to toggle to N).   Press
       the F10 key to return to the DCU main menu.  Use the arrow
       keys to select Apply Changes and Exit DCU.  Press the  key
       to  apply the ictha device driver change and exit the DCU.

                                                                3


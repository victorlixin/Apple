

ttyadm(1M)                                             ttyadm(1M)

SSyynnooppssiiss
       /usr/sbin/ttyadm  [-P]  [-b] [-c] [-r count] [-h] [-i msg]
       [-m modules] [-p prompt] [-t timeout] [-o]  -d  device  -l
       ttylabel -s service

       /usr/sbin/ttyadm -V

DDeessccrriippttiioonn
       The  ttyadm  command  formats  data  from and writes it to
       standard output, from where it can be used by the and com-
       mands  to  update the administrative file for ttymon.  The
       Service Access Facility (SAF) requires each  port  monitor
       to provide such a command.

       ttyadm  is  the  front-end  for  the  ttymon  Daemon Mode.
       Instructs the ttymon port monitor that PPP is  being  used
       over the link, so that call services information is passed
       to the PPP shell, via the calls_t structure.  See and  for
       more information.  Sets the bidirectional port flag.  When
       this flag is set, the line can be used in both directions.
       ttymon  will allow users to connect to the service associ-
       ated with the port, but if the port is free,  uucico,  cu,
       or  ct  can  use it for dialing out.  Sets the connect-on-
       carrier flag for the port.  If the -c flag is set,  ttymon
       will invoke the port's associated service immediately when
       a connect indication is received (that is,  no  prompt  is
       printed  and  no  baud-rate searching is done).  device is
       the full pathname of the device file  for  the  tty  port.
       Sets  the hangup flag for the port.  If the -h flag is not
       set, ttymon will force a hangup on the line by setting the
       speed  to  zero before setting the speed to the default or
       specified  value.   Specifies  the   inactive   (disabled)
       response  message.   This  message will be sent to the tty
       port if the port is disabled or the ttymon monitoring  the
       port   is  disabled.   Specifies  which  ttylabel  in  the
       /etc/ttydefs file  to  use  as  the  starting  point  when
       searching  for  the proper baud rate.  Specifies a list of
       pushable STREAMS modules.  The modules will be pushed,  in
       the  order in which they are specified, before the service
       is invoked.  modules must be  a  comma-separated  list  of
       modules,  with  no white space included.  Any modules cur-
       rently on the stream will be popped before  these  modules
       are  pushed.   Enables  support for port initialization in
       some modems.  The modem dialer is  invoked  via  the  call
       which resets the modem to a default configuration.  Speci-
       fies the prompt message, for example, login:.  When the -r
       option is invoked, ttymon will wait until it receives data
       from the port before it displays a prompt.   If  count  is
       equal  to  zero,  ttymon  will  wait until it receives any
       character.  If count is greater  than  zero,  ttymon  will
       wait  until count newlines have been received.  service is
       the full pathname of the service to be invoked when a con-
       nection  request  is received.  If arguments are required,
       the command and its arguments must be enclosed  in  double

                                                                1

ttyadm(1M)                                             ttyadm(1M)

       quotes.

       If  service  is  specified as auto, then ttymon determines
       which service to invoke  using  the  /etc/ics/Callservices
       file,  see  for information.  Specifies that ttymon should
       close a port if no input data is received in timeout  sec-
       onds from the beginning of a connect indication.  Displays
       the version number of the current /usr/lib/saf/ttymon com-
       mand.

EExxiitt ccooddeess
       If successful, ttyadm will generate the requested informa-
       tion, write it on the standard output,  and  exit  with  a
       status  of 0.  If ttyadm is invoked with an invalid number
       of arguments or invalid arguments,  or  if  an  incomplete
       option  is  specified, an error message will be written to
       the standard error and ttymon will exit  with  a  non-zero
       status.

FFiilleess
       language-specific message file (see LANG on

UUssaaggee
       When  using  the  -b option with the -r 0 option, only one
       character needs to be given in order to return a prompt.

RReeffeerreenncceess
NNoottiicceess
       -r should not be  used  with  a  modem  configured  for  a
       switched  carrier.   If  the  -r count is too low, the tty
       line may go into an infinite echo loop, which  will  cause
       the RX/TX lights to flash wildly.

                                                                2




xrestore(1M)                                         xrestore(1M)

SSyynnooppssiiss
       xrestore key [arguments]

       xrestor key [arguments]

DDeessccrriippttiioonn
       xrestore  is used to read archive media backed up with the
       command.  The key specifies what is to be  done.   key  is
       one  of  the  characters  xt,  optionally combined with f.
       xrestor is an alternate spelling for the same command.

   CCoommmmaanndd ooppttiioonnss
       Uses the first argument as the name of the archive instead
       of  the  default.   Specifies the file number of the first
       volume to be restored.  Specifies the size of  the  volume
       to  be  restored.   Each  file  on the archive named by an
       argument is extracted.  The  filename  has  all  ``mount''
       prefixes  removed;  for  example,  if  /usr  is  a mounted
       filesystem, /usr/bin/lpr is named /bin/lpr on the archive.
       The extracted file is placed in a file with a numeric name
       supplied by xrestore  (actually  the  inode  number).   In
       order to keep the amount of archive read to a minimum, the
       following procedure is recommended: Mount volume 1 of  the
       set  of  backup  archives.   Type  the  xrestore  command.
       r1restore will announce whether or not it found the files,
       give the numeric name that it will assign to the file, and
       in the case of a tape, rewind to the start of the archive.
       It  then  asks  you  to ``mount the desired tape volume''.
       Type the number of the volume you choose.  On a  multivol-
       ume  backup the recommended procedure is to mount the vol-
       umes, last through first.  restore checks to see if any of
       the requested files are on the mounted archive (or a later
       archive--thus the reverse order).  If the requested  files
       are not there, xrestore doesn't read through the tape.  If
       you are working with a single-volume backup or if the num-
       ber of files being restored is large, respond to the query
       with 1, and xrestore will read the archives in  sequential
       order.   Puts  files  in  the directory specified by argu-
       ments.  Prints the date the archive was  written  and  the
       date  the  filesystem was backed up.  This causes xrestore
       to behave like the XENIX dumpdir(C) command except that it
       doesn't list directories.

       The  r  option  should  only be used to restore a complete
       backup archive onto a clear filesystem, or to  restore  an
       incremental  backup  archive onto a filesystem so created.
       Thus: /etc/mkfs /dev/dsk/0s3 10000 xrestore r /dev/dsk/0s3

       is  a  typical  sequence  to  restore  a  complete backup.
       Another xrestore can be done to get an incremental  backup
       in on top of this.

       A  backup  followed  by  a  mkfs and a xrestore is used to
       change the size of a filesystem.

                                                                1

xrestore(1M)                                         xrestore(1M)

FFiilleess
       Temporary files Name of default archive device

       The default archive unit varies with installation.

DDiiaaggnnoossttiiccss
       There are various diagnostics involved  with  reading  the
       archive  and writing the disk.  There are also diagnostics
       if the i-list or the free list of the  filesystem  is  not
       large enough to hold the dump.

       If  the  dump  extends over more than one disk or tape, it
       may ask you to change disks or tapes.  Reply with  a  NEW-
       LINE when the next unit has been mounted.

NNoottiicceess
       xrestore  is for  compatibility and should only be used to
       restore filesystems that were backed up under .

       It is not  possible  to  successfully  restore  an  entire
       active root filesystem.

                                                                2


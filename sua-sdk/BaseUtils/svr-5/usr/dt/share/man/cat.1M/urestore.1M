

urestore(1M)                                         urestore(1M)

SSyynnooppssiiss
       urestore  -F [-mn] [-s|v] [-o target] [-d date] file . . .
       urestore -D [-mn] [-s|v] [-o target] [-d date] dir . . .
       urestore -c jobid

DDeessccrriippttiioonn
       urestore posts requests for files  or  directories  to  be
       restored  from  system-maintained archives.  If the appro-
       priate archive containing the requested files or  directo-
       ries  is  online,  the  files  or directories are restored
       immediately.  If not, a request to restore  the  specified
       files  or directories is posted to a restore status table,
       /etc/bkup/rsstatus.tab.  A restore request that  has  been
       posted  must  later be resolved by an operator.  Each file
       or directory to be restored is assigned a restore  job  ID
       that can be used to monitor the progress of the restore or
       to cancel it.

       The user must have write permission for the current direc-
       tory and any subdirectories to be traversed in storing the
       restored files or directories.  Requests for restores  may
       be  made  only by the user who owned the files or directo-
       ries at the time  the  archive  containing  the  files  or
       directories was made, or by a privileged user.

   OOppttiioonnss
       Cancels a previously issued restore request.  Restores the
       filesystem or directory as of date.  (This may or may  not
       be  the  latest archive.)  See for valid date formats.  If
       the restore cannot be carried out immediately, this option
       notifies the invoking user (via mail) when the request has
       been completed.  Displays a list of all archived  versions
       of  the  filesystem  or  directory contained in the backup
       history log but does not attempt to restore the filesystem
       or directory.  Instead of restoring directly to the speci-
       fied file or directory, this option replaces the  file  or
       directory target with the archive of the specified file or
       directory.  While a restore operation is  occurring,  dis-
       plays  a . for each 100 (512-byte) blocks transferred from
       the destination device.  Displays the name of each  object
       as  it  is  restored.   Only  those archiving methods that
       restore named directories and files (incfile, ffile)  sup-
       port  this  option.   Initiates  a  restore  operation for
       directories.  Initiates a restore operation for files.

DDiiaaggnnoossttiiccss
       The exit codes for urestore are the  following:  The  task
       completed  successfully.   One  or more parameters to ure-
       store are invalid.  An error has  occurred,  causing  ure-
       store to fail to complete all portions of its task.

EExxaammpplleess
       Example  1:  urestore  -F  -m  bigfile  posts a request to
       restore the most current  archived  version  of  the  file

                                                                1

urestore(1M)                                         urestore(1M)

       bigfile.   If  the restore operation cannot be carried out
       immediately,  it  notifies  the  invoking  user  when  the
       request has been completed.

       Example 2: urestore -c rest-256a,rest-256b cancels restore
       requests with job ID numbers rest-256a and rest-256b.

       Example  3:  urestore  -F  -o  /testfiles/myfile.b  /test-
       files/myfile.a  posts  a  request  for  the  archived file
       /testfiles/myfile.a to be restored as /testfiles/myfile.b

       Example 4: urestore -D -d "december  1,  1987"  -v  /user1
       posts  a  request  for  the  archived  directory structure
       /user1, with all  its  files  and  subdirectories,  to  be
       restored  as  of December 1, 1987.  If the restore is done
       immediately from an on-line archive, the name of each file
       will  be displayed on standard output while the restore is
       underway.

       Example 5: urestore -D -n /pr3/reports requests the system
       to  display the backup dates and an ls -l listing from the
       backup history log of all archived versions of the  direc-
       tory /pr3/reports.  The directory is not restored.

FFiilleess
       contains the labels of all volumes that have been used for
       backup operations contains status  information  about  all
       restore  requests  from users contains the electronic mail
       address of the operator to be  notified  whenever  restore
       requests require operator intervention

RReeffeerreenncceess

                                                                2


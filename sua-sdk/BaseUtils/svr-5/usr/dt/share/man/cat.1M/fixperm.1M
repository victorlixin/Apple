

fixperm(1M)                                           fixperm(1M)

SSyynnooppssiiss
       /usr/sbin/fixperm    [-aCcDfgiLlnOpSsUvwX[-dpackage]   [-u
       package]] specfile

DDeessccrriippttiioonn
       For each line in the specification file specfile,  fixperm
       makes  the  listed  pathname  conform  to a specification.
       fixperm was historically used by privileged users to  con-
       figure  a  system upon installation.  Non-privileged users
       can only use fixperm with the -D , -f , -g , -i , -L ,  -l
       , -n, -O, or -X options.

       The following options are available: All files in the perm
       file must exist.  This means that files marked as optional
       (type letter is in capital letters) must be present.  Com-
       press all C files.  Creates empty files and missing direc-
       tories.   Lists directories only on standard output.  Does
       not modify target files.  Processes input lines  beginning
       with  given  package specifier string (see ``Specification
       File Format,'' below).  The default action is  to  process
       all lines.  Lists files only on standard output.  Does not
       modify target files.  Lists all devices  on  the  standard
       output.   Target  files are not modified (analogous to -l,
       -f, and -D).  Checks to see if the selected  packages  are
       installed.  Return values are package completely installed
       package not installed package partially installed

       If the equivalent package was installed as a  system pack-
       age,  -i  will  not  detect  it.  List compressed C files.
       Lists files and directories on standard output.  Does  not
       modify  target files.  Reports errors only.  Does not mod-
       ify target files.  Do not list link names.  This option is
       ignored  unless the -f, -g, -l, -D, or -L options are also
       specified.  Check specfile for user id and group id before
       checking  in  /etc/passwd  and  /etc/group.  Issues a com-
       plaint if files are not in x.out format.  Modifies special
       device  files  in  addition  to  the rest of the permlist.
       Uncompress all C  files.   Causes  similar  action  to  -d
       option  but processes items that are not part of the given
       package.  Issues a complaint if executable  files  are  1)
       word-swapped, 2) not fixed-stack, 3) not separate I and D,
       or 4) not stripped.  Lists location (volume number) of the
       specified  files  or  directories.   Print  only files and
       directories  that  are  not  installed.   This  option  is
       ignored  unless the -f, -g, -l, -D, or -L options are also
       specified.

   SSppeecciiffiiccaattiioonn ffiillee ffoorrmmaatt
       Each nonblank line in the  specification  file,  specfile,
       consists  of either a comment or an item specification.  A
       comment is any text from a pound sign (#) up to the end of
       the line.  There is one item specification per line.  User
       and group id numbers must be specified at the top  of  the
       specification  file  for  each user and group mentioned in

                                                                1

fixperm(1M)                                           fixperm(1M)

       the file.

       An item specification consists of a package  specifier,  a
       permission  specification, owner and group specifications,
       the number of links on the  file,  the  filename,  and  an
       optional volume number.

       The  package  specifier is an arbitrary string that is the
       name of a package within a distribution set.  A package is
       a set of files.

       A  permission specification follows the package specifier.
       The permission specification consists of a file type, fol-
       lowed  by  a  numeric  permission specification.  The item
       specification is one of  the  following  characters:  exe-
       cutable  archive  empty  file  (create if -c option given)
       block device character device directory  text  file  named
       pipe

       If the item specification is given as an uppercase letter,
       the file associated with it is optional, and fixperm  will
       not return an error message if it does not exist.

       The numeric permission conforms to the scheme described in
       The owner and group permissions are in  the  third  column
       separated  by a slash, such as bin/bin.  The fourth column
       indicates the number of links.  If there are links to  the
       file,  the  next line contains the linked filename with no
       other information.  The fifth column is a  pathname.   The
       pathname must be relative (not preceded by a slash (/).
       The sixth column is only used for special files, major and
       minor device numbers, or volume numbers.

EExxaammpplleess
       The following two lines make a distribution and invoke  to
       archive  only  the  files  in  my_package on /dev/sample :
       /usr/sbin/fixperm -f /etc/perm/my_package > list  tar  cfF
       /dev/sample list

       This  command  line reports package errors: /usr/sbin/fix-
       perm -nd my_package

RReeffeerreenncceess
NNoottiicceess
       fixperm is usually only run by a shell script at installa-
       tion.

       fixperm should only be run from the directory to which the
       target files are relative.

                                                                2




profiler(1M)                                         profiler(1M)

SSyynnooppssiiss
       /usr/sbin/prfld [system_namelist]

       /usr/sbin/prfstat [off | on [system_namelist]]

       /usr/sbin/prfdc file [period [off_hour [system_namelist]]]

       /usr/sbin/prfsnap file [system_namelist]

       /usr/sbin/prfpr [-P processor_id[, . . .  ]  |  ALL]  [-t]
       file [cutoff]

DDeessccrriippttiioonn
       prfld, prfstat, prfdc, prfsnap, and prfpr form a system of
       programs to facilitate an activity study of the

       operating system.

       prfld is used to initialize the recording mechanism in the
       system.   It  generates  a  table  containing the starting
       address of each system subroutine as  extracted  from  the
       system_namelist  and  the  modules in /etc/conf/mod.d.  It
       locks all currently loaded modules into memory.  It is  no
       longer  necessary  to use prfld, as this is done automati-
       cally by prfstat on, prfsnap, and prfdc.  To  unlock  mod-
       ules  after  profiling activities are complete, be sure to
       run prfstat off.

       prfstat is used to enable or disable the  sampling  mecha-
       nism.  Profiler overhead is less than 4% as calculated for
       3000 text addresses.  prfstat will also reveal the  number
       of text addresses being measured.

       prfdc  and prfsnap perform the data collection function of
       the profiler by copying the current value of all the  text
       address counters to a file where the data can be analyzed.
       prfdc will store the counters into file every period  min-
       utes  and will turn off at off_hour.  The valid values for
       off_hour are 0-24; the default value is 17.  Data  collec-
       tion  never stops when off_hour is set to 24.  The default
       period is 10.  prfsnap collects data at the time of  invo-
       cation only, appending the counter values to file.

       prfpr  formats  the  data  collected  by prfdc or prfsnap.
       Each text address is converted to the nearest text  symbol
       and  is  printed if the percent activity for that range is
       greater than cutoff.  cutoff  can  be  any  decimal  value
       greater  than or equal to zero and less than, or equal to,
       100.  The -t option reports time in clock ticks instead of
       in  percentages.  The -P option allows the user to examine
       the data for each of one or more specified processors,  or
       for  all  processors.   When  the  -P  option is not used,
       aggregate profiling information is displayed.

                                                                1

profiler(1M)                                         profiler(1M)

FFiilleess
       interface to profile data and text addresses default  sys-
       tem   namelist   file   for  non-loadable  modules  system
       namelists for loadable modules

                                                                2


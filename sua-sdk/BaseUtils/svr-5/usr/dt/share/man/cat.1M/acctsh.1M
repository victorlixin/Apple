

acctsh(1M)                                             acctsh(1M)

SSyynnooppssiiss
       /usr/lib/acct/chargefee login-name number

       /usr/lib/acct/ckpacct [blocks]

       /usr/lib/acct/dodisk [-o] [files . . .]

       /usr/lib/acct/lastlogin

       /usr/lib/acct/monacct number

       /usr/lib/acct/nulladm file

       /usr/lib/acct/prctmp

       /usr/lib/acct/prdaily [-l] [-c] [mmdd]

       /usr/lib/acct/prtacct file ["heading"]

       /usr/lib/acct/runacct [mmdd] [mmdd state]

       /usr/lib/acct/shutacct ["reason"]

       /usr/lib/acct/startup

       /usr/lib/acct/turnacct on | off | switch

DDeessccrriippttiioonn
       chargefee  can  be  invoked to charge a number of units to
       login-name.  A record is written to  /var/adm/fee,  to  be
       merged with other accounting records by runacct.

       ckpacct  should be initiated via to periodically check the
       size of /var/adm/pacct.  If the size exceeds blocks,  1000
       by default, turnacct will be invoked with argument switch.
       If the number of free disk blocks in the /var file  system
       falls  below  500, ckpacct will automatically turn off the
       collection of process accounting records via the off argu-
       ment  to turnacct.  When at least 500 blocks are restored,
       the accounting will be activated again on the next invoca-
       tion  of  ckpacct.   This feature is sensitive to the fre-
       quency at which ckpacct is executed, usually by cron.

       dodisk should be invoked  by  cron  to  perform  the  disk
       accounting  functions.   By  default, it will use diskusg,
       bfsdiskusg, sfsdiskusg, vxdiskusg, and ufsdiskusg (see  to
       do disk accounting on the S5, bfs, sfs, vxfs, and ufs file
       systems in /etc/vfstab and acctdusg  (see  on  other  file
       systems.   Note that when dodisk uses /etc/vfstab, it will
       skip remote resources.  If the -o flag is  used,  it  will
       use  acctdusg (see to do a slower version of disk account-
       ing by login directory for all file systems.  files speci-
       fies the one or more file system names where disk account-
       ing will be done.  If files are used, disk accounting will

                                                                1

acctsh(1M)                                             acctsh(1M)

       be  done  on  these  file systems only.  If the -o flag is
       used, files should be mount points of  mounted  file  sys-
       tems.   If  the  -o option is omitted, files should be the
       special file names of mountable file systems.

       lastlogin   is    invoked    by    runacct    to    update
       /var/adm/acct/sum/loginlog,  which  shows the last date on
       which each person logged in.

       monacct should be invoked once each month or each account-
       ing period.  number indicates which month or period it is.
       If number is not given, it defaults to the  current  month
       (01-12).   This default is useful if monacct is to be exe-
       cuted via on the first day of each month.  monacct creates
       summary  files  in  /var/adm/acct/fiscal  and restarts the
       summary files in /var/adm/acct/sum.

       nulladm creates file with mode 664 and ensures that  owner
       and  group  are  adm.   It is called by various accounting
       shell procedures.

       prctmp can be used to print the session record file,  nor-
       mally /var/adm/acct/nite/ctmp created by acctcon1 (see

       prdaily  is  invoked  by runacct to format a report of the
       previous day's accounting data.   The  report  resides  in
       /var/adm/acct/sum/rprtmmdd where mmdd is the month and day
       of the report.  The current daily accounting  reports  may
       be  printed  by typing prdaily.  Previous days' accounting
       reports can be printed by using the mmdd option and speci-
       fying the exact report date desired.  The -l flag prints a
       report of exceptional usage by login id for the  specified
       date.  Previous daily reports are cleaned up and therefore
       inaccessible after each invocation  of  monacct.   The  -c
       flag prints a report of exceptional resource usage by com-
       mand, and may be used on  current  day's  accounting  data
       only.

       prtacct can be used to format and print any total account-
       ing (tacct) file.

       runacct performs the  accumulation  of  connect,  process,
       fee,  and  disk accounting on a daily basis.  It also cre-
       ates summaries of command usage.   For  more  information,
       see

       shutacct  is invoked during a system shutdown to turn pro-
       cess accounting off and  append  a  ``reason''  record  to
       /var/adm/wtmp.

       startup  can  be  invoked  when the system is brought to a
       multi-user state to turn process accounting on.

       turnacct is an interface to accton (see  to  turn  process

                                                                2

acctsh(1M)                                             acctsh(1M)

       accounting  on or off.  The switch argument moves the cur-
       rent /var/adm/pacct to the next free name in /var/adm/pac-
       ctincr  (where incr is a number starting with 1 and incre-
       menting by one for each additional pacct file), then turns
       accounting  back  on  again.   This procedure is called by
       ckpacct and thus can be taken care of by the cron and used
       to  keep  pacct  to a reasonable size.  shutacct uses tur-
       nacct to stop process accounting.  startup  uses  turnacct
       to start process accounting.

FFiilleess
       accumulator for fees current file for per-process account-
       ing used if pacct gets large and during execution of daily
       accounting  procedure  login/logoff  summary  contains the
       limits for exceptional usage by login ID contains the lim-
       its  for  exceptional usage by command name working direc-
       tory holds all accounting commands summary directory  con-
       tains information for monacct fiscal reports directory

RReeffeerreenncceess

                                                                3


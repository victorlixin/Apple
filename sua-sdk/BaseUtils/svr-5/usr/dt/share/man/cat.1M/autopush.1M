

autopush(1M)                                         autopush(1M)

SSyynnooppssiiss
       autopush -f file
       autopush -r -M major -m minor
       autopush -r -N module_name -m minor
       autopush -g -M major -m minor
       autopush -g -N module_name -m minor

DDeessccrriippttiioonn
       This  command  allows you to configure the list of modules
       that should be automatically pushed onto the stream when a
       device  is opened.  It can also be used to remove a previ-
       ous setting or to get information about a setting.

       The following options apply to autopush: Sets up the auto-
       push configuration for each driver according to the infor-
       mation stored in the specified  file.   An  autopush  file
       consists  of lines of at least four space-separated fields
       in  one  of  the  following  two  formats:  major    minor
       last_minor  mod1 [ mod2 ... modn ]

       module_name   minor  last_minor  mod1 [ mod2 ... modn ] In
       the first form, the first three fields are  integers  that
       specify  the major device number, minor device number, and
       last minor device number in a range.

       The second form must be used for DDI 8 drivers.   In  this
       case,  module_name  is the name that identifies the device
       instance, and minor  and  last_minor  are  interpreted  as
       channel numbers.

       To  configure  a  range  of minor devices for a particular
       major (or driver instance in the case  of  DDI  8),  minor
       must  be  less than last_minor.  If minor is -1, all minor
       devices (or channels) of a driver specified  by  major  or
       module_name are configured and the value for last_minor is
       ignored.  If last_minor is 0, only a single  minor  device
       (or channel) is configured.

       If  last_minor is -1, autopush configures any minor device
       (or channel) that is returned by cloning (open redirection
       of)  the  minor  device.  For modules that conform to ver-
       sions of the DDI prior to  DDI  8,  minor  represents  the
       minor  number  that  is  used to open a clone device.  For
       modules that conform to DDI 8, minor represents the  clone
       channel that is used to open a device.

       The  remaining space-separated fields constitute a list of
       the names of the modules that are  to  be  pushed  on  the
       stream in the specified order.  The maximum number of mod-
       ules that can be automatically pushed is defined to be  8.

       Comment  lines start with a pound sign (#).  Gets the cur-
       rent configuration setting of a particular major (or  mod-
       ule_name)  and  minor  device number specified with the -M

                                                                1

autopush(1M)                                         autopush(1M)

       (or -N) and -m options respectively.  It will also  return
       the  starting  minor  device  number if the request corre-
       sponds to a setting of a range (as described  for  the  -f
       option).   Specifies a driver by its major number.  Speci-
       fies a driver's minor number (or channel  number  for  DDI
       8).  Specifies a driver instance by the name of the device
       driver (required for DDI 8).  Removes the previous config-
       uration  setting  of the particular major (or module_name)
       and minor device (or channel) number specified with the -M
       (or  -N)  and  -m  options respectively.  If the values of
       major or module_name and minor correspond to a setting  of
       a  range  of  minor  devices  (or  channels),  where minor
       matches the first minor device (or channel) number in  the
       range,  the  configuration would be removed for the entire
       range.

RReeffeerreenncceess

                                                                2




usermod(1M)                                           usermod(1M)

SSyynnooppssiiss
       usermod  [-u  uid [-U] [-o]] [-g group] [-G group[[,group]
       ...]]  [-d dir [-m]] [-s shell] [-c comment] [-l  new_log-
       name]  [-f  inactive] [-e expire] [-p passgen] [-a [opera-
       tor1] event [,...]]
       [-h [operator2] level [-h  level  [...]]]  [-v  def_level]
       login

DDeessccrriippttiioonn
       Invoking  usermod modifies a user entry in the Identifica-
       tion and Authentication (I&A) data files.  The system file
       entries  created  with  this  command  have a limit of 512
       characters per line.  Specifying long arguments to several
       options may result in exceeding this limit.

       This  command must be invoked with the -U option to change
       the UID on directories and files owned by the  user  whose
       UID  is being changed; otherwise, the system administrator
       must make such changes.  The following options are  avail-
       able:  New user identification number (UID).  It must be a
       non-negative decimal integer below MAXUID  as  defined  in
       sys/param.h.   This  option  is  ignored  if  the login is
       administered by the  Network  Information  Service  (NIS).
       This  option  allows  the  specified  UID to be duplicated
       (non-unique).  Because the security of the system in  gen-
       eral,  and the integrity of the audit trail and accounting
       information in particular,  depends  on  every  UID  being
       uniquely  associated  with  a  specific individual, use of
       this option is discouraged  (in  order  to  maintain  user
       accountability).  This option examines a list of pathnames
       specified in /etc/default/usermod. Any files  or  directo-
       ries  in the specified path list that are owned by the old
       UID will have their ownership changed to be  that  of  the
       new  UID. The path list typically includes the user's home
       directory and mail file. This option will also  disable  a
       crontab file under the old UID, and re-enable it under the
       new UID. The -u option must also be  specified  when  this
       option is used.  An existing group's integer ID or charac-
       ter-string name.  It redefines the  user's  primary  group
       membership.  This option is ignored if the login is admin-
       istered by the Network Information Service (NIS).  One  or
       more  comma-separated  list  elements,  each  an  existing
       group's integer ID or character string  name.   This  list
       becomes  the  new  supplementary  group membership for the
       user, replacing any existing supplementary group list  for
       the  user.   Duplicates  are  ignored.  The list specified
       must be less than NGROUPS_MAX in length, as the number  of
       supplementary  groups for a user, plus the base group, may
       never exceed NGROUPS_MAX.  This option is ignored  if  the
       login  is  administered by the Network Information Service
       (NIS).  The new home directory of the user.  This field is
       limited to 256 characters.  Move the user's home directory
       to the new directory specified with the -d option.  If the
       directory  already  exists,  the specified login must have

                                                                1

usermod(1M)                                           usermod(1M)

       access to it.  Full pathname of the program that  is  used
       as  the  user's  shell on login.  This field is limited to
       256 characters.  The value of shell must be a  valid  exe-
       cutable  file.   Any text string.  It is generally a short
       description of the login, and is  currently  used  as  the
       field  for the user's full name.  This field is limited to
       128 printable characters.  This information is  stored  in
       the  user's  /etc/passwd  entry.   A  string of characters
       (restricted to the set  of  alphanumeric  characters,  the
       period  (.), underscore (_), plus (+), and minus (-) char-
       acters) that specifies the new login name of the user.  It
       must  not begin with a capital letter.  The maximum number
       of days allowed between uses of a  login  ID  before  that
       login  ID is declared invalid.  Normal values are positive
       integers.  A value of 0 turns off inactive checking.   The
       date  on  which  a login can no longer be used; after this
       date, no user will be able to access  this  login.   (This
       option  is useful for creating temporary logins.)  You may
       type the value of the argument expire (which is a date) in
       any  format you like (except a Julian date).  For example,
       you may enter 10/6/90 or October 6, 1990.  A value  of  ""
       turns  off  expiration  checking.  Indicates that the FLAG
       field in /etc/shadow is to be set to the specified  value.
       This  field  is referenced by the passwd command to deter-
       mine if a password generator is in effect for  this  user.
       If  passgen is neither a NULL string nor a printable ASCII
       character, a diagnostic message is printed.   Specify  the
       levels  at  which  a  user can log in.  An operator can be
       specified (as + to add or - to delete)  or  not  specified
       (to replace).  The levels specified are processed based on
       the operator.   If  the  operator  is  not  given,  the  =
       (replace)  operator is assumed.  To add, delete or replace
       several levels, specify multiple -h options.  However,  an
       operator may be specified only on the first -h option; the
       same operation is assumed for any subsequent  -h  options.
       This  option is valid only if the Enhanced Security Utili-
       ties are installed.  Change the user's  default  level  to
       the  one  specified.   This  option  is  valid only if the
       Enhanced Security Utilities are installed.  Set the user's
       audit  mask  based on the event(s) specified.  An operator
       can be specified (as + to add or - to delete) or not spec-
       ified  (to  replace).   This  option  is valid only if the
       Auditing Utilities are  installed.   (To  find  out  which
       packages  are  installed  on  your system, run the pkginfo
       command.)  A string of printable characters that specifies
       the  existing login name of a user.  It must exist and may
       not contain a colon (:), or a newline (\n).

       If login is preceded by a + or -  character,  the  changes
       will  be  applied to the login administered by the Network
       Information Service, not a local user.  In this case,  the
       -u, -g, and -G options, if specified are silently ignored.
       Instead, values for the user ID and  group  ID  are  taken
       from the NIS database.

                                                                2

usermod(1M)                                           usermod(1M)

FFiilleess
       /etc/group
       /etc/passwd
       /etc/security/ia/audit  (if  the  Auditing  Utilities  are
       installed)
       /etc/security/ia/index
       /etc/security/ia/level/logname
       /etc/security/ia/master
       /etc/shadow

DDiiaaggnnoossttiiccss
       The usermod command exits with a return code of 0 if  suc-
       cessful.  In case of errors, the following messages may be
       displayed: The command syntax  was  invalid.   An  invalid
       argument  was  provided  to an option.  The uid given with
       the -u option is already in use.  The login to be modified
       does  not  exist or group does not exist.  The login to be
       modified is in use.  The new_logname is  already  in  use.
       Cannot  update the /etc/group file.  Other update requests
       will be implemented.  Insufficient space to move the  home
       directory  (-m  option).   Other  update  requests will be
       implemented.  Unable to complete  the  move  of  the  home
       directory  to the new home directory.  Invalid options -h,
       -v system service not installed.  Invalid  security  level
       specified  Cannot  delete  security  level level.  Current
       default  security  level  will  become  invalid.   Invalid
       default security level specified.  Invalid option -a, sys-
       tem service not installed.  Invalid audit  event  type  or
       class specified.

RReeffeerreenncceess

                                                                3


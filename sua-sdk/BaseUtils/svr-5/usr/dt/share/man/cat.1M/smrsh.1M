

smrsh(1M)                                               smrsh(1M)

SSyynnooppssiiss
       /etc/mail/smrsh -c command

DDeessccrriippttiioonn
       The  smrsh  program is a replacement for sh for use in the
       prog mailer in configuration files.  It limits the  choice
       of  commands  that can be run using the |program syntax of
       sendmail, in order to improve the overall security of your
       system.   Briefly,  even if a intruder can get sendmail to
       run a program without going through an  alias  or  forward
       file,  smrsh  limits the set of programs the user can exe-
       cute.

       smrsh  limits  programs   available   in   the   directory
       /usr/adm/sm.bin,  allowing  the  system  administrator  to
       choose the set of acceptable commands, and  to  the  shell
       builtin  commands  exec,  exit, and echo.  It also rejects
       any commands with the characters \, <, >, |, ;, &,  $,  (,
       ), Return, or (newline) on the command line to prevent end
       run access.  It allows ``||'' and ``&&''  to  enable  con-
       structions     similar    to    the    following:    |exec
       /usr/local/bin/procmail -f- /etc/procmailrcs/user ||  exit
       75

       Initial path names on programs are stripped.

       System  administrators  should be conservative about popu-
       lating /usr/adm/sm.bin.  Never include any shell or shell-
       like  program  such as perl in the sm.bin directory.  This
       does not restrict the use of shell or perl scripts in  the
       sm.bin  directory  (using the #! syntax); it simply disal-
       lows execution of arbitrary programs.

       Compilation should be trivial on most  systems.   You  may
       need  to use -DPATH=path to adjust the default search path
       (defaults to /bin:/usr/bin:/usr/ucb)  or  -DCMDBIN=dir  to
       change   the   default   program  directory  (defaults  to
       /usr/adm/sm.bin).

FFiilleess
       Directory for restricted programs

RReeffeerreenncceess

                                                                1


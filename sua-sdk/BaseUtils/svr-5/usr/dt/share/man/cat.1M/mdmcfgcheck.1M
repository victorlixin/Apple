

mdmcfgcheck(1M)                                   mdmcfgcheck(1M)

SSyynnooppssiiss
       mdmcfgcheck    [-t    timeout]    [-f]   [/dev/devicename]
       modem_cfg_file

DDeessccrriippttiioonn
       mdmcfgcheck can be used as a troubleshooting  command.  It
       can  check  that the modem is capable of understanding the
       different AT commands sent to it and described in the con-
       figuration  file.   mdmcfgcheck is intended to allow quick
       checking of the configuration file. This is done by  send-
       ing  all  the  commands to the modem and checking that the
       commands are correctly recognized. mdmcfgcheck also does a
       sanity  check on the configuration file if the device name
       is omitted.

       mdmcfgcheck is found in /usr/lib/uucp.

   OOppttiioonnss
       The following options are available: The duration the pro-
       gram should wait (in seconds) before deciding the modem is
       not responding. The default is 5 seconds.   Discard  extra
       answer  from  the  modem  which  could  interfere with the
       checking (rarely necessary).

       /dev/devicename must be the full pathname  of  the  modem,
       for example /dev/term/01m.

       modem_cfg_file must be the full pathname of the modem con-
       figuration          file.           For           example,
       /etc/uucp/Modems/Hayes_Accura_56K_Ext_Speaker-
       phone_Modem_5670.

       If /dev/devicename is specified, mdmcfgcheck goes  through
       the  commands  and  checks the modem replies. For example:
       /usr/lib/uucp/mdmcfgcheck         /dev/term/01m          \
       /etc/uucp/Modems/            Hayes_Accura_56K_Ext_Speaker-
       phone_Modem_5670 produces the following output: Configura-
       tion           standard:           -----------------------
       Init........................Ok
       Reset.......................Ok
       Hangup......................Ok
       Answer......................Skipped                  Moni-
       tor.....................Ok  CallSetupFailTimeout........Ok
       InactivityTimeout...........Ok
       Blind_Off...................Ok
       Blind_On....................Ok                    Compres-
       sion_Off.............Ok     Compression_On..............Ok
       SpeakerVolume_Low...........Ok                 SpeakerVol-
       ume_Med...........Ok SpeakerVolume_High..........Ok Speak-
       erMode_On..............Ok   SpeakerMode_Off.............Ok
       SpeakerMode_Dial............Ok                    Speaker-
       Mode_Setup...........Ok     FlowControl_Off.............Ok
       FlowControl_Soft............Ok                    FlowCon-
       trol_Hard............Ok     Modulation_CCITT............Ok

                                                                1

mdmcfgcheck(1M)                                   mdmcfgcheck(1M)

       SpeedNegotiation_Off........Ok               SpeedNegotia-
       tion_On.........Ok  ErrorControl_Off............Ok  Error-
       Control_On.............Ok ErrorControl_Forced.........Ok

       The ``Answer'' configuration is never tested,  because  it
       results in a ``No response'' error.

       A  ``No  response''  error  means  that  the modem has not
       responded to the program within the time limit set by  the
       timeout option. An ``Ok'' means that the modem response is
       correct and an  ``Error''  means  the  modem  response  is
       incorrect.

       If the Init configuration result is not ``Ok'', other com-
       mands are not tested. For example:  Configuration  `V120':
       ---------------------    Init........................Error
       This is because the ``Init'' string is  used  to  put  the
       modem  into a known stable state so it does not make sense
       to test the other strings.

       If no options are set, mdmcfgcheck provides a sanity check
       on the configuration file. For example: /usr/lib/uucp/mdm-
       cfgcheck \  /etc/uucp/Modems/Hayes_Accura_56K_Ext_Speaker-
       phone_Modem_5670  produces the following output: File name
       : Hayes_Accura_56K_Ext_Speakerphone_Modem_5670 Syntax    :
       correct

       Modem  name:  Hayes Accura 56K Ext Speakerphone Modem 5670
       Vendor    : Hayes Created   : 2000-01-01 Origin     :  SCO
       Certified : Yes

       Vendor  homepage : n/a Modem homepage  : n/a Email support
       : n/a

FFiilleess
       /usr/lib/uucp/mdmcfgcheck
       /etc/uucp/Modems

DDiiaaggnnoossttiiccss
       The  exit  codes   are:   OK   (EXIT_OK).    Fatal   error
       (EXIT_ERR_FATAL).   Error  in  command line (EXIT_ERR_CMD-
       LINE).   Error  opening  or  reading  configuration   file
       (EXIT_ERR_CFGFILE).   Error  communicating  with the modem
       (EXIT_ERR_MODEM).  Modem is busy (EXIT_ERR_BUSY).   Killed
       by SIGTERM or SIGINT (EXIT_ERR_SIGNAL).

RReeffeerreenncceess

                                                                2


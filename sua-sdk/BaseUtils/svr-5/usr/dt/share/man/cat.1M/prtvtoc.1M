

prtvtoc(1M)                                           prtvtoc(1M)

SSyynnooppssiiss
       prtvtoc [-ap] [-f vtoc-file] raw-device

DDeessccrriippttiioonn
       The  default and primary function of prtvtoc is to display
       the contents of the VTOC (Volume Table Of Contents).   The
       information  displayed for each valid slice includes slice
       number, slice tag,  slice  flag/permissions,  slice  start
       sector, slice size (in sectors).

   OOppttiioonnss
       Print  the alternates tables (bad tracks and bad sectors).
       Print the information contained in the  pdinfo  structure.
       Write  the current contents of the VTOC into the vtoc-file
       in a condensed format.  The format of the  file  is  slice
       number,  slice  tag  value,  slice flag value, slice start
       sector, slice size (in sectors).  The purpose of this file
       is  to  be  input  for the command.  The character special
       device for the disk drive to be accessed.  It must be  the
       slice  0  device to represent the entire device (for exam-
       ple, /dev/rdsk/0s0 or /dev/rdsk/c0b0t0d0s0).

FFiilleess
UUssaaggee
       When editing the VTOC, the following entries are the valid
       slice tags and slice permission flags.

       /* Slice tags */

       #define   V_BOOT      0x01 /*   Boot   slice   */  #define
       V_ROOT      0x02 /*    Root    filesystem    */    #define
       V_SWAP      0x03 /*    Swap    filesystem    */    #define
       V_USR       0x04 /*    Usr    filesystem    */     #define
       V_BACKUP    0x05 /*      full      disk     */     #define
       V_ALTS      0x06 /*  alternate  sector  space  */  #define
       V_OTHER          0x07 /*   non-unix   space   */   #define
       V_ALTTRK    0x08 /*  alternate  track  space  */   #define
       V_STAND          0x09 /*    Stand    slice    */   #define
       V_VAR       0x0a /*     Var     slice      */      #define
       V_HOME      0x0b /*      Home     slice     */     #define
       V_DUMP      0x0c /*     dump     slice     */      #define
       V_ALTSCTR   0x0d /*   Alternate  sector/track  */  #define
       V_MANAGED1  0x0e /*  Volume  management  public  slice  */
       #define  V_MANAGED2   0x0f /*  Volume  management  private
       slice */

       /* Slice permission flags */

       #define V_UNMNT          0x01 /* Unmountable partition  */
       #define  V_RONLY          0x10 /*  Read  only  */  #define
       V_VALID          0x200     /* Partition is valid to use */

       The  start  and  size value are in absolute sector numbers

                                                                1

prtvtoc(1M)                                           prtvtoc(1M)

       where the first  sector  on  the  drive  is  0  (which  is
       reserved  for  the  partition table).  Slices should start
       and end on a cylinder boundary  if  possible.   The  head,
       cylinder and sectors/track information provided by prtvtoc
       -p will assist in the  calculations.   Slices  should  not
       overlap (slice 0 is the exception, it describes the entire
       partition).

RReeffeerreenncceess

                                                                2


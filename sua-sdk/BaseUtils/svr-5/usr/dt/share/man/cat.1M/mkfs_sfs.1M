

mkfs_sfs(1M)                                         mkfs_sfs(1M)

SSyynnooppssiiss
       mkfs [-F sfs] [generic_options] [-o specific_options] spe-
       cial [size]

DDeessccrriippttiioonn
       generic_options are options supported by the generic  mkfs
       command.   current_options  are  options  supported by the
       s5-specific module of the mkfs command.

       mkfs constructs a file system by writing  on  the  special
       file  special  unless  the `-o N' flag has been specified.
       The numeric size specifies the number of logical 512  byte
       sectors  in  the  file  system.  mkfs builds a file system
       with a root directory and a lost+found directory (see  The
       number  of  inodes is calculated as a function of the file
       system size.

   ssffss--ssppeecciiffiicc ooppttiioonnss
       Specifies  the  sfs-FSType.   Specify  the  sfs   specific
       options.  These options can be specified in any order, but
       must be separated by commas.  The  following  options  are
       available:  Specifies  that the root of the file system is
       to be a multilevel directory.  Do not write the file  sys-
       tem  to  the  special  file.  This suboption gives all the
       information needed to create a file system  but  does  not
       create  it.   n  is the number of sectors per track on the
       disk.  The default is 18.  n is the number of  tracks  per
       cylinder  on  the  disk.   The  default is 9.  The primary
       block size for files on the file  system.   n  must  be  a
       power  of  two,  currently selected from 2048 or 8192 (the
       default).  The default block size will be the same as  the
       machine page size, unless the page size is less than 2048,
       in which case the default block size is 2048.   The  frag-
       ment  size for files on the file system.  n represents the
       smallest amount of disk space that will be allocated to  a
       file.   It  must be a power of two currently selected from
       the range 512 to 8192.  The  default  fragment  size  will
       equal  the  block  size  if the block size is less than or
       equal to 2048; otherwise, it is 1024.  The number of  disk
       cylinders per cylinder group.  n must be in the range 1 to
       32.  cgsize has different defaults, depending on the  size
       of the cylinder group.  If the cylinder group is less than
       3/4 MB, cgsize defaults to 16.  If the cylinder  group  is
       between  3/4  and  1.5  MB, cgsize defaults to 12.  If the
       cylinder group is greater than 1.5 MB, cgsize defaults  to
       8.   n is the rotational speed of the disk, in revolutions
       per second.  The default is 60.  n is the number of  bytes
       for which one inode block is allocated.  This parameter is
       currently set at one inode block  for  every  1024  bytes.
       Space  or  time optimization preference; s specifies opti-
       mization for space, t  specifies  optimization  for  time.
       The  default  is  t.   n  is  the number of alternates per
       cylinder (SCSI devices only).  The default is 0.  n is the
       expected  time  (in  milliseconds)  to  service a transfer

                                                                1

mkfs_sfs(1M)                                         mkfs_sfs(1M)

       completion interrupt and initiate a new  transfer  on  the
       same disk.  It is used to decide how much rotational spac-
       ing to place between successive blocks  in  a  file.   The
       default is 4.  Some applications that pre-date SVR4 do not
       work on file systems with more than  64K  inodes.   There-
       fore,  when the number of inodes for the file system being
       built exceeds the 64K limit, mkfs prompts the user to con-
       firm  that  he  or  she  indeed  wants the large number of
       inodes.  The -o C option silences  this  mkfs  prompt  and
       limits  the number of inodes to a maximum of 64K, ensuring
       perfect binary compatibility with the pre-Release 4
        System.  When the number of inodes for  the  file  system
       being  built  exceeds the 64K limit, mkfs prompts the user
       to confirm that he or she indeed wants the large number of
       inodes.   The  -o L option silences this prompt and allows
       the user to create  a  file  system  with  more  than  64K
       inodes.   mkfs  constructs a file system by writing on the
       special file.  Specify the number of logical 512 byte sec-
       tors  in the file system. The largest file size is a maxi-
       mum of 4,194,304 512-byte sectors (2 gigbytes).

RReeffeerreenncceess
NNoottiicceess
       The number of inodes is calculated as a  function  of  the
       file  system  size,  but  can  be  modified  with the nbpi
       option.  For those who want a  file  system  suitable  for
       lots  of  tiny  files  (smaller  than one block), the nbpi
       parameter may be used to increase the number of inodes.

       You should keep a note of spare superblock copies  in  the
       ufs  file  system, so that in the event of superblock cor-
       ruption, you will know which blocks contain spare entries.

                                                                2




idconfupdate(1M)                                 idconfupdate(1M)

SSyynnooppssiiss
       idconfupdate [-f] [-o file] [-s] [-r confdir]

DDeessccrriippttiioonn
       The  idconfupdate command ensures that the system configu-
       ration files on disk are consistent with the current  sys-
       tem configuration, as defined by the in-core Resource Man-
       ager database.

       When idconfupdate is invoked without options, it reads the
       Resource  Manager  database from /dev/resmgr, and performs
       two functions: It saves the Resource Manager  database  in
       /stand/resmgr  so  that the database will be available for
       reboots.  If idconfupdate is not  run  after  changes  are
       made  to  the  in-core  Resource  Manager  database, those
       changes will be lost when  the  system  is  rebooted.   It
       updates   the  parameters  for  hardware  drivers  in  the
       /etc/conf/sdevice.d files to agree with those provided  by
       the Resource Manager.

       Only  sdevice  files  for hardware drivers are affected; a
       hardware driver is identified by having an h in the  flags
       field of its Master file.

       All  drivers that are not in the Resource Manager database
       are turned off.  That is, the config field of each line in
       their  sdevice  files is changed from Y to N.  When idcon-
       fupdate is invoked with the -s option, the  Resource  Man-
       ager database is constructed using the sdevice files.  The
       -o option must be specified with the -s option to  prevent
       a user from accidentally overwriting /stand/resmgr.

   OOppttiioonnss
       Force idconfupdate to create a new database and update the
       sdevice files even if  the  resmgr's  timestamp  indicates
       that  no update is necessary.  Save the resmgr database in
       the given file; file  defaults  to  /stand/resmgr  if  not
       given.   The  -o option must be specified if the -s option
       is used, for  safety.   Override  the  built-in  /etc/conf
       path,  so an alternate root may be specified, for example,
       idconfupdate -r $ROOT/$MACH/etc/conf.   Read  the  current
       sdevice  files and create a resmgr database based on them.
       The -o option must be specified when using the  -s  option
       to  avoid accidentally destroying the /stand/resmgr system
       database.

FFiilleess
       in-core copy of Resource Manager database Resource Manager
       database

RReeffeerreenncceess

                                                                1


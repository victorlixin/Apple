

lpq(1bsd)                                               lpq(1bsd)

SSyynnooppssiiss
       /usr/ucb/lpq  [-Pprinter] [-l] [+ [interval] ] [job# . . .
       ]      [username . . . ]

DDeessccrriippttiioonn
       lpq displays the contents of a printer queue.  It  reports
       the status of jobs specified by job#, or all jobs owned by
       the user specified by username.  lpq reports on  all  jobs
       in  the  default  printer queue when invoked with no argu-
       ments.

       For each print job in the queue, lpq  reports  the  user's
       name,  current position, the names of input files compris-
       ing the job, the job number (by which it  is  referred  to
       when using and the total size in bytes.  Normally, only as
       much information as will fit on  one  line  is  displayed.
       Jobs  are  normally  queued on a first-in-first-out basis.
       Filenames comprising a job may  be  unavailable,  such  as
       when  lpr  is used at the end of a pipeline; in such cases
       the filename field indicates the standard input.

       If lpq warns that there is no daemon present (that is, due
       to some malfunction), the command can be used to restart a
       printer daemon.

   OOppttiioonnss
       Display information about  the  queue  for  the  specified
       printer.   In  the  absence of the -P option, the queue to
       the printer specified by the PRINTER variable in the envi-
       ronment  is used.  If the PRINTER variable is not set, the
       queue for the default  printer  is  used.   Display  queue
       information  in long format; includes the name of the host
       from which the job originated.  Display  the  spool  queue
       periodically  until  it  empties.   This option clears the
       terminal screen before reporting  on  the  queue.   If  an
       interval is supplied, lpq sleeps that number of seconds in
       between reports.

FFiilleess
       spooling directory.  request files specifying jobs

DDiiaaggnnoossttiiccss
       The lpq program queries the spooler LPSCHED about the sta-
       tus  of the printer.  If the printer is disabled, the sys-
       tem administrator can restart the spooler using The daemon
       could  not  open  the  printer device.  The printer may be
       turned off-line.  This message can also occur if a printer
       is  out of paper, the paper is jammed, and so on.  Another
       possible cause is that a process, such as an  output  fil-
       ter,  has  exclusive use of the device.  The only recourse
       in this case is to kill the offending process and  restart
       the  printer  with  lpc.  A daemon is trying to connect to
       the remote machine named host, in order to send the  files
       in  the  local queue.  If the remote machine is up, lpd on

                     BSD System Compatibility                   1

lpq(1bsd)                                               lpq(1bsd)

       the remote machine is probably dead or hung and should  be
       restarted using lpc.
       The  files  are  being  transferred to the remote host, or
       else the local daemon has hung while  trying  to  transfer
       the  files.  The printer has been marked as being unavail-
       able with lpc.  The lpsched process overseeing the  spool-
       ing  queue  does  not  exist.  You can restart the printer
       daemon with lpc.  The printer was not found in the  System
       V LP database.  Usually this is a typing mistake; however,
       it may indicate that the printer does  not  exist  on  the
       system.   Use `lpstat -p' to find the reason.  The connec-
       tion to lpsched on the local machine failed.  This usually
       means  the printer server started at boot time has died or
       is  hung.    Check   if   the   printer   spooler   daemon
       /usr/lib/lp/lpsched  is  running.  These indicate that the
       LP print service has been stopped.  Get help from the sys-
       tem administrator.  It is likely there is an error in this
       software.  Get help from system administrator.

RReeffeerreenncceess
NNoottiicceess
       Output formatting is sensitive to the line length  of  the
       terminal; this can result in widely-spaced columns.

                     BSD System Compatibility                   2


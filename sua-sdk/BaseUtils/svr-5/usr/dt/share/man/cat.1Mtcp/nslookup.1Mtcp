

nslookup(1Mtcp)                                   nslookup(1Mtcp)

SSyynnooppssiiss
       nslookup [ -option ... ] [ host-to-find | - [ server ]]

DDeessccrriippttiioonn
       nslookup  is  a  program  to  query  Internet  domain name
       servers. nslookup has  two  modes:  interactive  and  non-
       interactive.  Interactive  mode  allows  the user to query
       name servers  for  information  about  various  hosts  and
       domains  or  print  a  list  of hosts in the domain.  Non-
       interactive mode is  used  to  print  just  the  name  and
       requested information for a host or domain.

       Interactive  mode  is entered in the following cases: when
       no arguments are given (the default name  server  will  be
       used) when the first argument is a hyphen (-) and the sec-
       ond argument is the host name or  Internet  address  of  a
       name  server Non-interactive mode is used when the name of
       or Internet address of the host to be looked up  is  given
       as the first argument. The optional second argument speci-
       fies the host name or Internet address of a name server.

       The options listed under the  set  command  below  can  be
       specified  in  the  .nslookuprc  file  in  the user's home
       directory if they are listed one per  line.   Options  can
       also  be specified on the command line if they precede the
       arguments and are prefixed with a hyphen. For example,  to
       change the default query type to host information, and the
       initial timeout to 10 seconds, type: nslookup -query=hinfo
       -timeout=10

   IInntteerraaccttiivvee ccoommmmaannddss
       Commands may be interrupted at any time by typing the sys-
       tem interrupt character ( by default). To exit, type  a  d
       (EOF)  or type exit.  The command line length must be less
       than 256 characters.  To treat a  built-in  command  as  a
       host  name, precede it with an escape character (\).  Note
       that an unrecognized command will be interpreted as a host
       name.   Look  up  information  for  host using the current
       default server or using server if  it  is  specified.   If
       host is an Internet address and the query type is ``A'' or
       ``PTR'', the name of the host is returned. If  host  is  a
       name  and  does  not  have  a trailing period, the default
       domain name  is  appended  to  the  name.  (This  behavior
       depends  on the state of the set options domain, srchlist,
       defname, and search). To look up a host not in the current
       domain,  append  a period to the name.  Change the default
       server to domain.  lserver uses the initial server to look
       up  information about domain while server uses the current
       default server.  If an authoritative  answer  can  not  be
       found, the names of servers that might have the answer are
       returned.  Changes the default server to  the  server  for
       the  root  of  the domain name space.  Currently, the host
       ns.internic.net is used.  (This command is a  synonym  for
       the  lserver ns.internic.net.) The name of the root server

                                                                1

nslookup(1Mtcp)                                   nslookup(1Mtcp)

       can be changed with the set root command.   Connects  with
       the  finger  server on the current host.  The current host
       is defined when a previous lookup for a host was  success-
       ful  and  returned address information (see the set query-
       type=A command). name is optional.  > and >> can  be  used
       to redirect output in the usual manner.  List the informa-
       tion available for domain, optionally creating or  append-
       ing  to  filename.  The default output contains host names
       and their Internet addresses.  option can be  one  of  the
       following:  lists  all  records of the specified type (see
       querytype below) lists aliases  of  hosts  in  the  domain
       (synonym  for  -t  CNAME) lists all records for the domain
       (synonym for -t ANY) lists CPU and operating system infor-
       mation  for  the domain (synonym for -t HINFO) lists well-
       known services of hosts in the domain (synonym for -t WKS)
       When  output  is  directed  to  a  file,  number signs are
       printed for every 50 records  received  from  the  server.
       Sorts  and lists the output of previous ls command(s) with
       Prints a brief summary of commands.   Exits  the  program.
       This  command  changes  state information that affects the
       lookups.  Valid keywords are: Prints the current values of
       the frequently-used options to set.  Information about the
       current default server and host is also  printed.   Change
       the  query  class  to one of: the Internet class the Chaos
       class the MIT Athena Hesiod class  wildcard  (any  of  the
       above)  The  class  specifies  the  protocol  group of the
       information.  (Default  =  IN,  abbreviation  =  cl)  Turn
       debugging mode on. A lot more information is printed about
       the packet sent to the server and  the  resulting  answer.
       (Default  =  nodebug, abbreviation = [no]deb) Turn exhaus-
       tive debugging mode on.  Essentially all fields  of  every
       packet  are  printed.  (Default = nod2) If set, append the
       default domain name to a single-component  lookup  request
       (i.e.,  one  that  does not contain a period).  (Default =
       defname, abbreviation = [no]def) With defname, search  for
       each  name  in  parent  domains  of  the  current  domain.
       (Default = search) Change the default domain name to name.
       The  default  domain  name is appended to a lookup request
       depending on the state of the defname and search  options.
       The domain search list contains the parents of the default
       domain if it has at least two components in its name.  For
       example,  if  the  default  domain is CC.Berkeley.EDU, the
       search list is CC.Berkeley.EDU and Berkeley.EDU.  Use  the
       set srchlist command to specify a different list.  Use the
       set all command to display the  list.   (Default  =  value
       based on hostname command, /etc/resolv.conf file or LOCAL-
       DOMAIN variable; abbreviation =  do)  Change  the  default
       domain  name to name1 and the domain search list to name1,
       name2, etc.  A maximum of 6 names separated by slashes (/)
       can    be    specified.     For    example:    set   srch-
       list=lcs.MIT.EDU/ai.MIT.EDU/MIT.EDU.  sets the  domain  to
       ``lcs.MIT.EDU''  and  the  search list to the three names.
       This command overrides the default domain name and  search
       list  of  the set domain command.  Use the set all command

                                                                2

nslookup(1Mtcp)                                   nslookup(1Mtcp)

       to display the list.  (Default = value based  on  hostname
       command,  /etc/resolv.conf  file  or LOCALDOMAIN variable;
       abbreviation = srchl) Ignore truncate error.   (Default  =
       noignore)  Connect to name server using port#.  (Default =
       well known port number) Change  the  type  of  information
       returned  from  a  query  to  one  of: the host's Internet
       address (the default) the canonical name for an alias  the
       host  CPU and operating system type the mail exchanger the
       mailbox or mail list information nameserver for the  named
       zone  the  host  name if the query is an Internet address,
       otherwise the pointer to other  information  the  domain's
       ``start-of-authority''  information  the  text information
       the user information  the  supported  well-known  services
       Other types (ANY, AXFR, MB, MD, MF, NULL) are described in
       the RFC 1035 document.  (Default = A, abbreviations  =  q,
       ty) Tell the name server to query other servers if it does
       not have the information.  (Default =  recurse,  abbrevia-
       tion = [no]rec) Set the number of retries to number.  When
       a reply to a request is  not  received  within  a  certain
       amount  of time (changed with set timeout), the request is
       resent.  The retry value controls how many times a request
       is  resent before giving up.  (Default = 2, abbreviation =
       ret) Change the name of the  root  server  to  host.  This
       affects  the  root  command.   (Default = ns.internic.net,
       abbreviation = ro) Change the time-out interval for  wait-
       ing for a reply to number seconds.  (Default = 10 seconds,
       abbreviation = t) Always use a virtual circuit when  send-
       ing requests to the server.  (Default = novc, abbreviation
       = [no]v) Ignore  packet  truncation  errors.   (Default  =
       noignoretc, abbreviation = [no]ig)

DDiiaaggnnoossttiiccss
       If the lookup request was not successful, an error message
       is printed.  Possible  errors  are:  The  server  did  not
       respond  to  a  request  after  a  certain  amount of time
       (changed with set timeout=value) and a certain  number  of
       retries  (changed with set retry=value).  Depending on the
       query type set with the set querytype command, no informa-
       tion about the host was available, though the host name is
       valid.  The host or domain name does not exist.  The  con-
       nection  to the name or finger server could not be made at
       the current time.  This error commonly occurs with  finger
       requests.  The name server found an internal inconsistency
       in its database and could not return a valid answer.   The
       name server refused to service the request.  The following
       error should not occur and it indicates a bug in the  pro-
       gram:  The  name  server found that the request packet was
       not in the proper format.

FFiilleess
       initial domain name and name server addresses  summary  of
       commands user's initial options

                                                                3

nslookup(1Mtcp)                                   nslookup(1Mtcp)

EEnnvviirroonnmmeenntt vvaarriiaabblleess
       file containing host aliases overrides default domain

RReeffeerreenncceess
       RFC 1034

                                                                4




ntpdate(1Mtcp)                                     ntpdate(1Mtcp)

SSyynnooppssiiss
       ntpdate [ -Bbdosu ] [ -a key# ] [ -e authdelay ] [ -k key-
       file ]
       [ -o version_number ] [ -p samples ] [ -t timeout ] server
       ...

DDeessccrriippttiioonn
       ntpdate  sets  the local date and time by polling the Net-
       work Time Protocol server(s) on the host(s) given as argu-
       ments  to  determine  the correct time.  It must be run as
       root on the local host. A number of samples  are  obtained
       from  each  of  the servers specified and the standard NTP
       clock filter  and  selection  algorithms  are  applied  to
       select  the  best  of  these.  Typically,  ntpdate  can be
       inserted in the /etc/inet/config startup script to set the
       time   of  day  at  boot  time  and/or  can  be  run  from
       time-to-time via Note that ntpdate's reliability and  pre-
       cision  will  improve dramatically with greater numbers of
       servers.  While a single server may be used,  better  per-
       formance and greater resistance to insanity on the part of
       any one server will be  obtained  by  providing  at  least
       three or four servers, if not more.

       Time  adjustments  are made by ntpdate in one of two ways.
       If ntpdate determines your clock is off by more  than  0.5
       seconds it will simply step the time by calling settimeof-
       day.  If the error is less than 0.5 seconds,  however,  it
       will  by  default slew the clock's time via a call to with
       the offset. The latter technique is  less  disruptive  and
       more  accurate  when  the offset is small, and works quite
       well when ntpdate is run by cron every hour  or  two.  The
       adjustment  made in the latter case is actually 50% larger
       than the measured offset since this will tend  to  keep  a
       badly  drifting  clock  more  accurate (at some expense to
       stability, though this tradeoff is usually  advantageous).
       At boot time, however, it is usually better to always step
       the time.

   OOppttiioonnss
       The following options are used to adjust or to get  infor-
       mation  about  ntpdate:  Force the time to be slewed using
       even if the magnitude of the measured  offset  is  greater
       than 128 milliseconds. The default behavior is to step the
       time using settimeofday.  A host should  not  be  used  to
       synchronize  clients in the period of several hours it may
       take to slew the clock to the correct value.  Force  time,
       in  all  cases,  to be stepped.  Usually specified at boot
       time.  Print information useful for general debugging  and
       give  information about ntpdate results without performing
       ntpdate operations. This option always  uses  unprivileged
       ports.   Force  the program to poll as a version 1 or ver-
       sion 2 implementation. NTP, by default, identifies  itself
       as  a  version 3.4 implementation in its outgoing packets.
       Some older versions of NTP do not respond to  version  3.x

                                                                1

ntpdate(1Mtcp)                                     ntpdate(1Mtcp)

       queries.   Tell  ntpdate  to  log its actions using rather
       than the standard output. This is useful when running  the
       program  from  cron.   Tell ntpdate to use an unprivileged
       port when sending packets. This is most useful  when  syn-
       chronizing  with hosts beyond a firewall and sending pack-
       ets from behind a firewall that blocks incoming traffic to
       privileged  ports.   Specify  that  all  packets should be
       authenticated  using  the  indicated  key  number  (key#).
       Specify  an  authentication  processing  delay  in seconds
       (authdelay). This number is usually  small  enough  to  be
       negligible  for  ntpdate,  but may improve time keeping on
       very slow CPUs.  Enable file  name  modification  for  the
       file  from  which  keys  may  be read (keyfile). This file
       should be in the format described in The default keys file
       is  /etc/inet/ntp.keys.   Set  the number of samples (sam-
       ples) ntpdate acquires  from  each  server  from  1  to  8
       (inclusive). The default is 4.  Set the time spent waiting
       for a response (timeout).  This time is rounded to a  mul-
       tiple  of  0.2  seconds.  The default is 1 second, a value
       suitable for polling across a LAN.

       ntpdate will decline to set the date if an NTP server dae-
       mon  (for  example,  is  running on the same host; this is
       because ntpdate and xntpd  both  bind  to  the  same  port
       (123).  When  running ntpdate on a regular basis from cron
       as an alternative to running a daemon, doing so once every
       hour  or  two will result in precise enough timekeeping to
       avoid stepping the clock.

FFiilleess
       contains the encryption keys used by ntpdate

EExxiitt ccooddeess
       None.

RReeffeerreenncceess
       RFC 1119, RFC 1305

                                                                2


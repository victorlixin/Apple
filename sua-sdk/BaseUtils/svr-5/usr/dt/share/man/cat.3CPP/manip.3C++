

manip(3C++)                                           manip(3C++)

SSyynnooppssiiss
       #include <iostream.h> #include <iomanip.h>

       IOMANIPdeclare(T) ;

       class  SMANIP(T)  {       SMANIP(T)( ios& (*)(ios&,T), T);
            friend    istream& operator>>(istream&,  SMANIP(T)&);
            friend    ostream&  operator<<(ostream&, SMANIP(T)&);
       };  class  SAPP(T)  {       SAPP(T)(  ios&   (*)(ios&,T));
            SMANIP(T)   operator()(T);   };   class  IMANIP(T)  {
            IMANIP(T)(     istream&     (*)(istream&,T),      T);
            friend    istream&  operator>>(istream&, IMANIP(T)&);
       };    class    IAPP(T)    {          IAPP(T)(     istream&
       (*)(istream&,T));       IMANIP(T)  operator()(T); }; class
       OMANIP(T) {      OMANIP(T)( ostream& (*)(ostream&,T),  T);
            friend    ostream&  operator<<(ostream&, OMANIP(T)&);
       };    class    OAPP(T)    {          OAPP(T)(     ostream&
       (*)(ostream&,T));       OMANIP(T)  operator()(T); }; class
       IOMANIP(T) {      IOMANIP(T)( iostream&  (*)(iostream&,T),
       T);       friend    istream&  operator>>(iostream&,  IOMA-
       NIP(T)&);       friend    ostream&   operator<<(iostream&,
       IOMANIP(T)&); }; class IOAPP(T) {      IOAPP(T)( iostream&
       (*)(iostream&,T));      IOMANIP(T) operator()(T); };

       IOMANIPdeclare(int); IOMANIPdeclare(long);

       SMANIP(long)   resetiosflags(long);    SMANIP(int)    set-
       fill(int);               SMANIP(long)   setiosflags(long);
       SMANIP(int)    setprecision(int);  SMANIP(int)    setw(int
       w);

DDeessccrriippttiioonn
       Manipulators  are  values that may be ``inserted into'' or
       ``extracted from'' streams to achieve some  effect  (other
       than  to insert or extract a value representation), with a
       convenient syntax.  They enable one to  embed  a  function
       call in an expression containing a series of insertions or
       extractions.  For example, the predefined manipulator  for
       ostreams, flush, can be used as follows:
       cout << flush
       to  flush cout.  Several iostream classes supply manipula-
       tors: see and flush is a simple manipulator; some  manipu-
       lators  take arguments, such as the predefined ios manipu-
       lators, setfill and setw (see  below).   The  header  file
       iomanip.h supplies macro definitions which programmers can
       use to define new parameterized manipulators.

       Ideally, the  types  relating  to  manipulators  would  be
       parameterized as "templates."  The macros defined in ioma-
       nip.h are used to simulate  templates.   IOMANIPdeclare(T)
       declares  the various classes and operators.  (All code is
       declared  inline  so  that  no  separate  definitions  are
       required.)   Each of the other Ts is used to construct the
       real names and therefore  must  be  a  single  identifier.

                                                                1

manip(3C++)                                           manip(3C++)

       Each  of  the other macros also requires an identifier and
       expands to a name.

       In the following descriptions, assume:
       -- t is a T, or type name.
       -- s is an ios.
       -- i is an istream.
       -- o is an ostream.
       -- io is an iostream.
       -- f is an ios& (*)(ios&).
       -- if is an istream& (*)(istream&).
       -- of is an ostream& (*)(ostream&).
       -- iof is an iostream& (*)(iostream&).
       -- n is an int.
       -- l is a long.

       Returns f(s,t), where s is the left operand of the  inser-
       tion  or  extractor  operator  (i.e.,  s,  i,  o,  or io).
       Returns if(i,t).  Returns of(o,t).  Returns iof(io,t).

       iomanip.h contains two  declarations,  IOMANIPdeclare(int)
       and  IOMANIPdeclare(long)  and some manipulators that take
       an int or a long argument.  These manipulators all have to
       do  with  changing  the  format state of a stream; see for
       further details.  Sets  the  field  width  of  the  stream
       (left-hand operand: o or i) to n.  Sets the fill character
       of the stream (o or i) to be n.  Sets the precision of the
       stream  (o or i) to be n.  Turns on in the stream (o or i)
       the  format  flags  marked  in  l.   (Calls  o.setf(l)  or
       i.setf(l)).  Clears in the stream (o or i) the format bits
       specified by l.  (Calls o.setf(0,l) or i.setf(0,l)).

   DDiiaaggnnoossttiiccss
       Syntax errors will be reported if IOMANIPdeclare(T) occurs
       more than once in a file with the same T.

RReeffeerreenncceess

                                                                2




getprotoent(3N)                                   getprotoent(3N)

SSyynnooppssiiss
       cc [options] file -lsocket -lnsl #include <netdb.h>

       struct protoent *getprotoent(void);

       struct protoent *getprotobyname(const char *name);

       struct protoent *getprotobynumber(int proto);

       void setprotoent(int stayopen);

       void endprotoent(void);

DDeessccrriippttiioonn
       getprotoent,  getprotobyname,  and  getprotobynumber  each
       return a pointer to an object with the following structure
       containing  the broken-out fields of a line in the network
       protocol database.

       The protoent structure include the following members: char
       *p_name;         /*  official  name  of  protocol  */ char
       **p_aliases;    /* alias list */ int    p_proto;        /*
       protocol number */

       The  members  of  this structure are: the official name of
       the protocol a zero terminated list of alternate names for
       the protocol the protocol number

       getprotoent  reads  the next line of the database, opening
       it if necessary.

       setprotoent opens and rewinds the database.  If the  stay-
       open  flag  is  non-zero,  the  net  data base will not be
       closed after each call to getprotoent (either directly, or
       indirectly through one of the other getproto calls).

       endprotoent closes the database.

       getprotobyname  and  getprotobynumber  sequentially search
       from the beginning of the database until a matching proto-
       col  name  or protocol number is found, or until an EOF is
       encountered.

FFiilleess
RReettuurrnn vvaalluueess
       A NULL pointer is returned on an EOF or error.

RReeffeerreenncceess
NNoottiicceess
       All information is contained in a static area so  it  must
       be copied if it is to be saved.  For multi-threaded appli-
       cations, this must be done on a per-thread basis.

       Functions that provide  successive  entries  in  files  on

                                                                1

getprotoent(3N)                                   getprotoent(3N)

       successive calls must be called from a single thread.

       Only the Internet protocols are currently understood.

       These  functions use the name-to-address resolution mecha-
       nism described in and  This  mechanism  may  use  a  local
       database  or  the  services of Network Information Service
       (NIS) or Domain Name Service (DNS).

                                                                2


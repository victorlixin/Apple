

dshm_unmap(3dshm)                               dshm_unmap(3dshm)

SSyynnooppssiiss
       #include <dshm.h>

       int dshm_unmap(dshm_handle_t handle, const void* bufp);

DDeessccrriippttiioonn
       dshm_unmap  releases a mapping to allow map slot reassign-
       ment as needed.

       If dshm_unmap returns an error the map should  be  consid-
       ered  corrupt.   An  error indicates a bug, usually a DSHM
       usage bug in the application.  The caller  should  immedi-
       ately abort all processes using the map.  The map needs to
       be destroyed and recreated in order to restart the  appli-
       cation.

RReettuurrnn vvaalluueess
       If dshm_unmap returns 0, the operation succeeded.

       If  dshm_unmap  returns  -1, an error occurred and the map
       should be considered corrupt.  errno is  set  to  identify
       the error.

   EErrrroorrss
       In  the  following  conditions,  dshm_unmap fails and sets
       errno to: The reference count for a map slot is  negative.
       This  strongly  suggests  an  imbalance  in dshm_unmap and
       dshm_unmap operations.  An attempt was  made  to  unmap  a
       buffer  that  is  still in use by the system. For example,
       I/O is pending.  Some  other  internal  inconsistency  was
       discovered.   For  example,  a  system call to remap a map
       slot might have failed.

RReeffeerreenncceess

                                                                1


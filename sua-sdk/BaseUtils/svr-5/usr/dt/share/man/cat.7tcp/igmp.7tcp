

igmp(7tcp)                                             igmp(7tcp)

SSyynnooppssiiss
       Programmer's  interface:  #include  <sys/types.h> #include
       <sys/socket.h> #include <netinet/in.h>

       s = socket(AF_INET, SOCK_RAW, IPPROTO_IGMP);

       #include    <paths.h>    #include    <fcntl.h>    #include
       <netinet/ip_var.h> #include <netinet/igmp_var.h>

       fd = open(_PATH_IGMP, flags);

DDeessccrriippttiioonn
       IGMP  is  used by Internet hosts and routers to keep track
       of multicast groups.  It may be accessed through  a  ``raw
       socket''  for network monitoring and diagnostic functions.
       IGMP sockets are connectionless,  and  are  normally  used
       with  the  sendto and recvfrom calls; the call may also be
       used to fix the destination for future packets  (in  which
       case the or and or system calls may be used).

       Outgoing   packets   automatically  have  an  IPv4  header
       prepended to them  (based  on  the  destination  address).
       Incoming  packets  are  received  with the IPv4 header and
       options intact.

       The IGMP  driver  can  also  be  accessed  by  opening  it
       directly. Networking statistics can be gathered by issuing
       an ioctl directive to the driver.

       The  following  STREAMS   ioctl   requests,   defined   in
       <netinet/ip_var.h>, and <netinet/igmp_var.h> are supported
       by the IGMP driver : Fetch the IGMP statistics  structure.
       The  argument  passed to the I_STR call is a pointer to an
       igmpstat structure.  To set the inpcb associated with that
       end-point  as  a  management inpcb (to distinguish it from
       others, when network statistics are gathered).

DDiiaaggnnoossttiiccss
       A socket operation may fail  with  one  of  the  following
       errors  returned:  when  an  attempt  is  made to create a
       socket with a network address for which no network  inter-
       face  exists.   when trying to establish a connection on a
       socket which already has one, or when  trying  to  send  a
       datagram  with  the  destination address specified and the
       socket is already connected.  when trying to send a  data-
       gram,  but  no  destination  address is specified, and the
       socket has not been connected.  when the system  runs  out
       of memory for an internal data structure.  when the system
       runs out of STREAMS resources.  The errno is  set  to  the
       following  value  upon the failure of the ioctl operation:
       when an invalid argument is passed to the driver.

RReeffeerreenncceess
       on the manual page

                                                                1

igmp(7tcp)                                             igmp(7tcp)

       RFC 1112

                                                                2


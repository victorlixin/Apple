

ldap_enable_cache(3ldap)                 ldap_enable_cache(3ldap)

SSyynnooppssiiss
       #include <lber.h> #include <ldap.h>

       ldap_enable_cache(LDAP *ld, long timeout, long maxmem);

       void ldap_disable_cache(LDAP *ld);

       void ldap_destroy_cache(LDAP *ld);

       void ldap_flush_cache(LDAP *ld);

       void ldap_uncache_entry(LDAP *ld, char *dn);

       void ldap_uncache_request(LDAP *ld, int msgid);

       void ldap_set_cache_options(LDAP *ld, unsigned long opts);

DDeessccrriippttiioonn
       These routines are used to control the behavior of  client
       caching  of  and operations. By default, the cache is dis-
       abled and no caching is  done.   Enabling  the  cache  can
       greatly  improve  performance and reduce network bandwidth
       when a client DUA makes repeated requests.

       ldap_enable_cache  should  be  called  to  turn  on  local
       caching  or to change cache parameters (lifetime of cached
       requests and memory used).  The ld parameter should be the
       result of a successful call to The timeout is specified in
       seconds, and is used to decide how  long  to  keep  cached
       requests. The maxmem value is in bytes, and is used to set
       an upper bound on how much memory the cache will use.  You
       can specify 0 for maxmem to restrict the cache size by the
       timeout only. The first call to ldap_enable_cache  creates
       the  cache;  subsequent  calls re-enable the cache and set
       the timeout and memory values.

       ldap_disable_cache temporarily disables use of  the  cache
       (new  requests are not cached and the cache is not checked
       when returning results). It does not delete the cache con-
       tents.

       ldap_destroy_cache   turns   off  caching  and  completely
       removes the cache from memory.

       ldap_flush_cache deletes the cache contents, but does  not
       affect it in any other way.

       ldap_uncache_entry  removes  all requests that make refer-
       ence to the distinguished  name  dn  from  the  cache.  It
       should be used, for example, after doing an call involving
       dn.

       ldap_uncache_request removes the request indicated by  the
       LDAP request ID, msgid, from the cache.

                                                                1

ldap_enable_cache(3ldap)                 ldap_enable_cache(3ldap)

       ldap_set_cache_options is used to change caching behavior.
       The current supported options are  LDAP_CACHE_OPT_CACHENO-
       ERRS to suppress caching of any requests that result in an
       error, and LDAP_CACHE_OPT_CACHEALLERRS to  enable  caching
       of  all  requests.  The  default  behavior is to not cache
       requests that result in errors, except for  requests  that
       result in the error LDAP_SIZELIMIT_EXCEEDED.

RReettuurrnn vvaalluueess
       ldap_enable_cache  returns 0 upon success, and -1 if it is
       unable to allocate space for  the  cache.  All  the  other
       calls are declared as void and return nothing.

RReeffeerreenncceess

                                                                2


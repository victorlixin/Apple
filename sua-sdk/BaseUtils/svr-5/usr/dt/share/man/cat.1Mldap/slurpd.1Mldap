

slurpd(1Mldap)                                     slurpd(1Mldap)

SSyynnooppssiiss
       /usr/lib/ldap/slurpd  [-d  debug-level]  [-f slapd-config-
       file] [-r slapd-replog-file] [-t temp-dir] [-o]

DDeessccrriippttiioonn
       slurpd is used to propagate changes from one  database  to
       another.  If  slapd is configured to produce a replication
       log, slurpd reads  that  replication  log  and  sends  the
       changes  to  the slave slapd instances via the LDAP proto-
       col.

       On startup, slurpd normally forks and disassociates itself
       from  the  invoking  tty,  then  reads the replication log
       (given either by the replogfile  directive  in  the  slapd
       configuration  file, or by the -r command line option). If
       the replication log file  does  not  exist  or  is  empty,
       slurpd  goes to sleep. It periodically wakes up and checks
       to see if there are any changes to be propagated.

       When slurpd notices that there are changes to propagate to
       slave slapd instances, it locks the replication log, makes
       its own private copy, releases the  lock,  and  forks  one
       copy  of itself for each replica slapd to be updated. Each
       child process binds to the slave slapd as the DN given  by
       the  binddn  option  to the replica directive in the slapd
       configuration file, and sends the changes.

       See for details on the stand-alone LDAP daemon.

   OOppttiioonnss
       Turn on debugging  as  defined  by  debug-level.  If  this
       option  is specified, slurpd will not fork or disassociate
       from the invoking terminal.  Some  general  operation  and
       status  messages are printed for any value of debug-level.
       debug-level is taken as a bit string, with each bit corre-
       sponding to a different kind of debugging information. See
       <ldap.h> for details.  Specifies the  slapd  configuration
       file.  The default is /etc/slapd.conf.  Specifies the name
       of the slapd replication logfile. Normally,  the  name  of
       the replication log file is read from the slapd configura-
       tion file. The -r option allows you to override this.   In
       conjunction with the -o option, you can process a replica-
       tion log file in a  ``one-shot''  mode.  For  example,  if
       slurpd  has encountered errors in processing a replication
       log, you can run it in one-shot mode and give  the  rejec-
       tion  file  name  as  the  argument to the -r option, once
       you've resolved the problem which caused  the  replication
       to fail.

       The default slapd-replog-file file is /usr/tmp/replogfile.
       slurpd copies the replication log to a  working  directory
       before  processing  it.  This option allows you to specify
       the location of these  temporary  files.  The  default  is
       /usr/tmp.   Run  in  ``one-shot''  mode.  Normally, slurpd

                                                                1

slurpd(1Mldap)                                     slurpd(1Mldap)

       processes the replog file and then watches for more repli-
       cation  entries  to  be appended. In one-shot mode, slurpd
       processes a replication log and exits.

EExxaammpplleess
       To start slurpd and have it fork and detach from the  ter-
       minal and process the replication logs generated by slapd,
       type: /usr/lib/ldap/slurpd To start slurpd with an  alter-
       nate  slapd  configuration  file,  and  turn on voluminous
       debugging which will be printed on standard  error,  type:
       /usr/lib/ldap/slurpd -f /etc/slapd.conf -d 255

RReeffeerreenncceess

                                                                2




getlogin(3C)                                         getlogin(3C)

SSyynnooppssiiss
       #include <stdlib.h> char *getlogin(void);

       #include  <unistd.h>  int  getlogin_r(char  *name,  size_t
       namelen);

DDeessccrriippttiioonn
       getlogin returns a pointer to the login name as  found  in
       /var/adm/utmp.   It may be used in conjunction with getpw-
       nam to locate the correct password  file  entry  when  the
       same user id is shared by several login names.

       If  getlogin  is  called  within  a  process  that  is not
       attached to a terminal, it returns a  null  pointer.   The
       correct  procedure  for  determining  the login name is to
       call cuserid, or to call getlogin and if it fails to  call
       getpwuid.

       getlogin_r  puts the name associated by the login activity
       with the control terminal of the current  process  in  the
       character  string pointed to by name.  As the same user ID
       may be shared by several login names, use getlogin_r  with
       getpwnam[see  to  ensure  that  the  correct user database
       entry is found.  If successful,  getlogin_r  returns  name
       which points to the name the user logged in under, even if
       there are several login names with the same user ID.

   FFiilleess
       /var/adm/utmp

   RReettuurrnn vvaalluueess
       getlogin_r returns a pointer to a  string  containing  the
       user's  login  in  name,  or NULL if the user's login name
       cannot be found.  If  an  error  is  detected,  getlogin_r
       returns NULL and sets errno.

   EErrrroorrss
       getlogin  returns  a NULL pointer if the login name is not
       found.  getlogin_r returns a value of 0 on success; a non-
       zero  return  indicates  an error.  The return value indi-
       cates the errno.

       getlogin_r returns NULL and ERANGE when namelen is smaller
       than the length of the string.

RReeffeerreenncceess
NNoottiicceess
       The  return  values  point to static data whose content is
       overwritten by each call.

       Use getlogin_r for multi-threaded applications.

       The  older  getlogin_r  interface:  char  *getlogin_r(char
       *name,  size_t  namelen);  is  available  if  _SIMPLE_R is

                                                                1

getlogin(3C)                                         getlogin(3C)

       defined.

                                                                2


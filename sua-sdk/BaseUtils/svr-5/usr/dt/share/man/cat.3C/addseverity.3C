

addseverity(3C)                                   addseverity(3C)

SSyynnooppssiiss
       #include <fmtmsg.h>

       int addseverity(int severity, const char *string);

DDeessccrriippttiioonn
       The  addseverity function builds a list of severity levels
       for an application to be used with the message  formatting
       facility, fmtmsg.  severity is an integer value indicating
       the seriousness of the condition, and string is a  pointer
       to  a  string describing the condition (string is not lim-
       ited to a specific size).

       If addseverity is called with an integer  value  that  has
       not  been  previously  defined, the function adds that new
       severity value and print string to  the  existing  set  of
       standard severity levels.

       If  addseverity  is  called with an integer value that has
       been previously defined, the function redefines that value
       with  the  new  print string.  Previously defined severity
       levels may be removed by supplying the  NULL  string.   If
       addseverity is called with a negative number or an integer
       value of 0, 1, 2, 3, or 4, the function fails and  returns
       -1.  The values 0-4 are reserved for the standard severity
       levels and cannot be modified.  Identifiers for the  stan-
       dard levels of severity are:

       indicates  that  the  application has encountered a severe
       fault and is halting.  Produces  the  print  string  HALT.
       indicates that the application has detected a fault.  Pro-
       duces the print string ERROR.  indicates a condition  that
       is  out  of  the  ordinary,  that  might be a problem, and
       should be watched.  Produces  the  print  string  WARNING.
       provides  information  about  a  condition  that is not in
       error.  Produces the print string INFO.  indicates that no
       severity level is supplied for the message.

       Severity  levels may also be defined at run time using the
       SEV_LEVEL environment variable [see

   RReettuurrnn vvaalluueess
       addseverity returns MM_OK on success or MM_NOTOK on  fail-
       ure.

UUssaaggee
       When  the  function  addseverity  is used as follows: add-
       severity(7,"ALERT")

       the following call to fmtmsg:  fmtmsg(MM_PRINT,  "UX:cat",
       7, "invalid syntax",      "refer to manual", "UX:cat:001")

       produces: UX:cat: ALERT: invalid syntax TO FIX:  refer  to
       manual   UX:cat:001

                                                                1

addseverity(3C)                                   addseverity(3C)

RReeffeerreenncceess
NNoottiicceess
       A slightly different standard error message format and new
       developer interfaces, pfmt and addsev,  have  been  intro-
       duced  as  the  replacements  for  fmtmsg and addseverity.
       fmtmsg and addseverity will be removed at a future time.

                                                                2


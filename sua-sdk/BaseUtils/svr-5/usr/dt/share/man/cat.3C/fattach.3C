

fattach(3C)                                           fattach(3C)

SSyynnooppssiiss
       #include <stropts.h> #include <unistd.h>

       int fattach(int fildes, const char *path);

DDeessccrriippttiioonn
       The fattach routine attaches a STREAMS-based file descrip-
       tor to an object in the file  system  name  space,  effec-
       tively  associating  a name with fildes.  fildes must be a
       valid open file descriptor representing  a  STREAMS  file.
       path  is a path name of an existing object, and the effec-
       tive user ID of the calling process must be the  owner  of
       the  file  and have write permissions, or the calling pro-
       cess must have appropriate privilege (P_OWNER).  All  sub-
       sequent  operations  on  path  will operate on the STREAMS
       file until the STREAMS file is  detached  from  the  node.
       fildes  can  be attached to more than one path; that is, a
       stream can have several names associated with it.

       The attributes of the named stream (see are initialized as
       follows: the permissions, user ID, group ID, and times are
       set to those of path, the number of links is set to 1, and
       the  size  and  device  identifier are set to those of the
       streams device associated with fildes.  If any  attributes
       of the named stream are subsequently changed (for example,
       the attributes of the underlying object are not  affected.

   RReettuurrnn vvaalluueess
       If  successful, fattach returns 0; otherwise it returns -1
       and sets errno to indicate an error.

   EErrrroorrss
       Under the following conditions, the function fattach fails
       and sets errno to: Search permission is denied on a compo-
       nent of the path prefix.  The user is  the  owner  of  the
       file  named by path but does not have write permissions on
       path or fildes is locked.  fildes is not a valid open file
       descriptor.   path  does not exist.  A component of a path
       prefix is not a directory.  fildes does  not  represent  a
       STREAMS  file.   The effective user ID of the calling pro-
       cess is not the owner of the file named by path  nor  does
       the process have appropriate privilege (P_OWNER).  path is
       currently a mount point or has a STREAMS  file  descriptor
       attached  it.   The  size of path exceeds PATH_MAX, or the
       component of a path name is  longer  than  NAME_MAX  while
       _POSIX_NO_TRUNC  is  in  effect.   Too many symbolic links
       were encountered in translating path.  path is a file in a
       remotely mounted directory.

RReeffeerreenncceess

                                                                1


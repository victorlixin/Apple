

MACIOC_SETADDR(7mdi)                         MACIOC_SETADDR(7mdi)

DDeessccrriippttiioonn
       This  ioctl  requests  that  the  MDI  driver  set the MAC
       address in use on the controller.  The request will appear
       as an message block with an associated block that contains
       the MAC address to be used.  This new  address  should  be
       used as the source MAC address for all transmitted packets
       and the controller should be set to receive  packets  sent
       to   this  address,  as  well  as  all  defined  multicast
       addresses and all  MAC  level  broadcasts.   This  request
       should only be acted upon if ioc_uid is set to zero.

       The  new  MAC address must be preserved across a close and
       subsequent open  of  the  driver.   When  this  driver  is
       unloaded  from  the  kernel and subsequently reloaded, the
       value of the current MAC address must be reset to the fac-
       tory MAC address.

   PPaarraammeetteerrss
       The ioctl data contains the MAC address to be set.

   DDaattaa rreettuurrnneedd
       Acknowledgement  should  be  one  of  the  following:  Set
       ioc_rval to zero.  The ioctl data must be returned in  the
       mp->b_cont  portion  of  the  message; this portion of the
       message cannot be freed by the driver.  Set  ioc_count  to
       zero,  ioc_rval to -1, and ioc_error to one of the follow-
       ing:  insufficient  privilege  Device  does  not  use  MAC
       addresses   Device  does  not  support  changing  the  MAC
       address.

       For any other error conditions, set ioc_error to an appro-
       priate value from

   VVeerrssiioonn aapppplliiccaabbiilliittyy
       1, 2, 2.1

   RReeffeerreenncceess

                                                                1




_spin_init(3synch)                             _spin_init(3synch)

SSyynnooppssiiss
       cc [options] -Kthread file

       #include <synch.h>

       int _spin_init(spin_t *lock, void *arg);

   PPaarraammeetteerrss
       pointer  to spin lock to be initialized NULL (reserved for
       future use)

DDeessccrriippttiioonn
       _spin_init initializes the spin lock pointed to by lock to
       the  unlocked  state.  Once initialized, the spin lock can
       be used any number of times without being  re-initialized.

   lloocckk ppaarraammeetteerr
       lock points to the spin lock to be initialized.

   aarrgg ppaarraammeetteerr
       arg  should be set to NULL.  It is not currently used, but
       is reserved for future use.

   SSttaattiicc ssppiinn lloocckk iinniittiiaalliizzaattiioonn
       In this implementation, a spin  lock  can  be  initialized
       statically  if  its storage is zero-filled.  In this case,
       _spin_init need not be called.

RReettuurrnn vvaalluueess
       _spin_init returns zero for success and  an  error  number
       for failure.

   EErrrroorrss
       If  any  the  following conditions is detected, _spin_init
       returns the corresponding value: invalid  argument  speci-
       fied

WWaarrnniinnggss
       Spin  locks  should not be used on a single processor sys-
       tem.  In the best case, a spin lock on a single  processor
       system will waste resources, slowing down the owner of the
       lock; in the worst case, it will deadlock the processor.

       _spin_init does not examine the lock argument before  ini-
       tializing  it.  If _spin_init is called more than once for
       the same spin lock, it will overwrite its  state.   It  is
       the  user's  responsibility  to  ensure that _spin_init is
       only called once for each spin lock.

       Operations on locks initialized with  _spin_init  are  not
       recursive--a  thread can deadlock if it attempts to relock
       a spin lock that it already has locked.

                                                                1

_spin_init(3synch)                             _spin_init(3synch)

RReeffeerreenncceess

                                                                2


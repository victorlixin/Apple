#!/bin/sh

# Copyright (c) Microsoft Corporation.  All rights reserved.
# 

#
# whoami
#
# RCSid = $Header: //depot/InterixBSD/src/whoami/whoami.ksh#1 2004/09/23 05:45:17 FAREAST\\ranas $
#


stripDomain=0;

while getopts  ":s" opt; do
    case "$opt" in
        s)
                stripDomain=1;
                ;;
	'?')
		print "$0: unknown option '$OPTARG'."
		print "usage:  whoami [-s]"
		exit 2
		;;
    esac
done

shift $OPTIND-1

name=$(/bin/id -un)

if [ "$stripDomain" = 1 ]; then
	# remove everything to the left of a "+" character
	print ${name##*+}
else
	print $name
fi

exit 0

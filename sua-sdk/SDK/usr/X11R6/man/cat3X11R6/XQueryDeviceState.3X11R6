XQueryDeviceState(3X11R6)                     XQueryDeviceState(3X11R6)

  XXQQuueerryyDDeevviicceeSSttaattee

  NNAAMMEE

    XQueryDeviceState - query the state of an extension input device.

  SSYYNNTTAAXX

    XQueryDeviceState(display, device)
          Display *display;
          XDevice *device; 

  AARRGGUUMMEENNTTSS

    display
        Specifies the connection to the X server.

    device
        Specifies the device whose state is to be queried.

  DDEESSCCRRIIPPTTIIOONN

    The XXQQuueerryyDDeevviicceeSSttaattee request queries the state of an input device. The
    current state of keys and buttons (up or down), and valuators (current
    value) on the device is reported by this request. Each key or button is
    represented by a bit in the XDeviceState structure that is returned.
    Valuators on the device report 0 if they are reporting relative
    information, and the current value if they are reporting absolute
    information.

    XXQQuueerryyDDeevviicceeSSttaattee can generate a BadDevice error.

  SSTTRRUUCCTTUURREESS

    The XDeviceState structure contains:

    typedef struct {
            XID device_id;
            int num_classes;
            XInputClass *data;
    } XDeviceState;

    The XValuatorState structure contains:

    typedef struct {
            unsigned char class;
            unsigned char length;
            unsigned char num_valuators;
            unsigned char mode;
            int *valuators;
    } XValuatorState;

    The XKeyState structure contains:

    typedef struct {
            unsigned char class;
            unsigned char length;
            short         num_keys;
            char keys[32];
    } XKeyState;

    The XButtonState structure contains:

    typedef struct {
            unsigned char class;
            unsigned char length;
            short         num_buttons;
            char buttons[32];
    } XButtonState;

  DDIIAAGGNNOOSSTTIICCSS

    BadDevice
        An invalid device was specified. The specified device does not exist
        or has not been opened by this client via XOpenInputDevice. This error
        may also occur if some other client has caused the specified device to
        become the X keyboard or X pointer device via the
        XXCChhaannggeeKKeeyybbooaarrddDDeevviiccee or XXCChhaannggeePPooiinntteerrDDeevviiccee requests.

  SSEEEE AALLSSOO

    Programming with Xlib


XQueryDeviceState(3X11R5)                     XQueryDeviceState(3X11R5)

  XXQQuueerryyDDeevviicceeSSttaattee(())

  NNAAMMEE

    XQueryDeviceState() - query the state of an extension input device.

  SSYYNNOOPPSSIISS

    XQueryDeviceState (Display *display, XDevice *device)

  AARRGGUUMMEENNTTSS

    display
        Specifies the connection to the X server.

    device
        Specifies the device whose state is to be queried.

  DDEESSCCRRIIPPTTIIOONN

    The _XX_QQ_uu_ee_rr_yy_DD_ee_vv_ii_cc_ee_SS_tt_aa_tt_ee(3X11R5) request queries the state of an input
    device. The current state of keys and buttons (up or down), and valuators
    (current value) on the device is reported by this request. Each key or
    button is represented by a bit in the XXDDeevviicceeSSttaattee structure that is
    returned. Valuators on the device report 0 if they are reporting relative
    information, and the current value if they are reporting absolute
    information.

    _XX_QQ_uu_ee_rr_yy_DD_ee_vv_ii_cc_ee_SS_tt_aa_tt_ee(3X11R5) can generate a BadDevice error.

  SSTTRRUUCCTTUURREESS

    The structure contains:

    typedef struct {
         XID device_id;
         int num_classes;
         XInputClass *data;
    } XDeviceState;

    The XXVVaalluuaattoorrSSttaattee structure contains:

    typedef struct {
         unsigned char class;
         unsigned char length;
         unsigned char num_valuators;
         unsigned char mode;
         int *valuators;
    } XValuatorState;

    The XXKKeeyySSttaattee structure contains:

    typedef struct {
         unsigned char class;
         unsigned char length;
         short         num_keys;
         char keys[32];
    } XKeyState;

    The XXBBuuttttoonnSSttaattee structure contains:

    typedef struct {
         unsigned char class;
         unsigned char length;
         short         num_buttons;
         char buttons[32];
    } XButtonState;

  DDIIAAGGNNOOSSTTIICCSS

    BadDevice
        An invalid device was specified. The specified device does not exist
        or has not been opened by this client with XXOOppeennIInnppuuttDDeevviiccee(). This
        error might also occur if some other client has caused the specified
        device to become the X keyboard or X pointer device through the
        _XX_CC_hh_aa_nn_gg_ee_KK_ee_yy_bb_oo_aa_rr_dd_DD_ee_vv_ii_cc_ee(3X11R5) or _XX_CC_hh_aa_nn_gg_ee_PP_oo_ii_nn_tt_ee_rr_DD_ee_vv_ii_cc_ee(3X11R5)
        requests.

  SSEEEE AALLSSOO

    Programming With Xlib


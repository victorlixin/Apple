msync(3)                                                       msync(3)

  mmssyynncc

  NNAAMMEE

    msync() - write pages to storage, synchronizing memory

  SSYYNNOOPPSSIISS

    int msync (void *addr, size_t len, int flags)

  DDEESSCCRRIIPPTTIIOONN

    Depending on the flags argument, the _mm_ss_yy_nn_cc(3) call writes to storage all
    modified pages over the range addr to addr+len or invalidates the existing
    copies of those pages so that future references to the page come from
    permanent storage. The flags argument can be one of:

    MS_ASYNC
        Write current memory contents asynchronously. After this call, all
        reads can read any writes made to the memory region before the call,
        and the call returns after scheduling the write.

    MS_SYNC
        Write current memory contents synchronously. After this call, all
        reads can read any writes made to the memory region before the call,
        and the call does not return until the write is completed.

    MS_INVALIDATE
        Invalidate existing page mappings. Essentially this makes the memory
        mapping look like the last-saved state of the file, rather than the
        other way around. The memory region will contain all writes made to
        the mapped portion of the file before the call.

  RREETTUURRNN VVAALLUUEESS

    The _mm_ss_yy_nn_cc(3) call returns 0 for success and returns -1 otherwise. If it
    does not succeed, it sets errno to indicate the error.

  EERRRROORRSS

    The _mm_ss_yy_nn_cc(3) call can fail for the following reasons:

    [EINVAL]
        The addr argument is not a multiple of the page size; use _ss_yy_ss_cc_oo_nn_ff(2)
        to determine the page size.

    [EIO]
        An I/O error occurred.

    [ENOEM]
        An address in the range [addr, addr + len] was not valid for the
        process or those pages aren't mapped.

  SSEEEE AALLSSOO

    _m_m_a_p(2)

    _s_y_s_c_o_n_f(2)

  UUSSAAGGEE NNOOTTEESS

    The mmssyynncc function is thread safe.

    The mmssyynncc function is not async-signal safe.


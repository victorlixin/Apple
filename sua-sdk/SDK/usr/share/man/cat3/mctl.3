mctl(3)                                                         mctl(3)

  mmccttll(())

  NNAAMMEE

    mctl() - control memory management

  SSYYNNOOPPSSIISS

    #include <sys/mman.h>

    int mctl(void *addr, size_t len, int cmd, int arg)

  DDEESSCCRRIIPPTTIIOONN

    The _mm_cc_tt_ll(3) call controls the management of memory for the pages mapped in
    the range [addr, addr + len]. The actual management command is specified
    by cmd.

    Values that can be ORed into arg are:

    MCL_CURRENT
        Lock the current mappings

    MCL_FUTURE
        Lock all mappings added to the address space, so long as there is
        sufficient memory

    MC_UNLOCK
        Unlock all of the pages in the range that have the specified
        attributes. The value of arg must be 0.

    MC_UNLOCKAS
        Unlock any locks on the address space (MC_LOCKAS) and remove locks on
        all pages in the address space that have the specified attributes.

    The _mm_cc_tt_ll(3) call is actually an historical version of _mm_ee_mm_cc_nn_tt_ll(2); it is
    equivalent to:

    memcntl(addr, len, cmd, (void *)arg,
    PROT_READ|PROT_WRITE|PROT_EXEC|SHARED|PRIVATE , 0)

    See the _mm_ee_mm_cc_nn_tt_ll(2) man page for more information.

  RREETTUURRNN VVAALLUUEESS

    The _mm_cc_tt_ll(3) call returns 0 on success and -1 on failure. On failure, it
    sets the value of errno to indicate the error.

  EERRRROORRSS

    The _mm_cc_tt_ll(3) call can fail for the following reasons:

    [EAGAIN]
        Insufficient resources to lock some or all of the memory.

    [EBUSY]
        One of the pages is locked in memory and MS_INVALIDATE was the
        command.

    [EINVAL]
        The addr is invalid. It must be a multiple of the page size.

    [EIO]
        An I/O error occurred.

    [ENOMEM]
        The addresses in the range are not valid for the address space of the
        process, or are for pages that aren't mapped.

    [EPERM]
        A locking command was specified and the effective user ID does not
        have appropriate privileges.

  SSEEEE AALLSSOO

    _m_e_m_c_n_t_l(2)

  UUSSAAGGEE NNOOTTEESS

    The mmccttll function is thread safe.

    The mmccttll function is not async-signal safe.


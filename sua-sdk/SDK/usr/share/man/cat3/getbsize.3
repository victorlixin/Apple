getbsize(3)                                                 getbsize(3)

  ggeettbbssiizzee(())

  NNAAMMEE

    getbsize - get user block size

  SSYYNNOOPPSSIISS

    #include <stdlib.h>

    char *
    getbsize(int *headerlenp, long *blocksizep)

  DDEESSCCRRIIPPTTIIOONN

    The ggeettbbssiizzee(3) function determines the user's preferred block size based
    on the value of the BLOCKSIZE environment variable.

    The ggeettbbssiizzee(3) function returns a pointer to a null-terminated string
    describing the block size, something like 1K-blocks. The memory referenced
    by headerlenp is filled in with the length of the string (not including
    the terminating null). The memory referenced by blocksizep is filled in
    with block size, in bytes.

    If the user's block size is unreasonable, a warning message is written to
    standard error and the returned information reflects a block size of 512
    bytes.

    The ggeettbbssiizzee(3) function is used by llss(1), but not ddff(1) or dduu(1).

  SSEEEE AALLSSOO

    _l_s(1)

    _d_f(1)

    _d_u(1)

  HHIISSTTOORRYY

    The ggeettbbssiizzee(3) function first appeared in 4.4BSD.

  UUSSAAGGEE NNOOTTEESS

    The ggeettbbssiizzee function is not thread safe.

    The ggeettbbssiizzee function is not async-signal safe.


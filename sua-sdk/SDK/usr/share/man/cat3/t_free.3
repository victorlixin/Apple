t_free(3)                                                     t_free(3)

  tt__ffrreeee(())

  NNAAMMEE

    t_free - free a library structure

  SSYYNNOOPPSSIISS

    #include <xti.h>

    int t_free(
        void *ptr,
        int struct_type)

  DDEESSCCRRIIPPTTIIOONN

    The tt__ffrreeee() function frees memory previously allocated by _tt____aa_ll_ll_oo_cc(3).
    This function will free memory for the specified structure, and will also
    free memory for buffers referenced by the structure.

    PPaarraammeetteerrss      BBeeffoorree ccaallll     AAfftteerr ccaallll

    ptr             x               /

    struct_type     x               /

    The argument ptr points to one of the seven structure types described for
    _tt____aa_ll_ll_oo_cc(3), and struct_type identifies the type of that structure which
    must be one of the following:

    T_BIND        struct    t_bind
    T_CALL        struct    t_call
    T_OPTMGMT     struct    t_optmgmt
    T_DIS         struct    t_discon
    T_UNITDATA    struct    t_unitdata
    T_UDERROR     struct    t_uderr
    T_INFO        struct    t_info

    where each of these structures is used as an argument to one or more
    transport functions.

    The function tt__ffrreeee(3) will check the addr, opt and udata fields of the
    given structure (as appropriate) and free the buffers pointed to by the
    buf field of the netbuf structure. If buf is a null pointer, tt__ffrreeee(3)
    will not attempt to free memory. After all buffers are freed, tt__ffrreeee(3)
    will free the memory associated with the structure pointed to by ptr.

    Undefined results will occur if ptr or any of the buf pointers points to a
    block of memory that was not previously allocated by _tt____aa_ll_ll_oo_cc(3).

  VVAALLIIDD SSTTAATTEESS

    ALL - apart from T_UNINIT

  EERRRROORRSS

    On failure, t_errno is set to one of the following values:

    [TNOSTRUCTYPE]
        Unsupported struct_type requested.

    [TPROTO]
        This error indicates that a communication problem has been detected
        between XTI and the transport provider for which there is no other
        suitable XTI error (t_errno).

    [TSYSERR]
        A system error has occurred during execution of this function.

  RREETTUURRNN VVAALLUUEE

    Upon successful completion, a value of 0 is returned. Otherwise, a value
    of -1 is returned and t_errno is set to indicate an error.

  SSEEEE AALLSSOO

    _tt____aa_ll_ll_oo_cc(3)

  UUSSAAGGEE NNOOTTEESS

    The tt__ffrreeee function is not thread safe.

    The tt__ffrreeee function is not async-signal safe.


pthread_testcancel(2)                             pthread_testcancel(2)

  pptthhrreeaadd__sseettccaanncceellssttaattee(())

  NNAAMMEE

    pthread_setcancelstate(), pthread_setcanceltype(), pthread_testcancel() -
    set thread cancelability

  SSYYNNOOPPSSIISS

    #include <pthread.h>

    int pthread_setcancelstate(int state, int *oldstate);
    int pthread_setcanceltype(int type, int *oldtype);
    void pthread_testcancel(void);

  DDEESSCCRRIIPPTTIIOONN

    The pptthhrreeaadd__sseettccaanncceellssttaattee(2) function sets the calling thread's
    cancelability state to the value specified by the state argument and
    returns the previous cancelability state in the location referenced by the
    oldstate argument. The cancelability state can be set to either of the
    following values:

    *     PTHREAD_CANCEL_ENABLE (the default) allows the thread to be canceled
    *     PTHREAD_CANCEL_DISABLE prevents a thread from being canceled

    The pptthhrreeaadd__sseettccaanncceellttyyppee(2) function sets the calling thread's
    cancelability type to the value specified by the type argument and returns
    the previous cancelability type in the location referenced by the oldtype
    argument. The cancelability type can be set to either of the following
    values:

    *     PTHREAD_CANCEL_DEFERRED (the default) allows thread cancellation
          only at a cancellation point
    *     PTHREAD_CANCEL_ASYNCHRONOUS allows immediate cancellation

    The pptthhrreeaadd__tteessttccaanncceell(2) function creates a cancellation point in the
    thread. This function has no effect if cancelability is disabled.

  RREETTUURRNN VVAALLUUEESS

    On success, these functions return 0; otherwise, an error code is
    returned.

  EERRRROORRSS

    The pptthhrreeaadd__sseettccaanncceellssttaattee() function can fail for the following reason:

    The pptthhrreeaadd__sseettccaanncceellttyyppee() function can fail for the following reason:

    [EINVAL]
        The type argument is not set to PTHREAD_CANCEL_DEFERRED or
        PTHREAD_CANCEL_ASYNCHRONOUS.

    These functions do not return [EINTR].

  SSEEEE AALLSSOO

    _p_t_h_r_e_a_d___c_a_n_c_e_l(2)

  UUSSAAGGEE NNOOTTEESS

    All of these functions are thread safe.

    None of these functions are async-signal safe.


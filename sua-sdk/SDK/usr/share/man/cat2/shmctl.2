shmctl(2)                                                     shmctl(2)

  sshhmmccttll(())

  NNAAMMEE

    shmctl() - control shared memory operations

  SSYYNNOOPPSSIISS

    #include <sys/shm.h>

    int shmctl(int shmid, int cmd, struct shmid_ds *buf)

  DDEESSCCRRIIPPTTIIOONN

    The _ss_hh_mm_cc_tt_ll(2) function gives you access to the data information associated
    with a shared memory segment, either to read or set the values of members,
    or to remove a shared memory identifier. argument.

    The function parameters are:

    shmid
        An identifier for the shared memory segment. The shared memory segment
        has a sshhmmiidd__ddss data structure associated with it; see <<ssyyss//sshhmm..hh>> for
        a description of the structure.

    cmd
        The operation to be performed. The following are valid (defined in
        <<ssyyss//sshhmm..hh>>):

        IPC_STAT
            Copies the current values of the sshhmmiidd__ddss data structure
            associated with shmid into buf.

        IPC_SET
            Sets the value of members of the sshhmmiidd__ddss data structure
            associated with shmid from the same members in buf. The members
            copied are sh_perm.uid sh_perm.gid and the low-order nine bits of
            shm_perm.mode

        IPC_RMID
            Removes the identifier specified by shmid from the system and
            destroys the shared memory segment and data structure associated
            with it.

    buf
        The buffer used to store information copied or to be copied.

    The header file <<ssyyss//sshhmm..hh>> includes <<ssyyss//iippcc..hh>>.

  RREETTUURRNN VVAALLUUEE

    The _ss_hh_mm_cc_tt_ll(2) call returns 0 on success. On failure, it returns -1 and
    sets errno

  EERRRROORRSS

    The _ss_hh_mm_cc_tt_ll(2) function can fail for the following reasons:

    [EACCES]
        The cmd is IPC_STAT and the calling process doesn't have read
        permission.

    [EINVAL]
        Shmid is not a valid shared memory identifier.

    [ENOSYS]
        The function isn't implemented.

    [EPERM]
        The cmd is IPC_RMID or IPC_SET and the calling process doesn't the
        appropriate privileges (that is, the ones set by shm_perm.cuid or
        shm_perm.uid in the data structure associated with shmid).

    The function may fail because of:

    [EOVERFLOW]
        The cmd is PC_STAT and the value of ggiidd or uuiidd is too large to be
        stored in the structure indicated by buf.

  SSEEEE AALLSSOO

    _s_h_m_a_t(2)

    _s_h_m_d_t(2)

    _s_h_m_g_e_t(2)

  UUSSAAGGEE NNOOTTEESS

    The sshhmmccttll function is thread safe.

    The sshhmmccttll function is not async-signal safe.


settimeofday(2)                                         settimeofday(2)

  sseettttiimmeeooffddaayy(())

  NNAAMMEE

    settimeofday() - set date and time

  SSYYNNOOPPSSIISS

    #include <sys/time.h>

    int settimeofday (struct timeval *tp, void *tzp)

  DDEESSCCRRIIPPTTIIOONN

    Note

    *     ttiimmeezzoonnee is no longer used; this information is kept outside the
          kernel.

    The system's notion of the current Greenwich time and the current time
    zone is obtained with the _gg_ee_tt_tt_ii_mm_ee_oo_ff_dd_aa_yy(3) call, and set with the
    sseettttiimmeeooffddaayy() call. The time is expressed in seconds and microseconds
    since midnight (0 hour), January 1, 1970. The resolution of the system
    clock is hardware dependent, and the time may be updated continuously or
    in "ticks". If tp or tzp is NULL, the associated time information will not
    be returned or set.

    The structures pointed to by tp and tzp are defined in <sys/time.h> as:

         struct timeval {
    	     long    tv_sec;	     /* seconds since Jan. 1, 1970 */
    	     long    tv_usec;	     /* and microseconds */
         };

         struct timezone {
    	     int     tz_minuteswest; /* minutes west of Greenwich */
    	     int     tz_dsttime;     /* type of dst correction */
         };

    The ttiimmeezzoonnee structure indicates the local time zone (measured in minutes
    of time westward from Greenwich), and a flag that, if nonzero, indicates
    that Daylight Saving time applies locally during the appropriate part of
    the year.

    Only the superuser may set the time of day or time zone. If the system is
    running in secure mode (see iinniitt), the time may only be advanced. This
    limitation is imposed to prevent a malicious superuser from setting
    arbitrary time stamps on files.

  RREETTUURRNN VVAALLUUEE

    The function returns 0 on success. On failure, they return -1 and set the
    global variable errno to indicate the error.

  EERRRROORRSS

    The following error codes may be set in errno:

    [EFAULT]
        An argument address referenced invalid memory.

    [EPERM]
        A user without appropriate privileges attempted to set the time.

  SSEEEE AALLSSOO

    _g_e_t_t_i_m_e_o_f_d_a_y(3)

    _d_a_t_e(1)

    _c_t_i_m_e(3)

  UUSSAAGGEE NNOOTTEESS

    The sseettttiimmeeooffddaayy function is thread safe.

    The sseettttiimmeeooffddaayy function is not async-signal safe.

